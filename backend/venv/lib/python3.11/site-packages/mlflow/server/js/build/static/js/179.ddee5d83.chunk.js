/*! For license information please see 179.ddee5d83.chunk.js.LICENSE.txt */
"use strict";(self.webpackChunk_mlflow_mlflow=self.webpackChunk_mlflow_mlflow||[]).push([[179,848],{96034:function(e,t,r){r.d(t,{V:function(){return v}});var s=r(89555),i=r(31014),n=r(28741),a=r(33678),o=r(93215);const l=e=>{let{when:t,message:r}=e;const s=i.useContext(o.jb).navigator.block;return i.useEffect((()=>{if(!t)return;return null===s||void 0===s?void 0:s((()=>window.confirm(r)))}),[r,s,t]),null};var d=r(75703),c=r(11473),u=r(88443),p=r(64912),h=r(50111);class m extends i.Component{constructor(){super(...arguments),this.state={markdown:this.props.defaultMarkdown,selectedTab:this.props.defaultSelectedTab,error:null},this.converter=(0,c.OT)(),this.handleMdeValueChange=e=>{this.setState({markdown:e})},this.handleTabChange=e=>{this.setState({selectedTab:e})},this.handleSubmitClick=()=>{const{onSubmit:e}=this.props,{markdown:t}=this.state;return this.setState({confirmLoading:!0}),e?Promise.resolve(e(t)).then((()=>{this.setState({confirmLoading:!1,error:null})})).catch((e=>{this.setState({confirmLoading:!1,error:e&&e.getMessageField?e.getMessageField():this.props.intl.formatMessage({id:"SzvvXl",defaultMessage:"Failed to submit"})})})):null},this.handleCancelClick=()=>{this.setState({markdown:this.props.defaultMarkdown,selectedTab:this.props.defaultSelectedTab});const{onCancel:e}=this.props;e&&e()}}contentHasChanged(){return this.state.markdown!==this.props.defaultMarkdown}renderActions(){const{confirmLoading:e}=this.state;return(0,h.Y)("div",{className:"editable-note-actions","data-testid":"editable-note-actions",children:(0,h.FD)("div",{children:[(0,h.Y)(n.B,{componentId:"codegen_mlflow_app_src_common_components_editablenote.tsx_114",type:"primary",className:"editable-note-save-button",onClick:this.handleSubmitClick,disabled:!this.contentHasChanged()||e,loading:e,"data-testid":"editable-note-save-button",children:this.props.saveText}),(0,h.Y)(n.B,{componentId:"codegen_mlflow_app_src_common_components_editablenote.tsx_124",htmlType:"button",className:"editable-note-cancel-button",onClick:this.handleCancelClick,disabled:e,children:(0,h.Y)(u.A,{id:"17k196",defaultMessage:"Cancel"})})]})})}getSanitizedHtmlContent(){const{markdown:e}=this.state;if(e){const t=(0,c.NW)(this.converter.makeHtml(e));return(0,c.Yc)(t)}return null}render(){const{showEditor:e}=this.props,{markdown:t,selectedTab:r,error:s}=this.state,n=this.getSanitizedHtmlContent();return(0,h.Y)("div",{className:"note-view-outer-container","data-testid":"note-view-outer-container",children:e?(0,h.FD)(i.Fragment,{children:[(0,h.Y)("div",{className:"note-view-text-area",children:(0,h.Y)(d.default,{value:t,minEditorHeight:this.props.minEditorHeight,maxEditorHeight:this.props.maxEditorHeight,minPreviewHeight:50,childProps:this.props.childProps,toolbarCommands:this.props.toolbarCommands,onChange:this.handleMdeValueChange,selectedTab:r,onTabChange:this.handleTabChange,generateMarkdownPreview:e=>Promise.resolve(this.getSanitizedHtmlContent(e)),getIcon:e=>(0,h.Y)(g,{name:e})})}),s&&(0,h.Y)(a.FcD,{componentId:"codegen_mlflow_app_src_common_components_editablenote.tsx_178",type:"error",message:this.props.intl.formatMessage({id:"79dD5F",defaultMessage:"There was an error submitting your note."}),description:s,closable:!0}),this.renderActions(),(0,h.Y)(l,{when:this.contentHasChanged(),message:this.props.intl.formatMessage({id:"dwTTNK",defaultMessage:"Are you sure you want to navigate away? Your pending text changes will be lost."})})]}):(0,h.Y)(f,{content:n})})}}function g(e){const{theme:t}=(0,n.a)(),{name:r}=e;return(0,h.Y)(a.paO,{position:"top",title:r,children:(0,h.Y)("span",{css:(0,s.AH)({color:t.colors.textPrimary},""),children:(0,h.Y)(d.SvgIcon,{icon:r})})})}function f(e){const{content:t}=e;return t?(0,h.Y)("div",{className:"note-view-outer-container","data-testid":"note-view-outer-container",children:(0,h.Y)("div",{className:"note-view-text-area",children:(0,h.Y)("div",{className:"note-view-preview note-editor-preview",children:(0,h.Y)("div",{className:"note-editor-preview-content","data-testid":"note-editor-preview-content",dangerouslySetInnerHTML:{__html:e.content}})})})}):(0,h.Y)("div",{children:(0,h.Y)(u.A,{id:"PRe/8y",defaultMessage:"None"})})}m.defaultProps={defaultMarkdown:"",defaultSelectedTab:"write",showEditor:!1,saveText:(0,h.Y)(u.A,{id:"Shv28w",defaultMessage:"Save"}),confirmLoading:!1,toolbarCommands:[["header","bold","italic","strikethrough"],["link","quote","code","image"],["unordered-list","ordered-list","checked-list"]],maxEditorHeight:500,minEditorHeight:200,childProps:{}};const v=(0,p.Ay)(m)},98597:function(e,t,r){r.d(t,{tj:function(){return v}});var s=r(89555),i=r(33678),n=r(28741),a=r(31014),o=r(88464),l=r(50353),d=r(56412),c=r(50111);const{Paragraph:u}=n.p;var p={name:"zjik7",styles:"display:flex"},h={name:"1ff36h2",styles:"flex-grow:1"};const m=a.memo((e=>{const{theme:t}=(0,n.a)();return(0,c.Y)(l.M,{componentId:"codegen_mlflow_app_src_common_components_keyvaluetagfullviewmodal.tsx_17",title:"Tag: "+e.tagKey,visible:e.isKeyValueTagFullViewModalVisible,onCancel:()=>e.setIsKeyValueTagFullViewModalVisible(!1),children:(0,c.FD)("div",{css:p,children:[(0,c.Y)(u,{css:h,children:(0,c.Y)("pre",{css:(0,s.AH)({backgroundColor:t.colors.backgroundPrimary,marginTop:t.spacing.sm,whiteSpace:"pre-wrap",wordBreak:"break-all"},""),children:e.tagValue})}),(0,c.Y)("div",{css:(0,s.AH)({marginTop:t.spacing.sm},""),children:(0,c.Y)(d.i,{copyText:e.tagValue,showLabel:!1,icon:(0,c.Y)(i.TdU,{}),"aria-label":"Copy"})})]})})})),g=30;function f(){return!(arguments.length>0&&void 0!==arguments[0])||arguments[0]?{overflow:"hidden",textOverflow:"ellipsis",textWrap:"nowrap",whiteSpace:"nowrap"}:{whiteSpace:"nowrap"}}const v=e=>{let{isClosable:t=!1,onClose:r,tag:l,enableFullViewModal:d=!1,charLimit:u=g,maxWidth:p=300,className:h}=e;const v=(0,o.A)(),[y,_]=(0,a.useState)(!1),{shouldTruncateKey:x,shouldTruncateValue:M}=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:g;const{key:r,value:s}=e,i=r.length+s.length,n=r.length>s.length,a=n?s.length:r.length;return i<=t?{shouldTruncateKey:!1,shouldTruncateValue:!1}:a>t/2?{shouldTruncateKey:!0,shouldTruncateValue:!0}:{shouldTruncateKey:n,shouldTruncateValue:!n}}(l,u),Y=d&&(x||M),w=v.formatMessage({id:"ZXUtU8",defaultMessage:"Click to see more"});return(0,c.FD)("div",{children:[(0,c.Y)(i.vwO,{componentId:"codegen_mlflow_app_src_common_components_keyvaluetag.tsx_60",closable:t,onClose:r,title:l.key,className:h,children:(0,c.Y)(i.paO,{title:Y?w:"",children:(0,c.FD)("span",{css:(0,s.AH)({maxWidth:p,display:"inline-flex"},""),onClick:()=>Y?_(!0):void 0,children:[(0,c.Y)(n.p.Text,{bold:!0,title:l.key,css:f(x),children:l.key}),l.value&&(0,c.FD)(n.p.Text,{title:l.value,css:f(M),children:[": ",l.value]})]})})}),(0,c.Y)("div",{children:y&&(0,c.Y)(m,{tagKey:l.key,tagValue:l.value,isKeyValueTagFullViewModalVisible:y,setIsKeyValueTagFullViewModalVisible:_})})]})}},43683:function(e,t,r){r.d(t,{Q:function(){return Y}});var s=r(89555),i=r(9133),n=r(31014),a=r(28741),o=r(50353),l=r(33678),d=r(88464),c=r(88443),u=r(13369),p=r(50111);var h={name:"4zleql",styles:"display:block"};function m(e){return t=>function(e,t){const r=(0,d.A)(),{theme:o}=(0,a.a)(),c=e.props.searchValue.toLowerCase();return(0,n.useMemo)((()=>{if(!c)return e;if((0,i.sortedIndexOf)(t,c)>=0)return e;const a=/^[^,.:/=\-\s]+$/.test(c);return n.cloneElement(e,{flattenOptions:[{data:{value:c,disabled:!a,style:{color:a?o.colors.actionTertiaryTextDefault:o.colors.actionDisabledText},children:(0,p.Y)(l.paO,{title:a?void 0:r.formatMessage({id:"fWEvZL",defaultMessage:", . : / - = and blank spaces are not allowed"}),placement:"right",children:(0,p.FD)("span",{css:h,children:[(0,p.Y)(l.c11,{css:(0,s.AH)({marginRight:o.spacing.sm},"")}),r.formatMessage({id:"IJbauF",defaultMessage:'Add tag "{tagKey}"'},{tagKey:c})]})})},key:c,groupOption:!1},...e.props.flattenOptions]})}),[t,e,c,r,o])}(t,e)}var g={name:"1d3w5wq",styles:"width:100%"};function f(e){let{allAvailableTags:t,control:r,onKeyChangeCallback:s}=e;const i=(0,d.A)(),[a,o]=(0,n.useState)(!1),c=(0,n.useRef)(null),{field:h,fieldState:f}=(0,u.as)({control:r,name:"key",rules:{required:{message:i.formatMessage({id:"RlBbjb",defaultMessage:"A tag key is required"}),value:!0}}});return(0,p.Y)(l._vn,{allowClear:!0,ref:c,dangerouslySetAntdProps:{showSearch:!0,dropdownRender:m(t)},css:g,placeholder:i.formatMessage({id:"8ALhnh",defaultMessage:"Type a key"}),value:h.value,defaultValue:h.value,open:a,onDropdownVisibleChange:e=>{o(e)},filterOption:(e,t)=>null===t||void 0===t?void 0:t.value.toLowerCase().includes(e.toLowerCase()),onSelect:e=>{h.onChange(e),null===s||void 0===s||s(e)},onClear:()=>{h.onChange(void 0),null===s||void 0===s||s(void 0)},validationState:f.error?"error":void 0,children:t.map((e=>(0,p.Y)(l._vn.Option,{value:e,children:e},e)))})}var v=r(98597),y=r(52350);function _(e){return new Map(e.map((e=>[e.key,e])))}var x={name:"82a6rk",styles:"flex:1"},M={name:"82a6rk",styles:"flex:1"};const Y=e=>{let{onSuccess:t,saveTagsHandler:r,allAvailableTags:h,valueRequired:m=!1}=e;const g=(0,n.useRef)(),[Y,w]=(0,n.useState)(""),{theme:I}=(0,a.a)(),[b,C]=(0,n.useState)(new Map),[R,k]=(0,n.useState)(new Map),[S,D]=(0,n.useState)(!1),N=(0,u.mN)({defaultValues:{key:void 0,value:""}}),T=()=>D(!1),F=(0,n.useCallback)((e=>{g.current=e,C(_(e.tags||[])),k(_(e.tags||[])),N.reset(),D(!0)}),[N]),E=async()=>{g.current&&(w(""),B(!0),r(g.current,Array.from(b.values()),Array.from(R.values())).then((()=>{T(),null===t||void 0===t||t(),B(!1)})).catch((e=>{var t;B(!1),w(e instanceof y.s?null===(t=e.getUserVisibleError())||void 0===t?void 0:t.message:e.message)})))},U=(0,d.A)(),H=N.watch(),[L,B]=(0,n.useState)(!1),P=(0,n.useMemo)((()=>!(0,i.isEqual)((0,i.sortBy)(Array.from(b.values()),"key"),(0,i.sortBy)(Array.from(R.values()),"key"))),[b,R]),V=H.key||H.value,z=P&&V;return{EditTagsModal:(0,p.FD)(o.M,{componentId:"codegen_mlflow_app_src_common_hooks_useeditkeyvaluetagsmodal.tsx_135",destroyOnClose:!0,visible:S,title:(0,p.Y)(c.A,{id:"TBX+Gs",defaultMessage:"Add/Edit tags"}),onCancel:T,footer:(0,p.FD)(a.R,{children:[(0,p.Y)(a.B,{componentId:"codegen_mlflow_app_src_common_hooks_useeditkeyvaluetagsmodal.tsx_147",dangerouslyUseFocusPseudoClass:!0,onClick:T,css:(0,s.AH)({marginRight:P?0:I.spacing.sm},""),children:U.formatMessage({id:"2a/rR8",defaultMessage:"Cancel"})}),z?(0,p.Y)(A,{formValues:H,isLoading:L,onSaveTask:E}):(0,p.Y)(l.paO,{title:P?void 0:U.formatMessage({id:"16onEc",defaultMessage:"Please add or remove one or more tags before saving"}),children:(0,p.Y)(a.B,{componentId:"codegen_mlflow_app_src_common_hooks_useeditkeyvaluetagsmodal.tsx_174",dangerouslyUseFocusPseudoClass:!0,disabled:!P,loading:L,type:"primary",onClick:E,children:U.formatMessage({id:"801Xh4",defaultMessage:"Save tags"})})})]}),children:[(0,p.FD)("form",{onSubmit:N.handleSubmit((()=>{if(m&&!H.value.trim())return;const e=new Map(R);e.set(H.key,H),k(e),N.reset()})),css:(0,s.AH)({display:"flex",alignItems:"flex-end",gap:I.spacing.md},""),children:[(0,p.FD)("div",{css:(0,s.AH)({minWidth:0,display:"flex",gap:I.spacing.md,flex:1},""),children:[(0,p.FD)("div",{css:x,children:[(0,p.Y)(l.D$Q.Label,{htmlFor:"key",children:U.formatMessage({id:"crTWax",defaultMessage:"Key"})}),(0,p.Y)(f,{allAvailableTags:h||[],control:N.control,onKeyChangeCallback:e=>{var t;const r=e?R.get(e):void 0;N.setValue("value",null!==(t=null===r||void 0===r?void 0:r.value)&&void 0!==t?t:"")}})]}),(0,p.FD)("div",{css:M,children:[(0,p.Y)(l.D$Q.Label,{htmlFor:"value",children:m?U.formatMessage({id:"tHrp+A",defaultMessage:"Value"}):U.formatMessage({id:"4B8k46",defaultMessage:"Value (optional)"})}),(0,p.Y)(l.tc_.Input,{componentId:"codegen_mlflow_app_src_common_hooks_useeditkeyvaluetagsmodal.tsx_223",name:"value",control:N.control,"aria-label":m?U.formatMessage({id:"tHrp+A",defaultMessage:"Value"}):U.formatMessage({id:"4B8k46",defaultMessage:"Value (optional)"}),placeholder:U.formatMessage({id:"FFe+Ug",defaultMessage:"Type a value"})})]})]}),(0,p.Y)(l.paO,{title:U.formatMessage({id:"tx3aAM",defaultMessage:"Add tag"}),children:(0,p.Y)(a.B,{componentId:"codegen_mlflow_app_src_common_hooks_useeditkeyvaluetagsmodal.tsx_248",htmlType:"submit","aria-label":U.formatMessage({id:"tx3aAM",defaultMessage:"Add tag"}),children:(0,p.Y)(l.c11,{})})})]}),Y&&(0,p.Y)(l.D$Q.Message,{type:"error",message:Y}),(0,p.Y)("div",{css:(0,s.AH)({display:"flex",rowGap:I.spacing.xs,flexWrap:"wrap",marginTop:I.spacing.sm},""),children:Array.from(R.values()).map((e=>(0,p.Y)(v.tj,{isClosable:!0,tag:e,onClose:()=>(e=>{let{key:t}=e;k((e=>(e.delete(t),new Map(e))))})(e)},e.key)))})]}),showEditTagsModal:F,isLoading:L}};var w={name:"1y0ex1",styles:"max-width:400px"};function A(e){let{isLoading:t,formValues:r,onSaveTask:n}=e;const o=(0,d.A)(),{theme:l}=(0,a.a)(),c=`${`${(0,i.truncate)(r.key,{length:20})||"_"}`}${r.value?`:${(0,i.truncate)(r.value,{length:20})}`:""}`,u=o.formatMessage({id:"wcSVYI",defaultMessage:'Are you sure you want to save and close without adding "{tag}"'},{tag:c});return(0,p.FD)(a.a2.Root,{componentId:"codegen_mlflow_app_src_common_hooks_useeditkeyvaluetagsmodal.tsx_309",children:[(0,p.Y)(a.a2.Trigger,{asChild:!0,children:(0,p.Y)(a.B,{componentId:"codegen_mlflow_app_src_common_hooks_useeditkeyvaluetagsmodal.tsx_306",dangerouslyUseFocusPseudoClass:!0,loading:t,type:"primary",children:o.formatMessage({id:"801Xh4",defaultMessage:"Save tags"})})}),(0,p.FD)(a.a2.Content,{align:"end","aria-label":u,children:[(0,p.Y)(a.p.Paragraph,{css:w,children:u}),(0,p.Y)(a.a2.Close,{asChild:!0,children:(0,p.Y)(a.B,{componentId:"codegen_mlflow_app_src_common_hooks_useeditkeyvaluetagsmodal.tsx_316",onClick:n,children:o.formatMessage({id:"mv6CY3",defaultMessage:"Yes, save and close"})})}),(0,p.Y)(a.a2.Close,{asChild:!0,children:(0,p.Y)(a.B,{componentId:"codegen_mlflow_app_src_common_hooks_useeditkeyvaluetagsmodal.tsx_324",type:"primary",css:(0,s.AH)({marginLeft:l.spacing.sm},""),children:o.formatMessage({id:"geizp1",defaultMessage:"Cancel"})})}),(0,p.Y)(a.a2.Arrow,{})]})]})}},46161:function(e,t,r){r.r(t),r.d(t,{RunPage:function(){return Br},default:function(){return Pr}});var s=r(89555),i=r(33678),n=r(28741),a=r(10811),o=r(4877),l=r.n(o),d=r(31014),c=r(48588),u=r(93215),p=r(76010),h=r(25866),m=r(53677),g=r(9133),f=r.n(g),v=r(88443),y=r(25869),_=r(64912),x=r(64408),M=r(38566),Y=r(61902),w=r.n(Y),A=r(50353),I=r(87665),b=r(69708),C=r(7204),R=r(59508),k=r(50111);class S extends d.Component{constructor(){super(),this.form=void 0,this.state={visible:!1,confirmLoading:!1,modelByName:{}},this.createRegisteredModelRequestId=(0,C.yk)(),this.createModelVersionRequestId=(0,C.yk)(),this.searchModelVersionRequestId=(0,C.yk)(),this.showRegisterModal=()=>{this.setState({visible:!0})},this.hideRegisterModal=()=>{var e,t;this.setState({visible:!1}),null===(e=(t=this.props).onCloseModal)||void 0===e||e.call(t)},this.resetAndClearModalForm=()=>{var e,t,r;this.setState({visible:!1,confirmLoading:!1}),null===(e=this.form.current)||void 0===e||e.resetFields(),null===(t=(r=this.props).onCloseModal)||void 0===t||t.call(r)},this.handleRegistrationFailure=e=>{this.setState({confirmLoading:!1}),p.A.logErrorAndNotifyUser(e)},this.handleSearchRegisteredModels=e=>{this.props.searchRegisteredModelsApi((0,R.pc)(e),5)},this.reloadModelVersionsForCurrentRun=()=>{const{runUuid:e}=this.props;return this.props.searchModelVersionsApi({run_id:e},this.searchModelVersionRequestId)},this.handleRegisterModel=()=>this.form.current.validateFields().then((e=>{this.setState({confirmLoading:!0});const{runUuid:t,modelPath:r}=this.props,s=e[I.BE];var i,n,a,o;return s===I.QN?this.props.createRegisteredModelApi(e[I.F3],this.createRegisteredModelRequestId).then((()=>this.props.createModelVersionApi(e[I.F3],r,t,[],this.createModelVersionRequestId))).then(null!==(i=this.props.onRegisterSuccess)&&void 0!==i?i:g.identity).then(this.resetAndClearModalForm).catch(null!==(n=this.props.onRegisterFailure)&&void 0!==n?n:this.handleRegistrationFailure).then(this.reloadModelVersionsForCurrentRun).catch(p.A.logErrorAndNotifyUser):this.props.createModelVersionApi(s,r,t,[],this.createModelVersionRequestId).then(null!==(a=this.props.onRegisterSuccess)&&void 0!==a?a:g.identity).then(this.resetAndClearModalForm).catch(null!==(o=this.props.onRegisterFailure)&&void 0!==o?o:this.handleRegistrationFailure).then(this.reloadModelVersionsForCurrentRun).catch(p.A.logErrorAndNotifyUser)})),this.form=d.createRef()}componentDidMount(){this.props.searchRegisteredModelsApi()}componentDidUpdate(e,t){!1===t.visible&&!0===this.state.visible&&this.props.searchRegisteredModelsApi()}renderRegisterModelForm(){const{modelByName:e}=this.props;return(0,k.Y)(I.xH,{modelByName:e,innerRef:this.form,onSearchRegisteredModels:f().debounce(this.handleSearchRegisteredModels,300)})}renderFooter(){return[(0,k.Y)(n.B,{componentId:"codegen_mlflow_app_src_model-registry_components_registermodel.tsx_242",onClick:this.hideRegisterModal,children:(0,k.Y)(v.A,{id:"iwD/Dv",defaultMessage:"Cancel"})},"back"),(0,k.Y)(n.B,{componentId:"codegen_mlflow_app_src_model-registry_components_registermodel.tsx_248",type:"primary",onClick:()=>this.handleRegisterModel(),"data-test-id":"confirm-register-model",children:(0,k.Y)(v.A,{id:"wBFfWW",defaultMessage:"Register"})},"submit")]}renderHelper(e,t,r){const{visible:s,confirmLoading:a}=this.state,{showButton:o=!0,buttonType:l}=this.props;return(0,k.FD)("div",{className:"register-model-btn-wrapper",children:[o&&(0,k.Y)(i.paO,{title:this.props.tooltip||null,placement:"left",children:(0,k.Y)(n.B,{componentId:"codegen_mlflow_app_src_model-registry_components_registermodel.tsx_261",className:"register-model-btn",type:l,onClick:this.showRegisterModal,disabled:e,htmlType:"button",children:(0,k.Y)(v.A,{id:"YQ+Eon",defaultMessage:"Register model"})})}),(0,k.Y)(A.M,{title:this.props.intl.formatMessage({id:"qSpgg/",defaultMessage:"Register model"}),width:540,visible:this.props.modalVisible||s,onOk:()=>this.handleRegisterModel(),okText:this.props.intl.formatMessage({id:"9W3kev",defaultMessage:"Register"}),confirmLoading:a,onCancel:this.hideRegisterModal,centered:!0,footer:r,children:t})]})}render(){const{disabled:e}=this.props;return this.renderHelper(e,this.renderRegisterModelForm(),this.renderFooter())}}const D={createRegisteredModelApi:b.eF,createModelVersionApi:b.Ey,searchModelVersionsApi:b.hY,searchRegisteredModelsApi:b.JK},N=(0,_.Ay)(S),T=(0,a.Ng)((e=>({modelByName:e.entities.modelByName})),D)(N);var F=r(96588),E=r(81866),U=r(69869),H=r(72877),L=r(65871),B=r(26809),P=r(77484),V=r(17275),z=r(98590),O=r(56412),K=r(91144);const{Text:$}=n.p;var W={name:"ou8xsw",styles:"flex:0 0 auto"},q={name:"1l0i7xs",styles:"flex:1 1;overflow:hidden"},j={name:"i3oi5p",styles:"flex:0 1"};class G extends d.Component{constructor(){super(...arguments),this.state={activeNodeId:void 0,toggledNodeIds:{},requestedNodeIds:new Set,viewAsTable:!0},this.onToggleTreebeard=(e,t)=>{const{id:r,loading:s}=e,i=(0,K.Dz)()&&this.props.isLoggedModelsMode,n=new Set(this.state.requestedNodeIds);s&&!this.state.requestedNodeIds.has(r)&&(i&&this.props.loggedModelId?this.props.listArtifactsLoggedModelApi(this.props.loggedModelId,r):this.props.listArtifactsApi(this.props.runUuid,r)),this.setState({activeNodeId:r,toggledNodeIds:{...this.state.toggledNodeIds,[r]:t},requestedNodeIds:n})},this.getTreebeardData=e=>{const{isRoot:t}=e;if(t){if(e.children)return Object.values(e.children).map((e=>this.getTreebeardData(e)));throw Error("unreachable code.")}let r,s,i,n,a;if(e.fileInfo){const{path:t}=e.fileInfo;r=t,s=(0,x.hA)(t)}const o=this.state.toggledNodeIds[r];o&&(i=o),e.children&&(n=Object.values(e.children).map((e=>this.getTreebeardData(e)))),this.state.activeNodeId===r&&(a=!0);return{id:r,name:s,toggled:i,children:n,active:a,loading:void 0!==e.children&&!e.isLoaded}}}getExistingModelVersions(){const{modelVersionsBySource:e}=this.props;return e[p.A.normalize(this.getActiveNodeRealPath())]}renderRegisterModelButton(){const{runUuid:e}=this.props,{activeNodeId:t}=this.state,r=this.getActiveNodeRealPath();return(0,k.Y)(T,{runUuid:e,modelPath:r,modelRelativePath:String(t),disabled:void 0===t,showButton:!0,buttonType:void 0})}renderModelVersionInfoSection(e){return(0,k.Y)(J,{modelVersion:f().last(e)})}renderPathAndSizeInfo(){const e=M.x.findChild(this.props.artifactNode,this.state.activeNodeId),t=this.getActiveNodeRealPath();return(0,k.FD)("div",{className:"artifact-info-left",children:[(0,k.FD)("div",{className:"artifact-info-path",children:[(0,k.Y)("label",{children:(0,k.Y)(v.A,{id:"axF2gD",defaultMessage:"Full Path:"})})," ",(0,k.Y)($,{className:"artifact-info-text",ellipsis:!0,copyable:!0,children:t})]}),!1===e.fileInfo.is_dir?(0,k.FD)("div",{className:"artifact-info-size",children:[(0,k.Y)("label",{children:(0,k.Y)(v.A,{id:"mpHsCg",defaultMessage:"Size:"})})," ",w()(this.getActiveNodeSize())]}):null]})}renderSizeInfo(){const e=M.x.findChild(this.props.artifactNode,this.state.activeNodeId),{theme:t}=this.props.designSystemThemeApi;return(0,k.FD)("div",{style:{display:"flex",alignItems:"center",gap:t.spacing.sm,overflow:"hidden",textOverflow:"ellipsis"},children:[(0,k.Y)(n.p.Text,{bold:!0,size:"lg",ellipsis:!0,title:this.state.activeNodeId,children:this.state.activeNodeId}),!1===e.fileInfo.is_dir&&(0,k.Y)(n.p.Text,{color:"secondary",children:w()(this.getActiveNodeSize())})]})}renderPathInfo(){const e=this.getActiveNodeRealPath(),{theme:t}=this.props.designSystemThemeApi;return(0,k.FD)("div",{css:(0,s.AH)({display:"flex",overflow:"hidden",alignItems:"center",gap:t.spacing.sm},""),children:[(0,k.FD)("div",{css:(0,s.AH)({overflow:"hidden",whiteSpace:"nowrap",textOverflow:"ellipsis",flex:"0 auto",color:t.colors.textSecondary},""),title:e,children:[(0,k.Y)(v.A,{id:"YZDyOo",defaultMessage:"Path:"})," ",e]}),(0,k.Y)(O.i,{css:W,showLabel:!1,size:"small",type:"tertiary",copyText:e,icon:(0,k.Y)(i.TdU,{})})]})}onDownloadClick(e,t){window.location.href=(0,P.To)(t,e)}renderControls(){const{runUuid:e}=this.props,{activeNodeId:t}=this.state;return(0,k.Y)("div",{style:{display:"flex",alignItems:"flex-start"},children:(0,k.FD)("div",{style:{display:"inline-flex",alignItems:"center"},children:[this.shouldShowViewAsTableCheckbox&&(0,k.Y)(i.Sc0,{componentId:"codegen_mlflow_app_src_experiment-tracking_components_artifactview.tsx_288",isChecked:this.state.viewAsTable,onChange:()=>this.setState({viewAsTable:!this.state.viewAsTable}),children:(0,k.Y)(v.A,{id:"zv4Ycc",defaultMessage:"View as table"})}),(0,k.Y)(i.paO,{arrowPointAtCenter:!0,placement:"topLeft",title:this.props.intl.formatMessage({id:"Y9ZFyN",defaultMessage:"Download artifact"}),children:(0,k.Y)(n.B,{componentId:"codegen_mlflow_app_src_experiment-tracking_components_artifactview.tsx_337",icon:(0,k.Y)(i.s3U,{}),onClick:()=>this.onDownloadClick(e,t)})})]})})}renderArtifactInfo(){const e=this.getExistingModelVersions();let t;t=e&&p.A.isModelRegistryEnabled()?this.renderModelVersionInfoSection(e):this.activeNodeCanBeRegistered()&&p.A.isModelRegistryEnabled()?this.renderRegisterModelButton():this.activeNodeIsDirectory()?null:this.renderControls();const{theme:r}=this.props.designSystemThemeApi;return(0,k.FD)("div",{css:(0,s.AH)({padding:`${r.spacing.xs}px ${r.spacing.sm}px ${r.spacing.sm}px ${r.spacing.md}px`,display:"flex",flexDirection:"column",gap:r.spacing.xs},""),children:[(0,k.FD)("div",{css:(0,s.AH)({whiteSpace:"nowrap",display:"flex",justifyContent:"space-between",alignItems:"center",gap:r.spacing.md},""),children:[(0,k.Y)("div",{css:q,children:this.renderSizeInfo()}),(0,k.Y)("div",{css:j,children:t})]}),this.renderPathInfo()]})}getActiveNodeRealPath(){return this.state.activeNodeId?`${this.props.artifactRootUri}/${this.state.activeNodeId}`:this.props.artifactRootUri}getActiveNodeSize(){if(this.state.activeNodeId){const e=M.x.findChild(this.props.artifactNode,this.state.activeNodeId).fileInfo.file_size||"0";return parseInt(e,10)}return 0}activeNodeIsDirectory(){if(this.state.activeNodeId){return M.x.findChild(this.props.artifactNode,this.state.activeNodeId).fileInfo.is_dir}return!0}activeNodeCanBeRegistered(){if(this.state.activeNodeId){const e=M.x.findChild(this.props.artifactNode,this.state.activeNodeId);if(e&&e.children&&h.eh in e.children)return!0}return!1}componentDidUpdate(e,t){const{activeNodeId:r}=this.state;t.activeNodeId!==r&&this.props.handleActiveNodeChange(this.activeNodeIsDirectory())}componentDidMount(){if(this.props.initialSelectedArtifactPath){const t=this.props.initialSelectedArtifactPath.split("/");if(t)try{M.x.findChild(this.props.artifactNode,this.props.initialSelectedArtifactPath)}catch(e){return void console.error(e)}let r="";const s={activeNodeId:this.props.initialSelectedArtifactPath,toggledNodeIds:{}};t.forEach((e=>{r+=e,s.toggledNodeIds[r]=!0,r+="/"})),this.setArtifactState(s)}}setArtifactState(e){this.setState(e)}get shouldShowViewAsTableCheckbox(){return this.state.activeNodeId&&this.props.runTags&&(0,z.L9)(this.props.runTags).includes(this.state.activeNodeId)}render(){if(M.x.isEmpty(this.props.artifactNode))return(0,k.Y)(Z,{useAutoHeight:this.props.useAutoHeight});const{theme:e}=this.props.designSystemThemeApi,{loggedModelId:t,isLoggedModelsMode:r}=this.props;return(0,k.FD)("div",{className:"artifact-view",css:(0,s.AH)({flex:this.props.useAutoHeight?1:"unset",height:this.props.useAutoHeight?"auto":void 0,[e.responsive.mediaQueries.xs]:{overflowX:"auto"}},""),children:[(0,k.Y)("div",{style:{minWidth:"200px",maxWidth:"400px",flex:1,whiteSpace:"nowrap",borderRight:`1px solid ${e.colors.borderDecorative}`},children:(0,k.Y)(V.K,{data:this.getTreebeardData(this.props.artifactNode),onToggleTreebeard:this.onToggleTreebeard})}),(0,k.FD)("div",{className:"artifact-right",children:[this.state.activeNodeId?this.renderArtifactInfo():null,(0,k.Y)(F.A,{runUuid:this.props.runUuid,path:this.state.activeNodeId,isDirectory:this.activeNodeIsDirectory(),size:this.getActiveNodeSize(),runTags:this.props.runTags,artifactRootUri:this.props.artifactRootUri,modelVersions:this.props.modelVersions,showArtifactLoggedTableView:this.state.viewAsTable&&this.shouldShowViewAsTableCheckbox,loggedModelId:t,isLoggedModelsMode:r})]})]})}}const X={listArtifactsApi:B.cN,listArtifactsLoggedModelApi:B.bb},Q=(0,a.Ng)(((e,t)=>{var r;const{runUuid:s,loggedModelId:i,isLoggedModelsMode:n}=t,{apis:a}=e,o=n&&i?(0,H.ej)(i,e):(0,H.ej)(s,e),l=null!==(r=null===t||void 0===t?void 0:t.artifactRootUri)&&void 0!==r?r:(0,H.vb)(s,e),d=(0,L.U_)(e),c=f().flatMap(d,(e=>({...e,source:p.A.normalize(e.source)})));return{artifactNode:o,artifactRootUri:l,modelVersions:d,modelVersionsBySource:f().groupBy(c,"source"),apis:a}}),X)((0,n.$)((0,_.Ay)(G)));function J(e){const{modelVersion:t}=e,{name:r,version:s,status:n,status_message:a}=t;let o=U.fM.getModelVersionPageRoute(r,s);const l=(0,k.Y)(i.paO,{title:`${r} version ${s}`,children:(0,k.FD)(u.N_,{to:o,className:"model-version-link",target:"_blank",rel:"noreferrer",children:[(0,k.Y)("span",{className:"model-name",children:r}),(0,k.FD)("span",{children:[",\xa0v",s,"\xa0"]}),(0,k.Y)("i",{className:"fas fa-external-link-o"})]})});return(0,k.FD)("div",{className:"model-version-info",children:[(0,k.FD)("div",{className:"model-version-link-section",children:[(0,k.Y)(i.paO,{title:a||E.zr[n],children:(0,k.Y)("div",{children:E.UA[n]})}),l]}),(0,k.Y)("div",{className:"model-version-status-text",children:n===E.IP.READY?(0,k.Y)(d.Fragment,{children:(0,k.Y)(v.A,{id:"nVndit",defaultMessage:"Registered on {registeredDate}",values:{registeredDate:p.A.formatTimestamp(t.creation_timestamp,"yyyy/mm/dd")}})}):a||E.zA[n]})]})}function Z(e){let{useAutoHeight:t}=e;const{theme:r}=(0,n.a)();return(0,k.Y)("div",{css:(0,s.AH)({flex:t?1:"unset",height:t?"auto":void 0,paddingTop:r.spacing.md,display:"flex",justifyContent:"center",alignItems:"center"},""),children:(0,k.Y)(i.SvL,{image:(0,k.Y)(i.BfH,{}),title:(0,k.Y)(v.A,{id:"X3F7x3",defaultMessage:"No Artifacts Recorded"}),description:(0,k.Y)(v.A,{id:"3geT+I",defaultMessage:"Use the log artifact APIs to store file outputs from MLflow runs."})})})}var ee=r(53140),te=r(8220),re=r(57596);class se extends d.Component{constructor(){super(...arguments),this.pollIntervalId=void 0,this.getFailedtoListArtifactsMsg=()=>(0,k.Y)("span",{children:(0,k.Y)(v.A,{id:"V4CsL/",defaultMessage:"Unable to list artifacts stored under {artifactUri} for the current run. Please contact your tracking server administrator to notify them of this error, which can happen when the tracking server lacks permission to list artifacts under the current run's root artifact directory.",values:{artifactUri:this.props.artifactRootUri}})}),this.state={activeNodeIsDirectory:!1,errorThrown:!1},this.searchRequestId=(0,C.yk)(),this.listArtifactRequestIds=[(0,C.yk)()].concat(this.props.initialSelectedArtifactPath?this.props.initialSelectedArtifactPath.split("/").map((e=>(0,C.yk)())):[]),this.pollModelVersionsForCurrentRun=async()=>{const{apis:e,runUuid:t,isLoggedModelsMode:r}=this.props,{activeNodeIsDirectory:s}=this.state,i=e[this.searchRequestId];if((!r||t)&&s&&(!i||!i.active))try{await this.props.searchModelVersionsApi({run_id:t},this.searchRequestId)}catch(n){if(!this.state.errorThrown){const e=`Error while fetching model version for run: ${n instanceof Error?n.toString():JSON.stringify(n)}`;p.A.logErrorAndNotifyUser(e),this.setState({errorThrown:!0})}}},this.handleActiveNodeChange=e=>{this.setState({activeNodeIsDirectory:e})},this.pollArtifactsForCurrentRun=async()=>{const{runUuid:e,loggedModelId:t}=this.props,r=(0,K.Dz)()&&this.props.isLoggedModelsMode;if(r&&t?await this.props.listArtifactsLoggedModelApi(this.props.loggedModelId,void 0,this.listArtifactRequestIds[0]):await this.props.listArtifactsApi(e,void 0,this.listArtifactRequestIds[0]),this.props.initialSelectedArtifactPath){const s=this.props.initialSelectedArtifactPath.split("/");let i="";for(let n=0;n<s.length;n++)i+=s[n],r&&t?await this.props.listArtifactsLoggedModelApi(this.props.loggedModelId,i,this.listArtifactRequestIds[n+1]):await this.props.listArtifactsApi(e,i,this.listArtifactRequestIds[n+1]),i+="/"}},this.renderErrorCondition=e=>e,this.renderArtifactView=(e,t,r)=>{if(e)return(0,k.Y)(te.d,{});if(this.renderErrorCondition(t)){const e=r[0];return e&&e.error&&console.error(e.error),(0,k.Y)(re.F,{css:(0,s.AH)({flex:this.props.useAutoHeight?1:"unset",height:this.props.useAutoHeight?"auto":void 0},""),"data-testid":"artifact-view-error",description:this.getFailedtoListArtifactsMsg()})}return(0,k.Y)(Q,{...this.props,handleActiveNodeChange:this.handleActiveNodeChange,useAutoHeight:this.props.useAutoHeight})}}componentDidMount(){p.A.isModelRegistryEnabled()&&(this.pollModelVersionsForCurrentRun(),this.pollIntervalId=setInterval(this.pollModelVersionsForCurrentRun,E.Gs)),this.pollArtifactsForCurrentRun()}componentDidUpdate(e){e.runUuid!==this.props.runUuid&&this.setState({errorThrown:!1})}componentWillUnmount(){p.A.isModelRegistryEnabled()&&clearInterval(this.pollIntervalId)}render(){return(0,k.Y)(ee.Ay,{requestIds:this.listArtifactRequestIds,children:this.renderArtifactView})}}const ie={listArtifactsApi:B.cN,listArtifactsLoggedModelApi:B.bb,searchModelVersionsApi:b.hY},ne=(0,a.Ng)(((e,t)=>{var r;const{runUuid:s,location:i}=t,n=((null===i||void 0===i?void 0:i.pathname)||"").match(/\/(?:artifactPath|artifacts)\/(.+)/),a=(null===n||void 0===n?void 0:n[1])||void 0,{apis:o}=e,l=null!==(r=t.artifactRootUri)&&void 0!==r?r:(0,H.vb)(s,e);let d=a;if(!d){var c;const e=(0,z.x1)(null!==(c=t.runTags)&&void 0!==c?c:{});e.length>0&&(d=f().first(e))}return{artifactRootUri:l,apis:o,initialSelectedArtifactPath:d}}),ie)(se);var ae=(0,y.h)(ne),oe=r(53606);const le=e=>{let{runTags:t,artifactUri:r,runUuid:i}=e;const{theme:a}=(0,n.a)(),o=(0,oe.U)(`(min-width: ${a.responsive.breakpoints.sm}px)`);return(0,k.Y)("div",{css:(0,s.AH)({flex:1,overflow:"hidden",display:"flex",paddingBottom:a.spacing.md,position:"relative"},""),children:(0,k.Y)(ae,{runUuid:i,runTags:t,useAutoHeight:o,artifactRootUri:r})})};var de=r(79085),ce=r(58481);const ue=()=>{const{"*":e}=(0,u.g)();return"model-metrics"===e?h.N3.MODEL_METRIC_CHARTS:"system-metrics"===e?h.N3.SYSTEM_METRIC_CHARTS:(0,K.oX)()&&"traces"===e?h.N3.TRACES:null!==e&&void 0!==e&&e.match(/^(artifactPath|artifacts)/)?h.N3.ARTIFACTS:h.N3.OVERVIEW},pe=[h.N3.ARTIFACTS,h.N3.EVALUATIONS],he=()=>{const{experimentId:e,runUuid:t}=(0,u.g)(),r=(0,u.Zp)(),s=ue(),[n,a]=(0,d.useState)(pe.includes(s));return(0,k.FD)(i.Y6f,{activeKey:s,onChange:i=>{e&&t&&s!==i&&(a(pe.includes(i)),i!==h.N3.OVERVIEW?r(ce.h.getRunPageTabRoute(e,t,i)):r(ce.h.getRunPageRoute(e,t)))},tabBarStyle:{margin:n&&"0px"},children:[(0,k.Y)(i.Y6f.TabPane,{tab:(0,k.Y)(v.A,{id:"kA+QJr",defaultMessage:"Overview"})},h.N3.OVERVIEW),(0,k.Y)(i.Y6f.TabPane,{tab:(0,k.Y)(v.A,{id:"j25Ttg",defaultMessage:"Model metrics"})},h.N3.MODEL_METRIC_CHARTS),(0,k.Y)(i.Y6f.TabPane,{tab:(0,k.Y)(v.A,{id:"hFlaPP",defaultMessage:"System metrics"})},h.N3.SYSTEM_METRIC_CHARTS),(0,K.oX)()&&(0,k.Y)(i.Y6f.TabPane,{tab:(0,k.Y)(v.A,{id:"s8a93+",defaultMessage:"Traces"})},h.N3.TRACES),(0,k.Y)(i.Y6f.TabPane,{tab:(0,k.Y)(v.A,{id:"vPqFJE",defaultMessage:"Artifacts"})},h.N3.ARTIFACTS)]})};var me=r(21317);var ge={name:"s5xdrg",styles:"display:flex;align-items:center"},fe={name:"2ecpu6",styles:"margin-left:8px;margin-right:4px"};function ve(e){let{models:t,onRegisterClick:r,experimentId:a,runUuid:o}=e;const{theme:l}=(0,n.a)(),d=(e,t)=>(0,k.FD)(i.rId.Group,{children:[(0,k.Y)(i.rId.Label,{children:e}),t.map((e=>{const t=(0,g.first)(e.registeredVersions);if(!t)return(0,k.FD)(i.rId.Item,{componentId:"codegen_mlflow_app_src_experiment-tracking_components_run-page_runviewheaderregistermodelbutton.tsx_50",onClick:()=>r(e),children:[(0,k.Y)("div",{css:(0,s.AH)({marginRight:l.spacing.md},""),children:(0,g.last)(e.path.split("/"))}),(0,k.Y)(i.rId.HintColumn,{children:(0,k.Y)(u.N_,{target:"_blank",to:ce.h.getRunPageTabRoute(a,o,"artifacts/"+e.path),children:(0,k.Y)(n.B,{componentId:"codegen_mlflow_app_src_experiment-tracking_components_run-page_runviewheaderregistermodelbutton.tsx_58",type:"link",size:"small",onClick:e=>{e.stopPropagation()},endIcon:(0,k.Y)(n.a0,{}),children:(0,k.Y)(v.A,{id:"NqEELO",defaultMessage:"View model"})})})})]},e.absolutePath);const{status:d,name:c,version:p}=t;return(0,k.Y)(u.N_,{target:"_blank",to:ye(t),children:(0,k.FD)(i.rId.Item,{componentId:"codegen_mlflow_app_src_experiment-tracking_components_run-page_runviewheaderregistermodelbutton.tsx_80",children:[(0,k.Y)(i.rId.IconWrapper,{css:ge,children:"READY"===d?(0,k.Y)(me.h,{}):E.UA[d]}),(0,k.FD)("span",{css:(0,s.AH)({marginRight:l.spacing.md},""),children:[c,(0,k.FD)(i.vwO,{componentId:"codegen_mlflow_app_src_experiment-tracking_components_run-page_runviewheaderregistermodelbutton.tsx_90",css:fe,children:["v",p]})]}),(0,k.Y)(i.rId.HintColumn,{children:(0,k.Y)(n.B,{componentId:"codegen_mlflow_app_src_experiment-tracking_components_run-page_runviewheaderregistermodelbutton.tsx_89",type:"link",size:"small",onClick:e=>{e.stopPropagation()},endIcon:(0,k.Y)(n.a0,{}),children:(0,k.Y)(v.A,{id:"T1sd79",defaultMessage:"Go to model"})})})]})},e.absolutePath)}))]}),c=t.filter((e=>e.registeredVersions.length>0)),p=t.filter((e=>!e.registeredVersions.length));return(0,k.FD)(k.FK,{children:[p.length?d("Unregistered models",p):null,p.length&&c.length?(0,k.Y)(i.rId.Separator,{}):null,c.length?d("Registered models",c):null]})}const ye=e=>{const{name:t,version:r}=e;return U.fM.getModelVersionPageRoute(t,r)},_e=e=>{let{runUuid:t,experimentId:r,runTags:o,artifactRootUri:l}=e;const{theme:c}=(0,n.a)(),h=(0,a.d4)((e=>(0,g.orderBy)(e.entities.modelVersionsByRunUuid[t]))),m=(0,d.useMemo)((()=>o?p.A.getLoggedModelsFromTags(o).map((e=>{let{artifactPath:t}=e;return t})):[]),[o]),f=(0,d.useMemo)((()=>(0,g.orderBy)(m.map((e=>({path:e,absolutePath:`${l}/${e}`,registeredVersions:(null===h||void 0===h?void 0:h.filter((t=>{let{source:r}=t;return r===`${l}/${e}`})))||[]}))),(e=>{var t;return parseInt((null===(t=e.registeredVersions[0])||void 0===t?void 0:t.version)||"0",10)}),"desc")),[m,h,l]),[y,_]=(0,d.useState)(null);if(f.length>1){const e=f.filter((e=>e.registeredVersions.length>0));return(0,k.FD)(k.FK,{children:[y&&(0,k.Y)(T,{runUuid:t,modelPath:y.absolutePath,modelRelativePath:y.path,disabled:!1,showButton:!1,modalVisible:!0,onCloseModal:()=>_(null)}),(0,k.FD)(i.rId.Root,{modal:!1,children:[(0,k.Y)(i.paO,{placement:"bottom",title:(0,k.Y)(v.A,{id:"qE/ZB7",defaultMessage:"{registeredCount}/{loggedCount} logged models are registered",values:{registeredCount:e.length,loggedCount:f.length}}),children:(0,k.Y)(i.rId.Trigger,{asChild:!0,children:(0,k.Y)(n.B,{componentId:"codegen_mlflow_app_src_experiment-tracking_components_run-page_runviewheaderregistermodelbutton.tsx_195",type:"primary",endIcon:(0,k.Y)(i.D3D,{}),children:(0,k.Y)(v.A,{id:"WGN2f3",defaultMessage:"Register model"})})})}),(0,k.Y)(i.rId.Content,{align:"end",children:(0,k.Y)(ve,{models:f,onRegisterClick:_,experimentId:r,runUuid:t})})]})]})}const x=(0,g.first)(f);if(!x)return null;const M=(0,g.first)(x.registeredVersions);return M?(0,k.Y)(u.N_,{to:ye(M),target:"_blank",css:(0,s.AH)({marginLeft:c.spacing.sm},""),children:(0,k.Y)(n.B,{componentId:"codegen_mlflow_app_src_experiment-tracking_components_run-page_runviewheaderregistermodelbutton.tsx_231",endIcon:(0,k.Y)(n.a0,{}),type:"link",children:"Model registered"})}):(0,k.Y)(T,{disabled:!1,runUuid:t,modelPath:x.absolutePath,modelRelativePath:x.path,showButton:!0,buttonType:"primary"})};var xe={name:"ozd7xs",styles:"flex-shrink:0"};const Me=e=>{var t;let{hasComparedExperimentsBefore:r,comparedExperimentIds:s=[],experiment:i,runDisplayName:n,runTags:a,runParams:o,runUuid:l,handleRenameRunClick:d,handleDeleteRunClick:c,artifactRootUri:p}=e;const h=[function(){var e;return r&&s?(0,k.Y)(u.N_,{to:ce.h.getCompareExperimentsPageRoute(s),children:(0,k.Y)(v.A,{id:"LLm5Bo",defaultMessage:"Displaying Runs from {numExperiments} Experiments",values:{numExperiments:s.length}})}):(0,k.Y)(u.N_,{to:ce.h.getExperimentPageRoute(null!==(e=null===i||void 0===i?void 0:i.experimentId)&&void 0!==e?e:""),"data-test-id":"experiment-runs-link",children:i.name})}()];return(0,k.FD)("div",{css:xe,children:[(0,k.FD)(de.z,{title:(0,k.Y)("span",{"data-test-id":"runs-header",children:n}),breadcrumbs:h,children:[(0,k.Y)(de.o,{menu:[{id:"overflow-rename-button",onClick:d,itemName:(0,k.Y)(v.A,{id:"fv7vQf",defaultMessage:"Rename"})},...c?[{id:"overflow-delete-button",onClick:c,itemName:(0,k.Y)(v.A,{id:"7WkP1e",defaultMessage:"Delete"})}]:[]]}),(0,k.Y)(_e,{runUuid:l,experimentId:null!==(t=null===i||void 0===i?void 0:i.experimentId)&&void 0!==t?t:"",runTags:a,artifactRootUri:p})]}),(0,k.Y)(he,{})]})};var Ye=r(87380),we=r(69526),Ae=r(88464),Ie=r(915),be=r(32039),Ce=r(32614);const Re="ChartOrder";var ke=r(75627),Se=r(59397);const De=e=>{var t;let{contextData:{metricsForRun:r},hoverData:s,chartData:{metricKey:i},isHovering:n,mode:a}=e;const o=(0,ke.bL)(s)?s.hoveredDataPoint:s;if(a===ke.QS.MultipleTracesWithScanline&&(0,ke.bL)(s)&&n)return(0,k.Y)(Se.G,{hoverData:s});if(null===o||void 0===o||!o.metricEntity)return null;const{timestamp:l,step:d,value:c}=o.metricEntity,u=(null===r||void 0===r||null===(t=r[i])||void 0===t?void 0:t.length)>1,h=(0,be.bw)(i),m=u&&h&&!(0,g.isUndefined)(l),f=u&&!h&&!(0,g.isUndefined)(d);return(0,k.FD)("div",{children:[f&&(0,k.FD)("div",{css:Ne.valueField,children:[(0,k.FD)("strong",{children:[(0,k.Y)(v.A,{id:"a02Pn6",defaultMessage:"Step"}),":"]})," ",d]}),m&&(0,k.FD)("div",{css:Ne.valueField,children:[(0,k.FD)("strong",{children:[(0,k.Y)(v.A,{id:"faLIN+",defaultMessage:"Timestamp"}),":"]})," ",p.A.formatTimestamp(l)]}),c&&(0,k.FD)("div",{css:Ne.valueField,children:[(0,k.FD)("strong",{children:[i,":"]})," ",c]})]})},Ne={valueField:{maxWidth:300,whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis"}};var Te=r(24789),Fe=r(73724),Ee=r(36118);const Ue=e=>{let{runInfo:t,metricKey:r,metricsHistory:s,onUpdate:i,xRange:a,yRange:o}=e;const{theme:l}=(0,n.a)(),c=(0,K.dD)(),{setTooltip:u,resetTooltip:p}=(0,ke.uN)({metricKey:r},c?ke.QS.MultipleTracesWithScanline:ke.QS.Simple),h=(0,d.useMemo)((()=>{var e,i;return[{uuid:null!==(e=t.runUuid)&&void 0!==e?e:"",displayName:null!==(i=t.runName)&&void 0!==i?i:"",runInfo:t,metricsHistory:{[r]:s},color:l.colors.primary}]}),[t,s,r,l]);return(0,k.Y)(Fe.h,{metricKey:r,runsData:h,xAxisKey:(0,be.bw)(r)?Ee.fj.TIME:Ee.fj.STEP,selectedXAxisMetricKey:"",onHover:u,onUnhover:p,useDefaultHoverBox:!1,lineSmoothness:0,xRange:a,yRange:o,onUpdate:i})};var He=r(65243);const Le=e=>{let{runInfo:t,metricKey:r,metricEntry:s}=e;const{theme:i}=(0,n.a)(),{setTooltip:a,resetTooltip:o}=(0,ke.uN)({metricKey:r}),l=(0,d.useMemo)((()=>{var e,n;return s?[{uuid:null!==(e=t.runUuid)&&void 0!==e?e:"",displayName:null!==(n=t.runName)&&void 0!==n?n:"",runInfo:t,metrics:{[r]:s},color:i.colors.primary}]:[]}),[t,s,r,i]);return(0,k.Y)(He.u,{metricKey:r,runsData:l,height:260,onHover:a,onUnhover:o,useDefaultHoverBox:!1,displayRunNames:!1,displayMetricKey:!1})};var Be=r(52350),Pe=r(25121),Ve=r(90765);var ze={name:"1fgcczm",styles:"cursor:grab"},Oe={name:"82a6rk",styles:"flex:1"},Ke={name:"ozd7xs",styles:"flex-shrink:0"};const $e=e=>{let{dragHandleRef:t,metricKey:r,canMoveUp:a,canMoveDown:o,onMoveUp:l,onMoveDown:d,onRefresh:c,isRefreshing:u=!1}=e;const{theme:p}=(0,n.a)();return(0,k.FD)("div",{css:(0,s.AH)({display:"flex",gap:p.spacing.sm,justifyContent:"space-between",marginBottom:p.spacing.sm,alignItems:"center"},""),children:[(0,k.FD)("div",{css:(0,s.AH)({display:"flex",gap:p.spacing.sm,alignItems:"center",overflow:"hidden"},""),children:[(0,k.Y)(i.WP0,{css:ze,ref:t}),(0,k.Y)(n.p.Title,{level:4,ellipsis:!0,withoutMargins:!0,children:r})]}),(0,k.Y)("div",{css:Oe}),u&&(0,k.Y)(n.S,{label:(0,k.Y)(v.A,{id:"zMmWhy",defaultMessage:"Chart data is refreshing"})}),(0,k.FD)(i.rId.Root,{modal:!1,children:[(0,k.Y)(i.rId.Trigger,{asChild:!0,children:(0,k.Y)(n.B,{componentId:"codegen_mlflow_app_src_experiment-tracking_components_run-page_runviewmetricchartheader.tsx_78",css:Ke,icon:(0,k.Y)(i.ssM,{}),size:"small",title:"Chart options"})}),(0,k.FD)(i.rId.Content,{children:[(0,k.Y)(i.rId.Item,{componentId:"codegen_mlflow_app_src_experiment-tracking_components_run-page_runviewmetricchartheader.tsx_87",disabled:!a,onClick:l,children:(0,k.Y)(v.A,{id:"Eh/e0j",defaultMessage:"Move up"})}),(0,k.Y)(i.rId.Item,{componentId:"codegen_mlflow_app_src_experiment-tracking_components_run-page_runviewmetricchartheader.tsx_93",disabled:!o,onClick:d,children:(0,k.Y)(v.A,{id:"Sp+Iw0",defaultMessage:"Move down"})})]})]})]})};var We=r(92206);var qe={name:"1g7ixto",styles:"height:100%;display:flex;align-items:center;justify-content:center"},je={name:"fhw977",styles:"height:300px"};const Ge=e=>{var t,r;let{metricKey:o,runInfo:l,dragGroupKey:c,onReorderWith:u,canMoveUp:p,canMoveDown:h,onMoveUp:m,onMoveDown:f,chartRefreshManager:y}=e;const{dragHandleRef:_,dragPreviewRef:x,dropTargetRef:M,isDragging:Y,isOver:w}=(0,Ve.S)({dragGroupKey:c,dragKey:o,onDrop:u}),A=(0,d.useMemo)((()=>(0,g.compact)([l.runUuid])),[l]),I=(0,d.useMemo)((()=>[o]),[o]),[b,C]=(0,d.useState)(void 0),{theme:R}=(0,n.a)(),[S,D]=(0,d.useState)(void 0),N=(0,a.d4)((e=>{var t,r;return null===(t=e.entities.sampledMetricsByRunUuid[null!==(r=l.runUuid)&&void 0!==r?r:""])||void 0===t?void 0:t[o]})),{elementRef:T,isInViewport:F}=(0,We.v)(),{isLoading:E,isRefreshing:U,resultsByRunUuid:H,refresh:L}=(0,Te.S)({runUuids:A,metricKeys:I,enabled:F,range:S,maxResults:320}),{metricsHistory:B,error:P}=(null===(t=H[null!==(r=l.runUuid)&&void 0!==r?r:""])||void 0===t?void 0:t[o])||{},V=!E&&1===(null===B||void 0===B?void 0:B.length),z=e=>D((t=>(0,g.isEqual)(t,e)?t:e)),{destroyTooltip:O}=(0,ke.uN)({metricKey:o});(0,d.useEffect)((()=>{E&&O()}),[O,E]),(0,d.useEffect)((()=>F?y.registerRefreshCallback((()=>{L()})):()=>{}),[y,L,F]);const K=(0,d.useRef)(void 0),$=e=>{var t,r,s,i;let{layout:n}=e;!0===(null===(t=n.xaxis)||void 0===t?void 0:t.autorange)&&(C(void 0),z(void 0));const a=null===(r=n.yaxis)||void 0===r?void 0:r.range;if(K.current=a?[...a]:void 0,!1===(null===(s=n.xaxis)||void 0===s?void 0:s.autorange)&&null!==(i=n.xaxis)&&void 0!==i&&i.range)if(C([...n.xaxis.range]),(0,be.bw)(o))z((0,Pe._)(N,n.xaxis.range));else{var l,d;const e=Math.floor(null===(l=n.xaxis)||void 0===l?void 0:l.range[0]),t=Math.ceil(null===(d=n.xaxis)||void 0===d?void 0:d.range[1]);z(e&&t?[e-1,t+1]:void 0)}},{resetTooltip:W}=(0,ke.uN)({metricKey:o});return(0,k.FD)("div",{role:"figure",ref:e=>{null===x||void 0===x||x(e),null===M||void 0===M||M(e)},css:(0,s.AH)({border:`1px solid ${R.colors.borderDecorative}`,borderRadius:R.general.borderRadiusBase,padding:R.spacing.md,background:R.colors.backgroundPrimary,position:"relative",overflow:"hidden"},""),children:[(0,k.FD)("div",{ref:T,onMouseLeave:W,children:[(0,k.Y)($e,{canMoveDown:h,canMoveUp:p,dragHandleRef:_,metricKey:o,onMoveDown:f,onMoveUp:m,onRefresh:L,isRefreshing:U}),(0,k.Y)("div",{css:je,children:(()=>{var e;return P?(0,k.Y)("div",{css:qe,children:(0,k.Y)(i.SvL,{image:(0,k.Y)(n.W,{}),description:P instanceof Be.s?P.getMessageField():null===P||void 0===P||null===(e=P.message)||void 0===e?void 0:e.toString(),title:(0,k.Y)(v.A,{id:"U7eJfk",defaultMessage:"Error while fetching chart data"})})}):E||!B?(0,k.Y)(i.PLz,{}):F?V?(0,k.Y)(Le,{metricKey:o,metricEntry:(0,g.first)(B),runInfo:l}):(0,k.Y)(Ue,{metricKey:o,metricsHistory:B,runInfo:l,onUpdate:$,xRange:b,yRange:K.current}):null})()})]}),Y&&(0,k.Y)("div",{css:(0,s.AH)({position:"absolute",inset:0,backgroundColor:R.isDarkMode?R.colors.blue800:R.colors.blue100},"")}),w&&(0,k.Y)("div",{css:(0,s.AH)({position:"absolute",inset:0,backgroundColor:R.isDarkMode?R.colors.blue800:R.colors.blue100,border:`2px dashed ${R.colors.blue400}`,opacity:.75},"")})]})};class Xe{constructor(){this.refreshCallbacks=[]}registerRefreshCallback(e){return this.refreshCallbacks.push(e),()=>{this.refreshCallbacks=this.refreshCallbacks.filter((t=>t!==e))}}refreshAllCharts(){this.refreshCallbacks.forEach((e=>e()))}}const{systemMetricChartsEmpty:Qe,modelMetricChartsEmpty:Je}=(0,we.YK)({systemMetricChartsEmpty:{id:"dQY7H0",defaultMessage:"No system metrics recorded"},modelMetricChartsEmpty:{id:"31EKoz",defaultMessage:"No model metrics recorded"}}),Ze=()=>(0,k.Y)(i.SvL,{title:"No matching metric keys",description:"All metrics in this section are filtered. Clear the search filter to see hidden metrics."}),et=e=>{let{label:t}=e;return(0,k.Y)(i.SvL,{title:t,description:null})},tt=(e,t)=>t.toLowerCase().startsWith(e.toLowerCase())||(0,be.RZ)(t).toLowerCase().startsWith(e.toLowerCase()),rt=e=>{let{metricKeys:t,search:r,runInfo:s,chartRefreshManager:i,onReorderChart:a}=e;const{theme:o}=(0,n.a)(),l=t.filter((e=>tt(r,e))),{canMoveDown:c,canMoveUp:u,moveChartDown:p,moveChartUp:h}=((e,t)=>({canMoveDown:t=>t!==(0,g.last)(e),canMoveUp:t=>t!==(0,g.first)(e),moveChartDown:r=>{const s=e[(0,g.indexOf)(e,r)+1];t(r,s)},moveChartUp:r=>{const s=e[(0,g.indexOf)(e,r)-1];t(r,s)}}))(l,a),m=(0,d.useMemo)((()=>({...(0,Ie.A)({maxColumns:3,gap:o.spacing.lg,additionalBreakpoints:[{breakpointWidth:2160,minColumnWidthForBreakpoint:720}]}),overflow:"hidden"})),[o]);return l.length?(0,k.Y)("div",{css:m,children:l.map(((e,t)=>(0,k.Y)(Ge,{dragGroupKey:"metricCharts",metricKey:e,runInfo:s,onReorderWith:a,canMoveUp:u(e),canMoveDown:c(e),onMoveDown:()=>p(e),onMoveUp:()=>h(e),chartRefreshManager:i},`${e}-${t}`)))}):(0,k.Y)(Ze,{})};var st={name:"1t91kdm",styles:"flex:1;display:flex;flex-direction:column"},it={name:"ozd7xs",styles:"flex-shrink:0"},nt={name:"1tc6xju",styles:"flex:1;overflow:auto"};const at=e=>{var t;let{runInfo:r,metricKeys:o,mode:l}=e;const c=(()=>{const[e]=(0,d.useState)((()=>new Xe));return e})(),u=(0,a.d4)((e=>{var t;let{entities:s}=e;return(0,g.mapValues)(s.sampledMetricsByRunUuid[null!==(t=r.runUuid)&&void 0!==t?t:""],(e=>(0,g.compact)((0,g.values)(e).map((e=>{let{metricsHistory:t}=e;return t})).flat())))})),[p,h]=(0,d.useState)(""),{formatMessage:m}=(0,Ae.A)(),{orderedMetricKeys:f,onReorderChart:y}=((e,t,r)=>{const s=(0,d.useRef)(Ce.A.getStoreForComponent(t,r)),[i,n]=(0,d.useState)((()=>{try{const e=s.current.getItem(Re);if(e)return JSON.parse(e)}catch{return}}));return{orderedMetricKeys:(0,d.useMemo)((()=>(0,g.orderBy)(e,(e=>null!==i&&void 0!==i&&i.includes(e)?(0,g.indexOf)(i,e):Number.MAX_SAFE_INTEGER))),[i,e]),onReorderChart:(t,r)=>{const a=i?[...i]:[...e],o=(0,g.indexOf)(a,t),l=(0,g.indexOf)(a,r);[a[o],a[l]]=[a[l],a[o]],n(a),s.current.setItem(Re,JSON.stringify(a))}}})(o,"RunView"+l,null!==(t=r.runUuid)&&void 0!==t?t:""),_=!o.length,x=!_&&!o.some((e=>tt(p,e))),M=!_,{theme:Y}=(0,n.a)(),w=!_&&!x,I=(0,d.useMemo)((()=>({runInfo:r,metricsForRun:u})),[r,u]),b=(0,a.d4)((e=>{var t;return(0,g.values)(e.entities.sampledMetricsByRunUuid[null!==(t=r.runUuid)&&void 0!==t?t:""]).some((e=>(0,g.values)(e).some((e=>{let{refreshing:t}=e;return t}))))}));return(0,k.Y)(Ve.G,{children:(0,k.FD)("div",{css:st,children:[(0,k.FD)("div",{css:it,children:[M&&(0,k.FD)("div",{css:(0,s.AH)({display:"flex",gap:Y.spacing.sm},""),children:[(0,k.Y)(Ye.I,{componentId:"codegen_mlflow_app_src_experiment-tracking_components_run-page_runviewmetriccharts.tsx_165",role:"searchbox",prefix:(0,k.Y)(i.WIv,{}),value:p,allowClear:!0,onChange:e=>h(e.target.value),placeholder:m({id:"Xs1oJm",defaultMessage:"Search metric charts"})}),(0,k.Y)(n.B,{componentId:"codegen_mlflow_app_src_experiment-tracking_components_run-page_runviewmetriccharts.tsx_176",icon:b?(0,k.Y)(n.S,{size:"small",css:(0,s.AH)({marginRight:Y.spacing.sm},"")}):(0,k.Y)(i.fNY,{}),onClick:()=>{b||c.refreshAllCharts()},children:(0,k.Y)(v.A,{id:"gDNspC",defaultMessage:"Refresh"})})]}),(0,k.Y)(A.S,{})]}),_&&(0,k.Y)(et,{label:(0,k.Y)(v.A,{..."model"===l?Je:Qe})}),x&&(0,k.Y)(Ze,{}),(0,k.Y)("div",{css:nt,children:(0,k.Y)(ke.W,{contextData:I,component:De,hoverOnly:!0,children:w&&(0,k.Y)(rt,{metricKeys:f,runInfo:r,search:p,onReorderChart:y,chartRefreshManager:c})})})," "]})})};var ot=r(21616),lt=r(76758);const dt=e=>{let{status:t}=e;const{theme:r}=(0,n.a)();return(0,k.FD)(i.vwO,{componentId:"codegen_mlflow_app_src_experiment-tracking_components_run-page_overview_runviewstatusbox.tsx_81",css:(0,s.AH)({backgroundColor:"FINISHED"===t?r.isDarkMode?r.colors.green800:r.colors.green100:"KILLED"===t||"FAILED"===t?r.isDarkMode?r.colors.red800:r.colors.red100:"SCHEDULED"===t||"RUNNING"===t?r.isDarkMode?r.colors.blue800:r.colors.blue100:void 0},""),children:[t&&(0,k.Y)(lt.F,{status:t})," ",(0,k.Y)(n.p.Text,{css:(0,s.AH)({marginLeft:r.spacing.sm},""),children:"FINISHED"===t?(0,k.Y)(n.p.Text,{color:"success",children:(0,k.Y)(v.A,{id:"ujm55z",defaultMessage:"Finished"})}):"KILLED"===t?(0,k.Y)(n.p.Text,{color:"error",children:(0,k.Y)(v.A,{id:"AupQl+",defaultMessage:"Killed"})}):"FAILED"===t?(0,k.Y)(n.p.Text,{color:"error",children:(0,k.Y)(v.A,{id:"AM8DuO",defaultMessage:"Failed"})}):"RUNNING"===t?(0,k.Y)(n.p.Text,{color:"info",children:(0,k.Y)(v.A,{id:"On3g1B",defaultMessage:"Running"})}):"SCHEDULED"===t?(0,k.Y)(n.p.Text,{color:"info",children:(0,k.Y)(v.A,{id:"X8OaXU",defaultMessage:"Scheduled"})}):t})]})},ct=e=>{var t;let{runInfo:r,tags:s}=e;const i=p.A.getUser(r,s);return(0,k.Y)(u.N_,{to:ce.h.searchRunsByUser(null!==(t=null===r||void 0===r?void 0:r.experimentId)&&void 0!==t?t:"",i),children:i})};var ut=r(70618),pt=r(9856);const ht=e=>{let{value:t}=e;const r=(0,d.useMemo)((()=>{try{const e=JSON.parse(t);return JSON.stringify(e,null,2)}catch(e){return null}}),[t]);return(0,k.Y)("div",{css:(0,s.AH)({whiteSpace:"pre-wrap",wordBreak:"break-word",fontFamily:r?"monospace":void 0},""),children:r||t})};var mt={name:"ozd7xs",styles:"flex-shrink:0"};const gt=e=>{let{name:t,value:r,toggleExpanded:a,isExpanded:o,autoExpandedRowsList:l}=e;const{theme:c}=(0,n.a)(),u=(0,d.useRef)(null),[p,h]=(0,d.useState)(!1);return(0,d.useEffect)((()=>{l[t]||p&&(a(),l[t]=!0)}),[l,p,t,a]),(0,d.useEffect)((()=>{if(!u.current)return;const e=(0,g.throttle)((e=>{let[t]=e;const r=t.target.scrollHeight>t.target.clientHeight;h(r)}),500,{trailing:!0}),t=new ResizeObserver(e);return t.observe(u.current),()=>t.disconnect()}),[u,a]),(0,d.useEffect)((()=>{if(u.current&&!o){u.current.scrollHeight>u.current.clientHeight&&h(!0)}}),[o]),(0,k.FD)("div",{css:(0,s.AH)({display:"flex",gap:c.spacing.xs},""),children:[(p||o)&&(0,k.Y)(n.B,{componentId:"codegen_mlflow_app_src_experiment-tracking_components_run-page_overview_runviewparamstable.tsx_74",size:"small",icon:o?(0,k.Y)(i.D3D,{}):(0,k.Y)(n.m,{}),onClick:()=>a(),css:mt}),(0,k.Y)("div",{title:r,css:(0,s.AH)({overflow:"hidden",textOverflow:"ellipsis",display:"-webkit-box","-webkit-box-orient":"vertical","-webkit-line-clamp":o?void 0:"3"},""),ref:u,children:o?(0,k.Y)(ht,{value:r}):r})]})};var ft={name:"1vfb318",styles:"flex:1;display:flex;align-items:center;justify-content:center"},vt={name:"xt6tct",styles:"flex:1;display:flex;flex-direction:column;overflow:hidden"};const yt=e=>{let{params:t}=e;const{theme:r}=(0,n.a)(),a=(0,Ae.A)(),[o,l]=(0,d.useState)(""),c=(0,d.useRef)({}),u=(0,d.useMemo)((()=>(0,g.values)(t)),[t]),p=(0,d.useMemo)((()=>u.filter((e=>{let{key:t,value:r}=e;const s=o.toLowerCase();return t.toLowerCase().includes(s)||r.toLowerCase().includes(s)}))),[o,u]),h=(0,d.useMemo)((()=>[{id:"key",accessorKey:"key",header:()=>(0,k.Y)(v.A,{id:"r+KCRg",defaultMessage:"Parameter"}),enableResizing:!0,size:240},{id:"value",header:()=>(0,k.Y)(v.A,{id:"qIsNL0",defaultMessage:"Value"}),accessorKey:"value",enableResizing:!1,meta:{styles:{paddingLeft:0}},cell:e=>{let{row:{original:t,getIsExpanded:r,toggleExpanded:s}}=e;return(0,k.Y)(gt,{name:t.key,value:t.value,isExpanded:r(),toggleExpanded:s,autoExpandedRowsList:c.current})}}]),[]),m=(0,ut.N4)({data:p,getCoreRowModel:(0,pt.HT)(),getExpandedRowModel:(0,pt.D0)(),getRowId:e=>e.key,enableColumnResizing:!0,columnResizeMode:"onChange",columns:h});return(0,k.FD)("div",{css:vt,children:[(0,k.Y)(n.p.Title,{level:4,children:(0,k.Y)(v.A,{id:"Q/evEc",defaultMessage:"Parameters ({length})",values:{length:p.length}})}),(0,k.Y)("div",{css:(0,s.AH)({padding:r.spacing.sm,border:`1px solid ${r.colors.borderDecorative}`,borderRadius:r.general.borderRadiusBase,flex:1,display:"flex",flexDirection:"column",overflow:"hidden"},""),children:(()=>{if(!u.length)return(0,k.Y)("div",{css:ft,children:(0,k.Y)(i.SvL,{description:(0,k.Y)(v.A,{id:"6UqPlE",defaultMessage:"No parameters recorded"})})});const e=p.length<1;return(0,k.FD)(k.FK,{children:[(0,k.Y)("div",{css:(0,s.AH)({marginBottom:r.spacing.sm},""),children:(0,k.Y)(Ye.I,{componentId:"codegen_mlflow_app_src_experiment-tracking_components_run-page_overview_runviewparamstable.tsx_213",prefix:(0,k.Y)(i.WIv,{}),placeholder:a.formatMessage({id:"SLHSXV",defaultMessage:"Search parameters"}),value:o,onChange:e=>l(e.target.value),allowClear:!0})}),(0,k.FD)(i.XIK,{scrollable:!0,empty:e?(0,k.Y)("div",{css:(0,s.AH)({marginTop:4*r.spacing.md},""),children:(0,k.Y)(i.SvL,{description:(0,k.Y)(v.A,{id:"QD6iZA",defaultMessage:"No parameters match the search filter"})})}):null,children:[(0,k.Y)(i.Hjg,{isHeader:!0,children:m.getLeafHeaders().map(((e,t)=>(0,k.Y)(i.A0N,{componentId:"codegen_mlflow_app_src_experiment-tracking_components_run-page_overview_runviewparamstable.tsx_244",resizable:e.column.getCanResize(),resizeHandler:e.getResizeHandler(),isResizing:e.column.getIsResizing(),css:(0,s.AH)({flexGrow:e.column.getCanResize()?0:1},""),style:{flexBasis:e.column.getCanResize()?e.column.getSize():void 0},children:(0,ut.Kv)(e.column.columnDef.header,e.getContext())},e.id)))}),m.getRowModel().rows.map((e=>(0,k.Y)(i.Hjg,{children:e.getAllCells().map((e=>{var t;return(0,k.Y)(i.nA6,{css:null===(t=e.column.columnDef.meta)||void 0===t?void 0:t.styles,style:{flexGrow:e.column.getCanResize()?0:1,flexBasis:e.column.getCanResize()?e.column.getSize():void 0},multiline:!0,children:(0,ut.Kv)(e.column.columnDef.cell,e.getContext())},e.id)}))},e.id)))]})]})})()})]})};const{systemMetricsLabel:_t,modelMetricsLabel:xt}=(0,we.YK)({systemMetricsLabel:{id:"aFMLIO",defaultMessage:"System metrics"},modelMetricsLabel:{id:"NiSPrL",defaultMessage:"Model metrics"}}),Mt=e=>t=>{let{key:r}=t;return r.toLowerCase().includes(e.toLowerCase())};var Yt={name:"1ff36h2",styles:"flex-grow:1"};const wt=e=>{let{metricsList:t,runInfo:r,header:a,table:o}=e;const{theme:l}=(0,n.a)(),[{column:d}]=o.getLeafHeaders();return t.length?(0,k.FD)(k.FK,{children:[a&&(0,k.Y)(i.Hjg,{children:(0,k.Y)(i.nA6,{css:(0,s.AH)({flex:1,backgroundColor:l.colors.backgroundSecondary},""),children:(0,k.FD)(n.p.Text,{bold:!0,children:[a," (",t.length,")"]})})}),t.map((e=>{var t,s;let{key:n,value:a}=e;return(0,k.FD)(i.Hjg,{children:[(0,k.Y)(i.nA6,{style:{flexGrow:0,flexBasis:d.getSize()},children:(0,k.Y)(u.N_,{to:ce.h.getMetricPageRoute([null!==(t=r.runUuid)&&void 0!==t?t:""],n,[null!==(s=r.experimentId)&&void 0!==s?s:""]),children:n})}),(0,k.Y)(i.nA6,{css:Yt,children:a.toString()})]},n)}))]}):null};var At={name:"1vfb318",styles:"flex:1;display:flex;align-items:center;justify-content:center"},It={name:"xt6tct",styles:"flex:1;display:flex;flex-direction:column;overflow:hidden"},bt={name:"ozd7xs",styles:"flex-shrink:0"};const Ct=e=>{let{latestMetrics:t,runInfo:r}=e;const{theme:a}=(0,n.a)(),o=(0,Ae.A)(),[l,c]=(0,d.useState)(""),u=(0,d.useMemo)((()=>(0,g.values)(t)),[t]),p=(0,d.useMemo)((()=>[{id:"key",accessorKey:"key",header:()=>(0,k.Y)(v.A,{id:"pjlcSc",defaultMessage:"Metric"}),enableResizing:!0,size:240},{id:"value",header:()=>(0,k.Y)(v.A,{id:"t0Qkuc",defaultMessage:"Value"}),accessorKey:"value",enableResizing:!1}]),[]),h=(0,d.useMemo)((()=>{const e=u.filter((e=>{let{key:t}=e;return(0,be.bw)(t)})),t=u.filter((e=>{let{key:t}=e;return!(0,be.bw)(t)}));return e.length>0&&t.length>0?[{header:o.formatMessage(_t),metrics:e.filter(Mt(l))},{header:o.formatMessage(xt),metrics:t.filter(Mt(l))}]:[{header:void 0,metrics:u.filter(Mt(l))}]}),[l,u,o]),m=(0,ut.N4)({data:u,getCoreRowModel:(0,pt.HT)(),getRowId:e=>e.key,enableColumnResizing:!0,columnResizeMode:"onChange",columns:p});return(0,k.FD)("div",{css:It,children:[(0,k.Y)(n.p.Title,{level:4,css:bt,children:(0,k.Y)(v.A,{id:"m4159e",defaultMessage:"Metrics ({length})",values:{length:u.filter(Mt(l)).length}})}),(0,k.Y)("div",{css:(0,s.AH)({padding:a.spacing.sm,border:`1px solid ${a.colors.borderDecorative}`,borderRadius:a.general.borderRadiusBase,display:"flex",flexDirection:"column",flex:1,overflow:"hidden"},""),children:(()=>{if(!u.length)return(0,k.Y)("div",{css:At,children:(0,k.Y)(i.SvL,{description:(0,k.Y)(v.A,{id:"9vj5Ap",defaultMessage:"No metrics recorded"})})});const e=(0,g.sum)(h.map((e=>{let{metrics:t}=e;return t.length})))<1;return(0,k.FD)(k.FK,{children:[(0,k.Y)("div",{css:(0,s.AH)({marginBottom:a.spacing.sm},""),children:(0,k.Y)(Ye.I,{componentId:"codegen_mlflow_app_src_experiment-tracking_components_run-page_overview_runviewmetricstable.tsx_186",prefix:(0,k.Y)(i.WIv,{}),placeholder:o.formatMessage({id:"w2+rkp",defaultMessage:"Search metrics"}),value:l,onChange:e=>c(e.target.value),allowClear:!0})}),(0,k.FD)(i.XIK,{scrollable:!0,empty:e?(0,k.Y)("div",{css:(0,s.AH)({marginTop:4*a.spacing.md},""),children:(0,k.Y)(i.SvL,{description:(0,k.Y)(v.A,{id:"iTjTQt",defaultMessage:"No metrics match the search filter"})})}):null,children:[(0,k.Y)(i.Hjg,{isHeader:!0,children:m.getLeafHeaders().map((e=>(0,k.Y)(i.A0N,{componentId:"codegen_mlflow_app_src_experiment-tracking_components_run-page_overview_runviewmetricstable.tsx_312",resizable:e.column.getCanResize(),resizeHandler:e.getResizeHandler(),isResizing:e.column.getIsResizing(),style:{flexGrow:e.column.getCanResize()?0:1,flexBasis:e.column.getCanResize()?e.column.getSize():void 0},children:(0,ut.Kv)(e.column.columnDef.header,e.getContext())},e.id)))}),h.map(((e,t)=>(0,k.Y)(wt,{metricsList:e.metrics,runInfo:r,header:e.header,table:m},e.header||t)))]})]})})()})]})};var Rt=r(38243),kt=r(85343);var St={name:"1flj9lk",styles:"text-align:left"},Dt={name:"ti75j2",styles:"margin:0"};const Nt=e=>{let{dataset:t,onClick:r}=e;return(0,k.Y)(n.p.Link,{componentId:"codegen_mlflow_app_src_experiment-tracking_components_run-page_overview_runviewdatasetbox.tsx_16",role:"link",css:St,onClick:r,children:(0,k.Y)(Rt.E,{datasetWithTags:t,displayTextAsLink:!0,css:Dt})})},Tt=e=>{let{tags:t,runInfo:r,datasets:a}=e;const[o,l]=(0,d.useState)(null),{theme:c}=(0,n.a)(),[u,p]=(0,d.useState)(!1);if(!a||!a.length)return null;const h=a[0],m=a.slice(1),g=e=>{var s,i,n;l({datasetWithTags:e,runData:{experimentId:null!==(s=r.experimentId)&&void 0!==s?s:void 0,runUuid:null!==(i=r.runUuid)&&void 0!==i?i:"",runName:null!==(n=r.runName)&&void 0!==n?n:void 0,datasets:a,tags:t}}),p(!0)};return(0,k.FD)("div",{css:(0,s.AH)({display:"flex",gap:c.spacing.sm,alignItems:"center"},""),children:[(0,k.Y)(Nt,{dataset:h,onClick:()=>g(h)}),m.length?(0,k.FD)(i.rId.Root,{modal:!1,children:[(0,k.Y)(i.rId.Trigger,{asChild:!0,children:(0,k.FD)(n.B,{componentId:"codegen_mlflow_app_src_experiment-tracking_components_run-page_overview_runviewdatasetbox.tsx_70",size:"small",children:["+",m.length]})}),(0,k.Y)(i.rId.Content,{children:m.map((e=>(0,k.Y)(i.rId.Item,{componentId:"codegen_mlflow_app_src_experiment-tracking_components_run-page_overview_runviewdatasetbox.tsx_81",children:(0,k.Y)(Nt,{dataset:e,onClick:()=>g(e)})},e.dataset.digest)))})]}):null,o&&(0,k.Y)(kt.O,{isOpen:u,setIsOpen:p,selectedDatasetWithRun:o,setSelectedDatasetWithRun:l})]})};var Ft=r(56675),Et=r(20740);const Ut=Ft.J1`
  query GetRun($data: MlflowGetRunInput!) @component(name: "MLflow.ExperimentRunTracking") {
    mlflowGetRun(input: $data) {
      apiError {
        helpUrl
        code
        message
      }
      run {
        info {
          runName
          status
          runUuid
          experimentId
          artifactUri
          endTime
          lifecycleStage
          startTime
          userId
        }
        experiment {
          experimentId
          name
          tags {
            key
            value
          }
          artifactLocation
          lifecycleStage
          lastUpdateTime
        }
        modelVersions {
          status
          version
          name
          source
        }
        data {
          metrics {
            key
            value
            step
            timestamp
          }
          params {
            key
            value
          }
          tags {
            key
            value
          }
        }
        inputs {
          datasetInputs {
            dataset {
              digest
              name
              profile
              schema
              source
              sourceType
            }
            tags {
              key
              value
            }
          }
        }
      }
    }
  }
`,Ht=e=>{var t,r;let{runUuid:s,disabled:i=!1}=e;const{data:n,loading:a,error:o,refetch:l}=(0,Et.I)(Ut,{variables:{data:{runId:s}},skip:i});return{loading:a,data:null===n||void 0===n||null===(t=n.mlflowGetRun)||void 0===t?void 0:t.run,refetchRun:l,apolloError:o,apiError:null===n||void 0===n||null===(r=n.mlflowGetRun)||void 0===r?void 0:r.apiError}},Lt=e=>{let{parentRunUuid:t}=e;const r=(0,a.wA)(),s=(0,a.d4)((e=>{let{entities:r}=e;return r.runInfosByUuid[t]})),n=Ht({runUuid:t,disabled:!(0,K.wD)()}),o=(0,d.useMemo)((()=>{var e;return(0,K.wD)()?null===n||void 0===n||null===(e=n.data)||void 0===e?void 0:e.info:s}),[n,s]);return(0,d.useEffect)((()=>{(0,K.wD)()||o||r((0,B.aO)(t))}),[r,t,o]),o?o.experimentId&&o.runUuid?(0,k.Y)(u.N_,{to:ce.h.getRunPageRoute(o.experimentId,o.runUuid),children:o.runName}):null:(0,k.Y)(i.I_K,{loading:!0,label:(0,k.Y)(v.A,{id:"nfIS4i",defaultMessage:"Parent run name loading"})})};var Bt=r(43683),Pt=r(98597);const Vt=e=>{let{runUuid:t,tags:r,onTagsUpdated:o}=e;const{theme:l}=(0,n.a)(),c=(0,a.wA)(),u=(0,Ae.A)(),[p,h]=(0,d.useMemo)((()=>[(0,g.keys)(r).filter(z.oD),(0,g.values)(r).filter((e=>{let{key:t}=e;return(0,z.oD)(t)}))]),[r]),{EditTagsModal:m,showEditTagsModal:f,isLoading:y}=(0,Bt.Q)({valueRequired:!0,allAvailableTags:p,saveTagsHandler:async(e,r,s)=>c((0,B.hD)(t,r,s)).then(o)}),_=()=>{f({tags:h})},x=u.formatMessage({id:"EwAZgg",defaultMessage:"Edit tags"});return(0,k.FD)("div",{css:(0,s.AH)({paddingTop:l.spacing.xs,paddingBottom:l.spacing.xs,display:"flex",flexWrap:"wrap","> *":{marginRight:"0 !important"},gap:l.spacing.xs},""),children:[h.length<1?(0,k.Y)(n.B,{componentId:"codegen_mlflow_app_src_experiment-tracking_components_run-page_overview_runviewtagsbox.tsx_67",size:"small",type:"link",onClick:_,children:(0,k.Y)(v.A,{id:"0IQod2",defaultMessage:"Add"})}):(0,k.FD)(k.FK,{children:[h.map((e=>(0,k.Y)(Pt.tj,{tag:e,enableFullViewModal:!0},`${e.key}-${e.value}`))),(0,k.Y)(i.paO,{title:x,children:(0,k.Y)(n.B,{componentId:"codegen_mlflow_app_src_experiment-tracking_components_run-page_overview_runviewtagsbox.tsx_76","aria-label":x,size:"small",icon:(0,k.Y)(i.R2l,{}),onClick:_})})]}),y&&(0,k.Y)(n.S,{size:"small"}),m]})};var zt=r(96034),Ot=r(56928);const Kt=e=>{var t;let{runUuid:r,tags:o,onDescriptionChanged:l}=e;const c=(null===(t=o[Ot.e])||void 0===t?void 0:t.value)||"",[u,p]=(0,d.useState)(!1),h=(0,Ae.A)(),{theme:m}=(0,n.a)(),g=(0,a.wA)(),f=!c;return(0,k.FD)("div",{css:(0,s.AH)({marginBottom:m.spacing.md},""),children:[(0,k.FD)(n.p.Title,{level:4,css:(0,s.AH)({display:"flex",alignItems:"center",gap:m.spacing.xs},""),children:[(0,k.Y)(v.A,{id:"ugwpKL",defaultMessage:"Description"}),(0,k.Y)(n.B,{componentId:"codegen_mlflow_app_src_experiment-tracking_components_run-page_overview_runviewdescriptionbox.tsx_46",size:"small",type:"tertiary","aria-label":h.formatMessage({id:"Mtj9Ay",defaultMessage:"Edit description"}),onClick:()=>p(!0),icon:(0,k.Y)(i.R2l,{})})]}),f&&!u&&(0,k.Y)(n.p.Hint,{children:(0,k.Y)(v.A,{id:"VcNdOq",defaultMessage:"No description"})}),(!f||u)&&(0,k.Y)(zt.V,{defaultMarkdown:c,onSubmit:e=>g((0,B.Jv)(r,Ot.e,e)).then(l).then((()=>p(!1))),onCancel:()=>p(!1),showEditor:u})]})},$t=e=>{let{title:t,value:r}=e;const{theme:i}=(0,n.a)();return(0,k.FD)("tr",{css:(0,s.AH)({display:"flex",borderBottom:`1px solid ${i.colors.borderDecorative}`,minHeight:i.general.heightSm},""),children:[(0,k.Y)("th",{css:(0,s.AH)({flex:"0 0 240px",backgroundColor:i.colors.backgroundSecondary,color:i.colors.textSecondary,padding:i.spacing.sm,display:"flex",alignItems:"flex-start"},""),children:t}),(0,k.Y)("td",{css:(0,s.AH)({flex:1,padding:i.spacing.sm,paddingTop:0,paddingBottom:0,display:"flex",alignItems:"center"},""),children:r})]})};const Wt=e=>{const{name:t,version:r}=e;return U.fM.getModelVersionPageRoute(t,r)};var qt={name:"e0dnmk",styles:"cursor:pointer"};const jt=e=>{let{registeredModels:t,runInfo:r}=e;const{theme:a}=(0,n.a)();return(0,k.Y)(i.nEg,{children:t.map((e=>(0,k.FD)(u.N_,{to:Wt(e),css:(0,s.AH)({display:"flex",alignItems:"center",gap:a.spacing.sm},""),children:[(0,k.Y)(me.h,{})," ",e.name," ",(0,k.FD)(i.vwO,{componentId:"codegen_mlflow_app_src_experiment-tracking_components_run-page_overview_runviewregisteredmodelsbox.tsx_40",css:qt,children:["v",e.version]})]},e.name)))})},Gt=e=>{let{loggedModels:t,runInfo:r}=e;const{theme:a}=(0,n.a)(),{experimentId:o,runUuid:l}=r,c=e=>(0,g.first)(e)||(0,k.Y)(v.A,{id:"0HbGko",defaultMessage:"Model"}),p=(0,d.useMemo)((()=>{const e=t.map((e=>c(e.flavors)));return new Set(e).size!==e.length}),[t]);return(0,k.Y)(i.nEg,{children:t.map(((e,t)=>(0,k.FD)(u.N_,{to:ce.h.getRunPageRoute(null!==o&&void 0!==o?o:"",null!==l&&void 0!==l?l:"",e.artifactPath),css:(0,s.AH)({display:"flex",alignItems:"center",gap:a.spacing.sm,cursor:"pointer",height:p&&t>0?a.general.heightBase:a.general.heightSm},""),children:[(0,k.Y)(i.oiI,{}),(0,k.FD)("div",{children:[c(e.flavors),p&&t>0&&(0,k.Y)(n.p.Hint,{children:e.artifactPath})]})]},e.artifactPath)))})};var Xt=r(1323);var Qt={name:"1wcfv52",styles:"margin-right:0"},Jt={name:"kauk44",styles:"display:flex;gap:4px;white-space:nowrap"},Zt={name:"9gxvqt",styles:"display:flex;gap:4px;align-items:center"},er={name:"ou8xsw",styles:"flex:0 0 auto"},tr={name:"1wcfv52",styles:"margin-right:0"},rr={name:"kauk44",styles:"display:flex;gap:4px;white-space:nowrap"};const sr=e=>{var t,r,a;let{runUuid:o,tags:l,search:d}=e;const c=null===l||void 0===l||null===(t=l[h.xd])||void 0===t?void 0:t.value,u=null===l||void 0===l||null===(r=l[p.A.gitCommitTag])||void 0===r?void 0:r.value,m=p.A.renderSource(l,d,o,c),{theme:g}=(0,n.a)();return m?(0,k.FD)("div",{css:(0,s.AH)({display:"flex",alignItems:"center",gap:g.spacing.sm,paddingTop:g.spacing.sm,paddingBottom:g.spacing.sm,flexWrap:"wrap"},""),children:[(0,k.Y)(Xt.m,{sourceType:null===(a=l[p.A.sourceTypeTag])||void 0===a?void 0:a.value,css:(0,s.AH)({color:g.colors.actionPrimaryBackgroundDefault},"")}),m," ",c&&(0,k.Y)(i.paO,{title:c,children:(0,k.Y)(i.vwO,{componentId:"codegen_mlflow_app_src_experiment-tracking_components_run-page_overview_runviewsourcebox.tsx_48",css:Qt,children:(0,k.FD)("div",{css:Jt,children:[(0,k.Y)(i.OKA,{})," ",c]})})}),u&&(0,k.Y)(i.paO,{dangerouslySetAntdProps:{overlayStyle:{maxWidth:"none"}},title:(0,k.FD)("div",{css:Zt,children:[u,(0,k.Y)(O.i,{css:er,showLabel:!1,size:"small",type:"tertiary",copyText:u,icon:(0,k.Y)(i.TdU,{})})]}),children:(0,k.Y)(i.vwO,{componentId:"codegen_mlflow_app_src_experiment-tracking_components_run-page_overview_runviewsourcebox.tsx_72",css:tr,children:(0,k.FD)("div",{css:rr,children:[(0,k.Y)(i.fSU,{})," ",u.slice(0,7)]})})})]}):(0,k.Y)(n.p.Hint,{children:"\u2014"})};var ir={name:"4zleql",styles:"display:block"};const nr=e=>{let{children:t}=e;const{theme:r}=(0,n.a)();return(0,k.Y)("table",{css:(0,s.AH)({display:"block",border:`1px solid ${r.colors.borderDecorative}`,borderBottom:"none",borderRadius:r.general.borderRadiusBase,width:"50%",minWidth:640,marginBottom:r.spacing.lg,overflow:"hidden"},""),children:(0,k.Y)("tbody",{css:ir,children:t})})},ar=e=>{let{value:t}=e;const{theme:r}=(0,n.a)();return(0,k.FD)("div",{css:(0,s.AH)({display:"flex",gap:r.spacing.xs,alignItems:"center"},""),children:[t,(0,k.Y)(O.i,{showLabel:!1,copyText:t,icon:(0,k.Y)(i.TdU,{}),size:"small"})]})};const or=()=>(0,k.Y)(n.p.Hint,{children:"\u2014"});var lr={name:"82a6rk",styles:"flex:1"};const dr=e=>{let{runUuid:t,onRunDataUpdated:r,tags:i,runInfo:o,datasets:l,params:c,latestMetrics:h}=e;const{theme:m}=(0,n.a)(),{search:g}=(0,u.zy)(),{registeredModels:f}=(0,a.d4)((e=>{let{entities:r}=e;return{registeredModels:r.modelVersionsByRunUuid[t]}})),y=(0,d.useMemo)((()=>p.A.getLoggedModelsFromTags(i)),[i]),_=i[ot.Ol];return(0,k.FD)("div",{css:lr,children:[(0,k.Y)(Kt,{runUuid:t,tags:i,onDescriptionChanged:r}),(0,k.Y)(n.p.Title,{level:4,children:(0,k.Y)(v.A,{id:"Isaf66",defaultMessage:"Details"})}),(()=>{var e,s,n;return(0,k.FD)(nr,{children:[(0,k.Y)($t,{title:(0,k.Y)(v.A,{id:"PP5HZf",defaultMessage:"Created at"}),value:o.startTime?p.A.formatTimestamp(o.startTime):(0,k.Y)(or,{})}),(0,k.Y)($t,{title:(0,k.Y)(v.A,{id:"7KKvmS",defaultMessage:"Created by"}),value:(0,k.Y)(ct,{runInfo:o,tags:i})}),(0,k.Y)($t,{title:(0,k.Y)(v.A,{id:"ffema5",defaultMessage:"Experiment ID"}),value:(0,k.Y)(ar,{value:null!==(e=null===o||void 0===o?void 0:o.experimentId)&&void 0!==e?e:""})}),(0,k.Y)($t,{title:(0,k.Y)(v.A,{id:"vxY1CI",defaultMessage:"Status"}),value:(0,k.Y)(dt,{status:o.status})}),(0,k.Y)($t,{title:(0,k.Y)(v.A,{id:"JYVQuV",defaultMessage:"Run ID"}),value:(0,k.Y)(ar,{value:null!==(s=o.runUuid)&&void 0!==s?s:""})}),(0,k.Y)($t,{title:(0,k.Y)(v.A,{id:"ZoIjun",defaultMessage:"Duration"}),value:p.A.getDuration(o.startTime,o.endTime)}),_&&(0,k.Y)($t,{title:(0,k.Y)(v.A,{id:"zdYXP8",defaultMessage:"Parent run"}),value:(0,k.Y)(Lt,{parentRunUuid:_.value})}),(0,k.Y)($t,{title:(0,k.Y)(v.A,{id:"fwp4JP",defaultMessage:"Datasets used"}),value:null!==l&&void 0!==l&&l.length?(0,k.Y)(Tt,{tags:i,runInfo:o,datasets:l}):(0,k.Y)(or,{})}),(0,k.Y)($t,{title:(0,k.Y)(v.A,{id:"rs7Iic",defaultMessage:"Tags"}),value:(0,k.Y)(Vt,{runUuid:null!==(n=o.runUuid)&&void 0!==n?n:"",tags:i,onTagsUpdated:r})}),(0,k.Y)($t,{title:(0,k.Y)(v.A,{id:"WmDiY9",defaultMessage:"Source"}),value:(0,k.Y)(sr,{tags:i,search:g,runUuid:t})}),(0,k.Y)($t,{title:(0,k.Y)(v.A,{id:"mjNFJt",defaultMessage:"Logged models"}),value:(null===y||void 0===y?void 0:y.length)>0?(0,k.Y)(Gt,{runInfo:o,loggedModels:y}):(0,k.Y)(or,{})}),(0,k.Y)($t,{title:(0,k.Y)(v.A,{id:"BCpX6U",defaultMessage:"Registered models"}),value:(null===f||void 0===f?void 0:f.length)>0?(0,k.Y)(jt,{runInfo:o,registeredModels:f}):(0,k.Y)(or,{})})]})})(),(0,k.FD)("div",{css:(0,s.AH)({display:"flex",gap:m.spacing.lg,minHeight:360,maxHeight:760,overflow:"hidden"},""),children:[(0,k.Y)(yt,{params:c}),(0,k.Y)(Ct,{latestMetrics:h,runInfo:o})]})]})},cr=e=>(0,g.keyBy)(e,"key"),ur=e=>null===e||void 0===e?void 0:e.map((e=>{var t,r,s,i,n,a,o,l,d,c,u,p,h,m;return{dataset:{digest:null!==(t=null===(r=e.dataset)||void 0===r?void 0:r.digest)&&void 0!==t?t:"",name:null!==(s=null===(i=e.dataset)||void 0===i?void 0:i.name)&&void 0!==s?s:"",profile:null!==(n=null===(a=e.dataset)||void 0===a?void 0:a.profile)&&void 0!==n?n:"",schema:null!==(o=null===(l=e.dataset)||void 0===l?void 0:l.schema)&&void 0!==o?o:"",source:null!==(d=null===(c=e.dataset)||void 0===c?void 0:c.source)&&void 0!==d?d:"",sourceType:null!==(u=null===(p=e.dataset)||void 0===p?void 0:p.sourceType)&&void 0!==u?u:""},tags:null!==(h=null===(m=e.tags)||void 0===m?void 0:m.map((e=>{var t,r;return{key:null!==(t=e.key)&&void 0!==t?t:"",value:null!==(r=e.value)&&void 0!==r?r:""}})).filter((e=>!(0,g.isEmpty)(e.key))))&&void 0!==h?h:[]}})),pr=e=>{var t,r,s,i,n,o;let{runUuid:l,experimentId:c}=e;const u=(0,K.wD)(),h=(0,a.wA)();if(u){var m,f,v,y;const e=(()=>Ht({runUuid:l}))();(0,d.useEffect)((()=>{h((0,b.hY)({run_id:l}))}),[h,l]);const{latestMetrics:t,tags:r,params:s,datasets:i}=(0,d.useMemo)((()=>{var t,r,s,i,n,a,o,l,d,c,u,p;return{latestMetrics:(0,g.pickBy)(cr((p=null!==(t=null===(r=e.data)||void 0===r||null===(s=r.data)||void 0===s?void 0:s.metrics)&&void 0!==t?t:[],p.filter((e=>{let{key:t,value:r,step:s,timestamp:i}=e;return null!==t&&null!==r&&null!==s&&null!==i})).map((e=>{let{key:t,value:r,step:s,timestamp:i}=e;return{key:t,value:r,step:Number(s),timestamp:Number(i)}})))),(e=>e.key.trim().length>0)),tags:(0,g.pickBy)(cr(null!==(i=null===(n=e.data)||void 0===n||null===(a=n.data)||void 0===a?void 0:a.tags)&&void 0!==i?i:[]),(e=>e.key.trim().length>0)),params:(0,g.pickBy)(cr(null!==(o=null===(l=e.data)||void 0===l||null===(d=l.data)||void 0===d?void 0:d.params)&&void 0!==o?o:[]),(e=>e.key.trim().length>0)),datasets:ur(null===(c=e.data)||void 0===c||null===(u=c.inputs)||void 0===u?void 0:u.datasetInputs)}}),[e.data]);return{runInfo:null!==(m=null===(f=e.data)||void 0===f?void 0:f.info)&&void 0!==m?m:void 0,experiment:null!==(v=null===(y=e.data)||void 0===y?void 0:y.experiment)&&void 0!==v?v:void 0,loading:e.loading,error:e.apolloError,apiError:e.apiError,refetchRun:e.refetchRun,datasets:i,latestMetrics:t,tags:r,params:s}}const _=((e,t)=>{const[r,s]=(0,d.useState)(""),[i,n]=(0,d.useState)(""),o=(0,a.wA)(),{runInfo:l,tags:c,latestMetrics:u,experiment:h,params:m,datasets:f}=(0,a.d4)((r=>({runInfo:r.entities.runInfosByUuid[e],tags:(0,g.pickBy)(r.entities.tagsByRunUuid[e],(e=>e.key.trim().length>0)),latestMetrics:(0,g.pickBy)(r.entities.latestMetricsByRunUuid[e],(e=>e.key.trim().length>0)),params:(0,g.pickBy)(r.entities.paramsByRunUuid[e],(e=>e.key.trim().length>0)),experiment:r.entities.experimentsById[t],datasets:r.entities.runDatasetsByUuid[e]}))),v=(0,d.useCallback)((()=>{const t=(0,B.aO)(e);return s(t.meta.id),o(t)}),[o,e]),y=(0,d.useCallback)((()=>{const e=(0,B.yc)(t);return n(e.meta.id),o(e)}),[o,t]),_=(0,d.useCallback)((()=>{o((0,b.hY)({run_id:e}))}),[o,e]);(0,d.useEffect)((()=>{l||v().catch((e=>p.A.logErrorAndNotifyUser(e))),_()}),[l,v,_]),(0,d.useEffect)((()=>{h||y().catch((e=>p.A.logErrorAndNotifyUser(e)))}),[h,y]);const{loading:x,error:M}=(0,a.d4)((e=>{var t,s,i,n;return{loading:!r||Boolean(null===(t=e.apis)||void 0===t||null===(s=t[r])||void 0===s?void 0:s.active),error:null===(i=e.apis)||void 0===i||null===(n=i[r])||void 0===n?void 0:n.error}})),{loading:Y,error:w}=(0,a.d4)((e=>{var t,s,n,a;return{loading:!r||Boolean(null===(t=e.apis)||void 0===t||null===(s=t[i])||void 0===s?void 0:s.active),error:null===(n=e.apis)||void 0===n||null===(a=n[i])||void 0===a?void 0:a.error}}));return{loading:x||Y,data:{runInfo:l,tags:c,params:m,latestMetrics:u,experiment:h,datasets:f},refetchRun:v,errors:{runFetchError:M,experimentFetchError:w}}})(l,c),x=_.errors.runFetchError||_.errors.experimentFetchError;return{runInfo:null===(t=_.data)||void 0===t?void 0:t.runInfo,latestMetrics:null===(r=_.data)||void 0===r?void 0:r.latestMetrics,tags:null===(s=_.data)||void 0===s?void 0:s.tags,experiment:null===(i=_.data)||void 0===i?void 0:i.experiment,params:null===(n=_.data)||void 0===n?void 0:n.params,datasets:null===(o=_.data)||void 0===o?void 0:o.datasets,loading:_.loading,error:x,runFetchError:_.errors.runFetchError,experimentFetchError:_.errors.experimentFetchError,refetchRun:_.refetchRun}};var hr=r(82214);class mr extends d.Component{render(){return(0,k.Y)(hr.E,{statusCode:404,subMessage:`Run ID ${this.props.runId} does not exist`,fallbackHomePageReactRoute:ce.h.rootRoute})}}var gr=r(47664),fr=r(64558),vr=r(33946),yr=r(30152),_r=r(39040),xr=r(36792),Mr=r(62758),Yr=r(63617),wr=r(4972),Ar=r(55999),Ir=r(688),br=r(71932),Cr=r(40029);var Rr={name:"xt6tct",styles:"flex:1;display:flex;flex-direction:column;overflow:hidden"},kr={name:"1tc6xju",styles:"flex:1;overflow:auto"};const Sr=e=>{var t;let{runInfo:r,metricKeys:o,mode:l,chartUIState:c,updateChartsUIState:u,latestMetrics:p={},params:m={},tags:f={}}=e;const{theme:v}=(0,n.a)(),[y,_]=(0,d.useState)(""),{formatMessage:x}=(0,Ae.A)(),{compareRunCharts:M,compareRunSections:Y,chartsSearchFilter:w}=c,A=(0,d.useMemo)((()=>{var e;return(0,K.hX)()?null!==(e=null===M||void 0===M?void 0:M.filter((e=>!e.deleted)))&&void 0!==e?e:[]:M}),[M]),[I,b]=(0,d.useState)(void 0),C=(0,a.d4)((e=>{var t;let{entities:s}=e;return(0,g.mapValues)(s.sampledMetricsByRunUuid[null!==(t=r.runUuid)&&void 0!==t?t:""],(e=>(0,g.compact)((0,g.values)(e).map((e=>{let{metricsHistory:t}=e;return t})).flat())))})),R=(0,d.useMemo)((()=>({runInfo:r,metricsForRun:C})),[r,C]),{imagesByRunUuid:S}=(0,a.d4)((e=>({imagesByRunUuid:e.entities.imagesByRunUuid}))),[D,N]=(0,d.useState)(null),T=(0,Mr.iO)(),F=(0,Mr.cA)(),E=(0,Mr.KP)(),U=(0,Mr.Ez)(),H=(0,d.useMemo)((()=>{var e,t,s;return[{displayName:null!==(e=r.runName)&&void 0!==e?e:"",metrics:p,params:m,tags:f,images:S[null!==(t=r.runUuid)&&void 0!==t?t:""]||{},metricHistory:{},uuid:null!==(s=r.runUuid)&&void 0!==s?s:"",color:v.colors.primary,runInfo:r}]}),[r,p,m,f,S,v]);(0,d.useEffect)((()=>{if((!Y||!M)&&H.length>0){const{resultChartSet:e,resultSectionSet:t}=yr.i$.getBaseChartAndSectionConfigs({runsData:H,enabledSectionNames:["model"===l?h.NN:h.rx],filterMetricNames:e=>{const t=e.startsWith(h.qt);return"model"===l?!t:t}});u((r=>({...r,compareRunCharts:e,compareRunSections:t})))}}),[M,Y,H,l,u]),(0,d.useEffect)((()=>{u((e=>{if(!e.compareRunCharts||!e.compareRunSections)return e;const{resultChartSet:t,resultSectionSet:r,isResultUpdated:s}=yr.i$.updateChartAndSectionConfigs({compareRunCharts:e.compareRunCharts,compareRunSections:e.compareRunSections,runsData:H,isAccordionReordered:e.isAccordionReordered,filterMetricNames:e=>{const t=e.startsWith(h.qt);return"model"===l?!t:t}});return s?{...e,compareRunCharts:t,compareRunSections:r}:e}))}),[H,u,l]);const L=(0,wr.$)(),B=c.autoRefreshEnabled&&(0,K.vC)()&&L;(0,Ar.L)({runUuids:[null!==(t=r.runUuid)&&void 0!==t?t:""],runUuidsIsActive:["RUNNING"===r.status],autoRefreshEnabled:B,enabled:(0,K.HW)()});const P=(0,K.l)()?null!==w&&void 0!==w?w:"":y;return(0,k.FD)("div",{css:Rr,children:[(0,k.FD)("div",{css:(0,s.AH)({paddingBottom:v.spacing.md,display:"flex",gap:v.spacing.sm,flex:"0 0 auto"},""),children:[(0,K.l)()?(0,k.Y)(Cr.I,{chartsSearchFilter:w}):(0,k.Y)(Ye.I,{componentId:"codegen_mlflow_app_src_experiment-tracking_components_run-page_runviewmetricchartsv2.tsx_230",role:"searchbox",prefix:(0,k.Y)(i.WIv,{}),value:y,allowClear:!0,onChange:e=>_(e.target.value),placeholder:x({id:"Xs1oJm",defaultMessage:"Search metric charts"})}),(0,K.vC)()&&(0,k.Y)(i.ffE,{componentId:"codegen_mlflow_app_src_experiment-tracking_components_run-page_runviewmetricchartsv2.tsx_244",pressed:c.autoRefreshEnabled,onPressedChange:e=>{u((t=>({...t,autoRefreshEnabled:e})))},children:x({id:"zC/uKl",defaultMessage:"Auto-refresh"})}),(0,K.qZ)()&&(0,k.Y)(Ir.f,{metricKeyList:o,globalLineChartConfig:c.globalLineChartConfig,updateUIState:u})]}),(0,k.Y)("div",{css:kr,children:(0,k.Y)(ke.W,{contextData:R,component:De,children:(0,k.Y)(br.c_,{visibleChartCards:A,children:(0,k.Y)(_r.J,{compareRunSections:Y,compareRunCharts:A,reorderCharts:T,insertCharts:F,chartData:H,startEditChart:e=>N(e),removeChart:E,addNewChartCard:e=>t=>N(yr.i$.getEmptyChartCardByType(t,!1,void 0,e)),search:P,supportedChartTypes:[yr.zL.LINE,yr.zL.BAR,yr.zL.IMAGE],setFullScreenChart:b,autoRefreshEnabled:B,globalLineChartConfig:c.globalLineChartConfig,groupBy:null})})})}),D&&(0,k.Y)(xr.z,{chartRunData:H,metricKeyList:o,paramKeyList:[],config:D,onSubmit:e=>{U(e),N(null)},onCancel:()=>N(null),groupBy:null,supportedChartTypes:[yr.zL.LINE,yr.zL.BAR,yr.zL.IMAGE],globalLineChartConfig:c.globalLineChartConfig}),(0,k.Y)(Yr._,{fullScreenChart:I,onCancel:()=>b(void 0),chartData:H,tooltipContextValue:R,tooltipComponent:De,autoRefreshEnabled:B,groupBy:null})]})},Dr=e=>{const t=`${e.runInfo.runUuid}-${e.mode}`,r=(0,d.useMemo)((()=>Ce.A.getStoreForComponent("RunPage",t)),[t]),[s,i]=(0,d.useState)((()=>{const e={isAccordionReordered:!1,compareRunCharts:void 0,compareRunSections:void 0,autoRefreshEnabled:(0,K.vC)(),globalLineChartConfig:{xAxisKey:Ee.fj.STEP,lineSmoothness:0,selectedXAxisMetricKey:""}};try{const t=r.getItem("chartUIState");return t?JSON.parse(t):e}catch{return e}}));return(0,d.useEffect)((()=>{r.setItem("chartUIState",JSON.stringify(s))}),[s,r]),(0,k.Y)(Mr.oB,{updateChartsUIState:i,children:(0,k.Y)(Sr,{...e,chartUIState:s,updateChartsUIState:i})})};var Nr=r(34748);const Tr=[r(80171).se.runName];var Fr={name:"fxp7t8",styles:"flex:1;min-width:0"};const Er=e=>{let{experimentId:t,runUuid:r}=e;const s=(0,d.useMemo)((()=>[t]),[t]);return(0,k.Y)("div",{css:Fr,children:(0,k.Y)(Nr.O,{experimentIds:s,runUuid:r,disabledColumns:Tr})})};var Ur=r(55003);const Hr=e=>{if(e)return e instanceof Ur.K&&e.graphQLErrors.length>0?e.graphQLErrors.map((e=>e.toString())).join(", "):"message"in e?e.message:e.toString()},Lr=()=>(0,k.FD)(c.L,{children:[(0,k.Y)(i.oud,{loading:!0,label:(0,k.Y)(v.A,{id:"ea5zBl",defaultMessage:"Run page loading"})}),[...Array(3).keys()].map((e=>(0,k.Y)(i.I_K,{seed:`s-${e}`},e)))]}),Br=()=>{var e,t;const{runUuid:r,experimentId:o}=(0,u.g)(),g=(0,u.Zp)(),{theme:f}=(0,n.a)(),[y,_]=(0,d.useState)(!1),[x,M]=(0,d.useState)(!1);l()(r,"[RunPage] Run UUID route param not provided"),l()(o,"[RunPage] Experiment ID route param not provided");const{experiment:Y,error:w,latestMetrics:A,loading:I,params:b,refetchRun:C,runInfo:R,tags:S,experimentFetchError:D,runFetchError:N,apiError:T,datasets:F}=pr({experimentId:o,runUuid:r}),[E,U]=(0,d.useMemo)((()=>A?[Object.keys(A).filter((e=>!(0,be.bw)(e))),Object.keys(A).filter((e=>(0,be.bw)(e)))]:[[],[]]),[A]),{comparedExperimentIds:H=[],hasComparedExperimentsBefore:L=!1}=(0,a.d4)((e=>e.comparedExperiments||{})),B=ue(),P=(0,oe.U)(`(min-width: ${f.responsive.breakpoints.sm}px)`),V=I&&(!R||!Y);return N instanceof Be.s&&N.getErrorCode()===gr.tG.RESOURCE_DOES_NOT_EXIST||(null===T||void 0===T?void 0:T.code)===gr.tG.RESOURCE_DOES_NOT_EXIST||w&&Hr(w).match(/not found$/)?(0,k.Y)(mr,{runId:r}):D instanceof Be.s&&D.getErrorCode()===gr.tG.RESOURCE_DOES_NOT_EXIST?(0,k.Y)(fr.A,{}):N||D?null:(0,K.wD)()&&(w||T)?(0,k.Y)("div",{css:(0,s.AH)({marginTop:f.spacing.lg},""),children:(0,k.Y)(i.SvL,{title:(0,k.Y)(v.A,{id:"XaC3qF",defaultMessage:"Can't load run details"}),description:Hr(null!==T&&void 0!==T?T:w),image:(0,k.Y)(n.y,{})})}):!V&&R&&Y?(0,k.FD)(k.FK,{children:[(0,k.FD)(c.L,{usesFullHeight:P,children:[(0,k.Y)(Me,{comparedExperimentIds:H,experiment:Y,handleRenameRunClick:()=>_(!0),handleDeleteRunClick:()=>M(!0),hasComparedExperimentsBefore:L,runDisplayName:p.A.getRunDisplayName(R,r),runTags:S,runParams:b,runUuid:r,artifactRootUri:null!==(e=null===R||void 0===R?void 0:R.artifactUri)&&void 0!==e?e:void 0}),(0,k.Y)("div",{css:(0,s.AH)({flex:1,overflow:"auto",marginBottom:f.spacing.sm,display:"flex"},""),children:(()=>{var e;if(!R)return null;switch(B){case h.N3.MODEL_METRIC_CHARTS:return(0,K.b2)()?(0,k.Y)(Dr,{mode:"model",metricKeys:E,runInfo:R,latestMetrics:A,tags:S,params:b},"model"):(0,k.Y)(at,{mode:"model",metricKeys:E,runInfo:R});case h.N3.SYSTEM_METRIC_CHARTS:return(0,K.b2)()?(0,k.Y)(Dr,{mode:"system",metricKeys:U,runInfo:R,latestMetrics:A,tags:S,params:b},"system"):(0,k.Y)(at,{mode:"system",metricKeys:U,runInfo:R});case h.N3.ARTIFACTS:return(0,k.Y)(le,{runUuid:r,runTags:S,experimentId:o,artifactUri:null!==(e=R.artifactUri)&&void 0!==e?e:void 0});case h.N3.TRACES:if((0,K.oX)())return(0,k.Y)(Er,{runUuid:r,runTags:S,experimentId:o})}return(0,k.Y)(dr,{runInfo:R,tags:S,params:b,latestMetrics:A,runUuid:r,onRunDataUpdated:C,datasets:F})})()})]}),(0,k.Y)(m.jP,{runUuid:r,onClose:()=>_(!1),runName:null!==(t=R.runName)&&void 0!==t?t:"",isOpen:y,onSuccess:C}),(0,k.Y)(vr.A,{selectedRunIds:[r],onClose:()=>M(!1),isOpen:x,onSuccess:()=>{g(ce.h.getExperimentPageRoute(o))}})]}):(0,k.Y)(Lr,{})};var Pr=Br},87665:function(e,t,r){r.d(t,{QN:function(){return u},F3:function(){return h},xH:function(){return m},BE:function(){return p}});var s=r(31014),i=r(33678),n=r(87380),a=r(88443),o=r(50111);const{Option:l,OptGroup:d}=i._vn,c="Create New Model",u=`$$$__${c}__$$$`,p="selectedModel",h="modelName";class m extends s.Component{constructor(){super(...arguments),this.state={selectedModel:null},this.handleModelSelectChange=e=>{this.setState({selectedModel:e})},this.modelNameValidator=(e,t,r)=>{const{modelByName:s}=this.props;r(s[t]?`Model "${t}" already exists.`:void 0)},this.handleFilterOption=(e,t)=>-1!==(t&&t.value||"").toLowerCase().indexOf(e.toLowerCase())}renderExplanatoryText(){const{isCopy:e}=this.props,{selectedModel:t}=this.state;if(!t||t===u)return null;const r=e?(0,o.Y)(a.A,{id:"hxMEqi",defaultMessage:"The model version will be copied to {selectedModel} as a new version.",values:{selectedModel:t}}):(0,o.Y)(a.A,{id:"zjXq2X",defaultMessage:"The model will be registered as a new version of {selectedModel}.",values:{selectedModel:t}});return(0,o.Y)("p",{className:"modal-explanatory-text",children:r})}renderModel(e){return(0,o.Y)(l,{value:e.name,children:e.name},e.name)}render(){const{modelByName:e,innerRef:t,isCopy:r}=this.props,{selectedModel:s}=this.state,a=s===u;return(0,o.FD)(i.SQ4,{ref:t,layout:"vertical",className:"register-model-form",children:[(0,o.Y)(i.SQ4.Item,{label:r?(0,o.Y)("b",{children:"Copy to model"}):"Model",name:p,rules:[{required:!0,message:"Please select a model or create a new one."}],children:(0,o.FD)(i._vn,{dropdownClassName:"model-select-dropdown",onChange:this.handleModelSelectChange,placeholder:"Select a model",filterOption:this.handleFilterOption,onSearch:this.props.onSearchRegisteredModels,showSearch:!0,children:[(0,o.FD)(l,{value:u,className:"create-new-model-option",children:[(0,o.Y)("i",{className:"fa fa-plus fa-fw",style:{fontSize:13}})," ",c]}),(0,o.Y)(d,{label:"Models",children:Object.values(e).map((e=>this.renderModel(e)))})]})}),a?(0,o.Y)(i.SQ4.Item,{label:"Model Name",name:h,rules:[{required:!0,message:"Please input a name for the new model."},{validator:this.modelNameValidator}],children:(0,o.Y)(n.I,{componentId:"codegen_mlflow_app_src_model-registry_components_registermodelform.tsx_132",placeholder:"Input a model name"})}):null,this.renderExplanatoryText()]})}}},59508:function(e,t,r){r.d(t,{_C:function(){return o},pc:function(){return n},so:function(){return a}});var s=r(81866),i=r(69708);function n(e){return e?`${s.Qs} ilike ${(0,i.GP)(e,!0)}`:""}function a(){let{query:e=""}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const t=[],r=e.includes("tags.")?e:n(e);return r&&t.push(r),t.join(" AND ")}function o(e){return"searchInput"in e?e.searchInput:"nameSearchInput"in e&&"tagSearchInput"in e?n(e.nameSearchInput)+" AND "+e.tagSearchInput:"tagSearchInput"in e?e.tagSearchInput:"nameSearchInput"in e?e.nameSearchInput:""}},61902:function(e){e.exports=function(e,t){if("string"===typeof e)return a(e);if("number"===typeof e)return n(e,t);return null},e.exports.format=n,e.exports.parse=a;var t=/\B(?=(\d{3})+(?!\d))/g,r=/(?:\.0*|(\.[^0]+)0+)$/,s={b:1,kb:1024,mb:1<<20,gb:1<<30,tb:1024*(1<<30)},i=/^((-|\+)?(\d+(?:\.\d+)?)) *(kb|mb|gb|tb)$/i;function n(e,i){if(!Number.isFinite(e))return null;var n=Math.abs(e),a=i&&i.thousandsSeparator||"",o=i&&i.unitSeparator||"",l=i&&void 0!==i.decimalPlaces?i.decimalPlaces:2,d=Boolean(i&&i.fixedDecimals),c=i&&i.unit||"";c&&s[c.toLowerCase()]||(c=n>=s.tb?"TB":n>=s.gb?"GB":n>=s.mb?"MB":n>=s.kb?"KB":"B");var u=(e/s[c.toLowerCase()]).toFixed(l);return d||(u=u.replace(r,"$1")),a&&(u=u.replace(t,a)),u+o+c}function a(e){if("number"===typeof e&&!isNaN(e))return e;if("string"!==typeof e)return null;var t,r=i.exec(e),n="b";return r?(t=parseFloat(r[1]),n=r[4].toLowerCase()):(t=parseInt(e,10),n="b"),Math.floor(s[n]*t)}}}]);
//# sourceMappingURL=179.ddee5d83.chunk.js.map