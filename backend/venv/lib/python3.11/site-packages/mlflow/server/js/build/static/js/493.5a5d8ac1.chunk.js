(self.webpackChunk_mlflow_mlflow=self.webpackChunk_mlflow_mlflow||[]).push([[493],{77198:function(e,t,n){"use strict";n.d(t,{h:function(){return u}});var r,i,o,s,a,l=n(31014);function c(){return c=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},c.apply(null,arguments)}function d(e,t){let{title:n,titleId:d,...u}=e;return l.createElement("svg",c({width:18,height:16,viewBox:"0 0 18 16",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:t,"aria-labelledby":d},u),n?l.createElement("title",{id:d},n):null,r||(r=l.createElement("path",{d:"M1 0.813599V15.1865H17",stroke:"#A3AEB8",strokeLinecap:"round"})),i||(i=l.createElement("rect",{x:3.16943,y:10.5763,width:2.16949,height:3.25424,fill:"#338ECC"})),o||(o=l.createElement("rect",{x:6.42371,y:5.15259,width:2.16949,height:8.67797,fill:"#338ECC"})),s||(s=l.createElement("rect",{x:9.67798,y:8.40686,width:2.16949,height:5.42373,fill:"#338ECC"})),a||(a=l.createElement("rect",{x:12.9323,y:1.89832,width:2.16949,height:11.9322,fill:"#338ECC"})))}const u=l.forwardRef(d);n.p},6211:function(e,t,n){"use strict";n.d(t,{h:function(){return c}});var r,i,o,s=n(31014);function a(){return a=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},a.apply(null,arguments)}function l(e,t){let{title:n,titleId:l,...c}=e;return s.createElement("svg",a({width:18,height:18,viewBox:"0 0 18 18",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:t,"aria-labelledby":l},c),n?s.createElement("title",{id:l},n):null,r||(r=s.createElement("path",{d:"M1 1V17H17",stroke:"#A3AEB8",strokeLinecap:"round"})),i||(i=s.createElement("path",{d:"M12.9749 4.94148C12.9188 4.71702 12.221 4.73284 12.0618 4.71515C11.1779 4.61693 10.2817 4.66052 9.39271 4.66052C8.11919 4.66052 7.15648 4.97961 6.24753 5.90922C5.86197 6.30355 5.5235 6.77684 5.23295 7.24378C4.99434 7.62726 4.65544 7.93479 4.40569 8.31299C3.93777 9.02154 3.56281 9.80723 3.56281 10.6699C3.56281 11.1806 3.37479 11.598 3.76962 12.0669C4.19449 12.5714 4.6863 12.9507 5.27978 13.2649C5.88594 13.5858 6.42202 13.8619 7.13723 13.8619C7.74338 13.8619 8.34952 13.8619 8.95567 13.8619C9.45735 13.8619 9.96042 13.8731 10.4619 13.8619C11.1412 13.8468 11.9484 13.1895 12.413 12.7381C13.581 11.6035 14.2393 9.88016 14.2393 8.24665C14.2393 7.69923 14.3797 7.17063 14.3797 6.62723C14.3797 6.40084 14.4779 5.87696 14.2744 5.71411C13.9268 5.43606 13.5785 5.13789 13.1857 4.94148",stroke:"#338ECC",strokeLinecap:"round"})),o||(o=s.createElement("path",{d:"M11.9213 6.83789C11.2761 6.83789 10.6309 6.83789 9.98577 6.83789C9.19776 6.83789 8.80182 7.44144 8.2844 7.97734C7.58163 8.70521 7.28544 9.67306 7.28544 10.666C7.28544 10.9641 7.22004 11.177 7.46104 11.3645C7.6831 11.5372 8.10719 11.6142 8.37806 11.6142C9.07316 11.6142 9.91042 11.5583 10.4462 11.0523C10.9277 10.5975 11.473 10.3701 11.8159 9.75284C12.045 9.34042 12.2022 8.86324 12.2022 8.38317C12.2022 8.14903 12.2022 7.9149 12.2022 7.68077C12.2022 7.4241 12.0208 7.38817 11.9213 7.18909",stroke:"#338ECC",strokeLinecap:"round"})))}const c=s.forwardRef(l);n.p},32582:function(e,t,n){"use strict";n.d(t,{h:function(){return M}});var r,i,o,s,a,l,c,d,u,p,m,h,g,f,v,y,x,C,b=n(31014);function _(){return _=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},_.apply(null,arguments)}function w(e,t){let{title:n,titleId:w,...M}=e;return b.createElement("svg",_({width:16,height:16,viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:t,"aria-labelledby":w},M),n?b.createElement("title",{id:w},n):null,r||(r=b.createElement("rect",{y:2,width:4,height:1,fill:"#338ECC"})),i||(i=b.createElement("rect",{x:5,y:2,width:4,height:1,fill:"#338ECC"})),o||(o=b.createElement("rect",{x:10,y:2,width:4,height:1,fill:"#338ECC"})),s||(s=b.createElement("rect",{y:4,width:4,height:1,fill:"#338ECC"})),a||(a=b.createElement("rect",{x:5,y:4,width:4,height:1,fill:"#338ECC"})),l||(l=b.createElement("rect",{x:10,y:4,width:4,height:1,fill:"#338ECC"})),c||(c=b.createElement("rect",{y:6,width:4,height:1,fill:"#D9D9D9"})),d||(d=b.createElement("rect",{x:5,y:6,width:4,height:1,fill:"#D9D9D9"})),u||(u=b.createElement("rect",{x:10,y:6,width:4,height:1,fill:"#D9D9D9"})),p||(p=b.createElement("rect",{y:8,width:4,height:1,fill:"#D9D9D9"})),m||(m=b.createElement("rect",{x:5,y:8,width:4,height:1,fill:"#D9D9D9"})),h||(h=b.createElement("rect",{x:10,y:8,width:4,height:1,fill:"#D9D9D9"})),g||(g=b.createElement("rect",{y:10,width:4,height:1,fill:"#D9D9D9"})),f||(f=b.createElement("rect",{x:5,y:10,width:4,height:1,fill:"#D9D9D9"})),v||(v=b.createElement("rect",{x:10,y:10,width:4,height:1,fill:"#D9D9D9"})),y||(y=b.createElement("rect",{y:12,width:4,height:1,fill:"#D9D9D9"})),x||(x=b.createElement("rect",{x:5,y:12,width:4,height:1,fill:"#D9D9D9"})),C||(C=b.createElement("rect",{x:10,y:12,width:4,height:1,fill:"#D9D9D9"})))}const M=b.forwardRef(w);n.p},99790:function(e,t,n){"use strict";n.d(t,{h:function(){return d}});var r,i,o,s,a=n(31014);function l(){return l=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},l.apply(null,arguments)}function c(e,t){let{title:n,titleId:c,...d}=e;return a.createElement("svg",l({width:16,height:16,viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:t,"aria-labelledby":c},d),n?a.createElement("title",{id:c},n):null,r||(r=a.createElement("rect",{x:.5,y:.5,width:15,height:15,stroke:"#C4C4C4"})),i||(i=a.createElement("line",{x1:8.5,y1:.800049,x2:8.5,y2:16,stroke:"#C4C4C4"})),o||(o=a.createElement("line",{x1:16,y1:5.69995,x2:-2.63656e-8,y2:5.69995,stroke:"#C4C4C4"})),s||(s=a.createElement("line",{x1:16,y1:10.9,x2:-2.63656e-8,y2:10.9,stroke:"#C4C4C4"})))}const d=a.forwardRef(c);n.p},73549:function(e,t,n){"use strict";n.d(t,{h:function(){return l}});var r,i,o=n(31014);function s(){return s=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},s.apply(null,arguments)}function a(e,t){let{title:n,titleId:a,...l}=e;return o.createElement("svg",s({width:22,height:22,viewBox:"0 0 22 22",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:t,"aria-labelledby":a},l),n?o.createElement("title",{id:a},n):null,r||(r=o.createElement("path",{d:"M4.38977 15.717L8.79655 10.8113L12.5254 14.9622L19.644 7.03772",stroke:"#338ECC",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"})),i||(i=o.createElement("path",{d:"M1 1V21H21",stroke:"#A3AEB8",strokeLinecap:"round"})))}const l=o.forwardRef(a);n.p},43270:function(e,t,n){"use strict";n.d(t,{h:function(){return u}});var r,i,o,s,a,l=n(31014);function c(){return c=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},c.apply(null,arguments)}function d(e,t){let{title:n,titleId:d,...u}=e;return l.createElement("svg",c({width:18,height:18,viewBox:"0 0 18 18",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:t,"aria-labelledby":d},u),n?l.createElement("title",{id:d},n):null,r||(r=l.createElement("path",{d:"M1 1V17H17",stroke:"#A3AEB8",strokeLinecap:"round"})),i||(i=l.createElement("path",{d:"M4.21875 3.58289C4.55663 3.58289 4.88067 3.68935 5.21469 3.73008C5.6474 3.78285 6.02137 3.96513 6.37191 4.21552C6.76902 4.49917 7.0271 4.74589 7.24101 5.18954C7.44337 5.60925 7.59378 6.06989 7.72958 6.51432C7.86002 6.94121 8.09708 7.33726 8.19153 7.77803C8.25347 8.0671 8.34514 8.32427 8.44678 8.60015C8.58028 8.96252 8.80086 9.27915 8.96667 9.62583C9.15145 10.0122 9.216 10.4461 9.34876 10.8551C9.57831 11.5623 9.91132 12.4763 10.7205 12.6731C11.4284 12.8453 12.1459 12.8845 12.8705 12.8845C13.0981 12.8845 13.3979 12.898 13.5831 12.7499C13.6402 12.7042 13.7451 12.6907 13.8164 12.6591C13.8752 12.6329 14.0919 12.5871 14.1123 12.5463",stroke:"#CCE3F2",strokeLinecap:"round"})),o||(o=l.createElement("path",{d:"M4.16162 12.9805C4.32512 12.9805 4.4895 12.9859 4.65284 12.9805C4.84076 12.9742 5.0468 12.7952 5.2099 12.707C5.62236 12.4841 5.99426 12.0648 6.24299 11.6739C6.49491 11.2781 6.8776 10.9871 7.0887 10.5649C7.27767 10.187 7.50992 9.80749 7.73691 9.45078C7.93911 9.13304 8.10211 8.77722 8.28637 8.44554C8.43088 8.18544 8.45 7.88672 8.60542 7.62768C8.94898 7.05509 9.16215 6.418 9.45873 5.82484C9.72614 5.29001 9.96898 4.82426 10.4159 4.42207C10.5753 4.27853 10.8984 4.21824 11.0995 4.14861C11.3303 4.06873 11.579 4.02714 11.8136 3.93592C12.0394 3.84807 12.2521 3.84383 12.4795 3.77386C12.6993 3.70623 12.9319 3.63713 13.1632 3.63713C13.5192 3.63713 13.9089 3.59155 14.2798 3.59155",stroke:"#CCE3F2",strokeLinecap:"round"})),s||(s=l.createElement("path",{d:"M3.79248 2.74207V13.8225",stroke:"#338ECC",strokeLinecap:"round"})),a||(a=l.createElement("path",{d:"M14.873 3.04419V13.7217",stroke:"#338ECC",strokeLinecap:"round"})))}const u=l.forwardRef(d);n.p},74035:function(e,t,n){"use strict";n.d(t,{h:function(){return m}});var r,i,o,s,a,l,c,d=n(31014);function u(){return u=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},u.apply(null,arguments)}function p(e,t){let{title:n,titleId:p,...m}=e;return d.createElement("svg",u({width:18,height:16,viewBox:"0 0 18 16",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:t,"aria-labelledby":p},m),n?d.createElement("title",{id:p},n):null,r||(r=d.createElement("path",{d:"M1 0.813599V15.1865H17",stroke:"#A3AEB8",strokeLinecap:"round"})),i||(i=d.createElement("circle",{cx:3.98301,cy:12.4746,r:1.35593,fill:"#338ECC"})),o||(o=d.createElement("ellipse",{cx:9.40684,cy:10.8475,rx:1.35593,ry:1.35593,fill:"#338ECC"})),s||(s=d.createElement("circle",{cx:5.6102,cy:8.1356,r:1.35593,fill:"#338ECC",fillOpacity:.25})),a||(a=d.createElement("circle",{cx:9.40684,cy:6.50852,r:1.35593,fill:"#338ECC"})),l||(l=d.createElement("ellipse",{cx:13.7457,cy:5.96616,rx:1.35593,ry:1.35593,fill:"#338ECC",fillOpacity:.25})),c||(c=d.createElement("ellipse",{cx:16.4576,cy:2.46128,rx:1.35593,ry:1.35593,fill:"#338ECC"})))}const m=d.forwardRef(p);n.p},21317:function(e,t,n){"use strict";n.d(t,{h:function(){return u}});var r,i,o,s,a,l=n(31014);function c(){return c=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},c.apply(null,arguments)}function d(e,t){let{title:n,titleId:d,...u}=e;return l.createElement("svg",c({width:19,height:16,viewBox:"0 0 19 16",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:t,"aria-labelledby":d},u),n?l.createElement("title",{id:d},n):null,l.createElement("g",{clipPath:"url(#clip0_0_3)"},l.createElement("mask",{id:"mask0_0_3",style:{maskType:"luminance"},maskUnits:"userSpaceOnUse",x:0,y:0,width:16,height:16},r||(r=l.createElement("path",{d:"M16 0H0V16H16V0Z",fill:"white"}))),i||(i=l.createElement("g",{mask:"url(#mask0_0_3)"},l.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M2.75 3.49999C2.05964 3.49999 1.5 4.05963 1.5 4.74999C1.5 5.44034 2.05964 5.99999 2.75 5.99999C3.44036 5.99999 4 5.44034 4 4.74999C4 4.05963 3.44036 3.49999 2.75 3.49999ZM0 4.74999C0 3.2312 1.23122 1.99999 2.75 1.99999C3.77682 1.99999 4.6722 2.56276 5.14452 3.39669L9.51655 2.44626C9.66772 1.0704 10.8338 0 12.25 0C13.7688 0 15 1.23122 15 2.75C15 3.87686 14.3222 4.84541 13.3521 5.27025L13.6341 7.52661C14.9711 7.71349 16 8.86158 16 10.25C16 11.7688 14.7687 13 13.25 13C12.3895 13 11.6214 12.6048 11.1172 11.9861L8.49749 13.1322C8.49913 13.1713 8.49997 13.2105 8.49997 13.25C8.49996 14.7688 7.26875 16 5.74997 16C4.23118 16 2.99997 14.7688 2.99996 13.25C2.99997 12.3569 3.42568 11.5633 4.08524 11.0609L3.01322 7.48755C2.92659 7.49578 2.83878 7.49999 2.75 7.49999C1.23122 7.49999 0 6.26877 0 4.74999ZM5.46534 5.18782C5.48277 5.07884 5.4938 4.96773 5.49804 4.85488L9.76409 3.92748C10.1528 4.74671 10.9346 5.34321 11.8658 5.47338L12.1478 7.72974C11.7709 7.89483 11.438 8.14204 11.1719 8.44873L5.46534 5.18782ZM4.82802 6.55126C4.70399 6.69422 4.56546 6.82424 4.41471 6.93906L5.48674 10.5124C5.57337 10.5042 5.66118 10.5 5.74997 10.5C6.69483 10.5 7.52839 10.9765 8.02345 11.7023L10.5231 10.6087C10.5079 10.4913 10.5 10.3716 10.5 10.25C10.5 10.101 10.5118 9.95475 10.5346 9.81218L4.82802 6.55126ZM12 10.25C12 9.55963 12.5596 8.99999 13.25 8.99999C13.9403 8.99999 14.5 9.55963 14.5 10.25C14.5 10.9403 13.9403 11.5 13.25 11.5C12.5596 11.5 12 10.9403 12 10.25ZM5.74997 12C5.05961 12 4.49997 12.5596 4.49997 13.25C4.49997 13.9403 5.05961 14.5 5.74997 14.5C6.44032 14.5 6.99997 13.9403 6.99997 13.25C6.99997 12.5596 6.44032 12 5.74997 12ZM11 2.75C11 2.05964 11.5596 1.5 12.25 1.5C12.9403 1.5 13.5 2.05964 13.5 2.75C13.5 3.44036 12.9403 4 12.25 4C11.5596 4 11 3.44036 11 2.75Z",fill:"currentColor"}))),o||(o=l.createElement("path",{d:"M13.5 14C15.433 14 17 12.433 17 10.5C17 8.567 15.433 7 13.5 7C11.567 7 10 8.567 10 10.5C10 12.433 11.567 14 13.5 14Z",fill:"white"})),s||(s=l.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M11.125 11C11.125 9.41218 12.4122 8.125 14 8.125C15.5878 8.125 16.875 9.41218 16.875 11C16.875 12.5878 15.5878 13.875 14 13.875C12.4122 13.875 11.125 12.5878 11.125 11ZM14 6.625C11.5838 6.625 9.625 8.58375 9.625 11C9.625 13.4162 11.5838 15.375 14 15.375C16.4162 15.375 18.375 13.4162 18.375 11C18.375 8.58375 16.4162 6.625 14 6.625ZM14.0303 12.5303L16.0303 10.5303L14.9697 9.46967L13.5 10.9393L13.0303 10.4697L11.9697 11.5303L12.9697 12.5303L13.5 13.0607L14.0303 12.5303Z",fill:"#3CAA60"}))),a||(a=l.createElement("defs",null,l.createElement("clipPath",{id:"clip0_0_3"},l.createElement("rect",{width:19,height:16,fill:"white"})))))}const u=l.forwardRef(d);n.p},40555:function(e,t,n){"use strict";n.d(t,{fX:function(){return u},fh:function(){return l}});var r=n(89555),i=n(31014),o=n(37616),s=n(9133),a=n(50111);const l=e=>{let{json:t,wrapperStyle:n,overlayStyle:i,codeSnippetStyle:s}=e;const{formattedJson:l,isJsonContent:d}=c(t);return(0,a.Y)("div",{style:{position:"relative",maxHeight:"calc(1.5em * 9)",overflow:"hidden",...n},children:d?(0,a.FD)(a.FK,{children:[(0,a.Y)(o.z7,{language:"json",style:{padding:"5px",overflowX:"hidden",...s},children:l}),(0,a.Y)("div",{css:(0,r.AH)({position:"absolute",bottom:0,right:0,left:6,height:"2em",background:"linear-gradient(transparent, white)",...i},"")})]}):(0,a.Y)(a.FK,{children:t})})};function c(e){return i.useMemo((()=>{try{const t=JSON.parse(e),n=(0,s.isObject)(t)&&"function"!==typeof t&&!(t instanceof Date);return{formattedJson:n?JSON.stringify(t,null,2):e,isJsonContent:n}}catch(t){return{formattedJson:e,isJsonContent:!1}}}),[e])}var d={name:"1089mxj",styles:"white-space:pre-wrap"};const u=e=>{let{json:t}=e;const{formattedJson:n,isJsonContent:r}=c(t);return(0,a.Y)("div",{css:d,children:r?(0,a.Y)(o.z7,{language:"json",wrapLongLines:!0,children:n}):(0,a.Y)("span",{children:t})})}},14343:function(e,t,n){"use strict";n.d(t,{k:function(){return a}});var r=n(89555),i=n(31014),o=n(28741),s=n(50111);const a=i.forwardRef(((e,t)=>{const{pressed:n,onClick:i,icon:a,onBlur:l,onFocus:c,onMouseEnter:d,onMouseLeave:u,componentId:p,analyticsEvents:m,type:h,...g}=e,{theme:f}=(0,o.a)(),v=(0,o.c)({componentType:o.d.Button,componentId:p,analyticsEvents:null!==m&&void 0!==m?m:[o.b.OnClick]});return(0,s.Y)("button",{onClick:e=>{v.onClick(e),null===i||void 0===i||i(e)},css:(0,r.AH)({cursor:"pointer",width:f.general.heightSm,height:f.general.heightSm,borderRadius:f.legacyBorders.borderRadiusMd,lineHeight:f.typography.lineHeightBase,padding:0,border:0,display:"flex",alignItems:"center",justifyContent:"center",background:n?f.colors.actionDefaultBackgroundPress:"transparent",color:n?f.colors.actionDefaultTextPress:f.colors.textSecondary,"&:hover":{background:f.colors.actionDefaultBackgroundHover,color:f.colors.actionDefaultTextHover}},""),ref:t,onBlur:l,onFocus:c,onMouseEnter:d,onMouseLeave:u,...g,children:a})}))},90765:function(e,t,n){"use strict";n.d(t,{G:function(){return p},S:function(){return d}});var r=n(42380),i=n(31014),o=n(7781),s=n(95177),a=n(6993),l=n(4591),c=n(50111);const d=e=>{let{dragGroupKey:t,dragKey:n,onDrop:r,disabled:a=!1}=e;const l=(0,i.useRef)(r);l.current=r;const[{isOver:c,draggedItem:d},u]=(0,o.H)({canDrop:()=>!a,accept:`dnd-${t}`,drop:(e,t)=>{let{key:r}=e;r===n||t.didDrop()||l.current(r,n)},collect:e=>({isOver:e.isOver({shallow:!0}),draggedItem:e.getItem()})},[a,t,n]),[{isDragging:p},m,h]=(0,s.i)({canDrag:()=>!a,type:`dnd-${t}`,item:{key:n,groupKey:t},collect:e=>({isDragging:e.isDragging()})},[a,t,n]);return{dropTargetRef:u,dragHandleRef:m,dragPreviewRef:h,isDragging:p,isOver:c,isDraggingOtherGroup:Boolean(d&&d.groupKey!==t)}};var u={name:"49aokf",styles:"display:contents"};const p=e=>{let{children:t}=e;const n=(0,i.useRef)(null),[o,s]=(0,i.useState)(null);return(0,i.useLayoutEffect)((()=>{const e=n.current,t=(0,r.b)(l.t2,void 0,{rootElement:e});return s(t),()=>{t.getBackend().teardown()}}),[]),(0,c.Y)("div",{css:u,ref:n,children:o&&(0,c.Y)(a.Q,{manager:o,children:t})})}},4972:function(e,t,n){"use strict";n.d(t,{$:function(){return i}});var r=n(31014);const i=()=>{const[e,t]=(0,r.useState)("visible"===document.visibilityState);return(0,r.useEffect)((()=>{document.addEventListener("visibilitychange",(e=>{t("visible"===document.visibilityState)}))}),[]),e}},915:function(e,t,n){"use strict";n.d(t,{A:function(){return a}});const r=1,i=3,o=330,s=16,a=e=>{let{minColumns:t=r,maxColumns:n=i,minColumnWidth:a=o,gap:l=s,additionalBreakpoints:c=[]}=e;return{display:"grid",gridTemplateColumns:`repeat(\n      auto-fit,\n      minmax(\n        min(\n          calc(\n            100%/${t} - ${l}px\n          ),\n          max(\n            ${a}px,\n            calc(100%/${n} - ${l}px)\n          )\n        ),\n        1fr\n      )\n    )`,gap:l,...c.reduce(((e,t)=>{let{breakpointWidth:n,minColumnWidthForBreakpoint:r}=t;return{...e,[`@media (min-width: ${n}px)`]:{gridTemplateColumns:`repeat(\n        auto-fit,\n        minmax(\n          ${r}px,\n          1fr\n        )\n      )`}}}),{})}}},32614:function(e,t,n){"use strict";n.d(t,{A:function(){return r}});class r{static getStoreForComponent(e,t){return new i([e,t].join("-"),"localStorage")}static getSessionScopedStoreForComponent(e,t){return new i([e,t].join("-"),"sessionStorage")}}r.version="1.1";class i{constructor(e,t){this.scope=void 0,this.storageObj=void 0,this.scope=e,this.storageObj="localStorage"===t?window.localStorage:window.sessionStorage}loadComponentState(){const e=this.getItem(i.reactComponentStateKey);return e?JSON.parse(e):{}}saveComponentState(e){const t="function"===typeof e.toJSON?e.toJSON():e;this.setItem(i.reactComponentStateKey,JSON.stringify(t))}withScopePrefix(e){return["MLflowLocalStorage",r.version,this.scope,e].join("-")}setItem(e,t){this.storageObj.setItem(this.withScopePrefix(e),t)}getItem(e){return this.storageObj.getItem(this.withScopePrefix(e))}}i.reactComponentStateKey="ReactComponentState"},857:function(e,t,n){"use strict";n.d(t,{v:function(){return i}});var r=n(31014);const i=e=>{const[t,n]=(0,r.useState)(null),[i,o]=(0,r.useState)(void 0);return(0,r.useEffect)((()=>{if(!t||!window.ResizeObserver)return;const n=new ResizeObserver((t=>{let[n]=t;null===e||void 0===e||e(n),n.target.scrollHeight&&o(n.target.scrollHeight)}));return n.observe(t),()=>n.disconnect()}),[t,e]),{elementHeight:i,observeHeight:n}}},1323:function(e,t,n){"use strict";n.d(t,{m:function(){return s}});var r=n(33678),i=n(50361),o=n(50111);const s=e=>{let{sourceType:t,className:n}=e;return t===i.Y1.NOTEBOOK?(0,o.Y)(r.Trs,{className:n}):t===i.Y1.LOCAL?(0,o.Y)(r.fAJ,{className:n}):t===i.Y1.PROJECT?(0,o.Y)(r.wd0,{className:n}):t===i.Y1.JOB?(0,o.Y)(r.mCV,{className:n}):null}},76758:function(e,t,n){"use strict";n.d(t,{F:function(){return d}});var r=n(89555),i=n(28741),o=n(33678),s=n(87380),a=n(50111);const l=()=>{const{theme:e}=(0,i.a)();return(0,a.Y)(o.qhh,{css:(0,r.AH)({color:e.colors.textValidationDanger},"")})},c=()=>{const{theme:e}=(0,i.a)();return(0,a.Y)(o.C1y,{css:(0,r.AH)({color:e.colors.textValidationSuccess},"")})},d=e=>{let{status:t}=e;switch(t){case"FAILED":case"KILLED":return(0,a.Y)(l,{});case"FINISHED":return(0,a.Y)(c,{});case"SCHEDULED":case"RUNNING":return(0,a.Y)(s.C,{});default:return null}}},79432:function(e,t,n){"use strict";n.d(t,{E:function(){return u}});var r=n(89555),i=n(9133),o=n(31014),s=n(98655),a=n(28741),l=n(50111);const c="@media (-webkit-min-device-pixel-ratio: 2), (min-resolution: 192dpi)";var d={name:"13bnb9v",styles:"appearance:none;width:0;height:0;border:0;padding:0;position:absolute;bottom:0;visibility:hidden"};const u=e=>{var t;let{color:n,hidden:u,onChangeColor:p,...m}=e;const[h,g]=(0,o.useState)(void 0),f=(0,o.useMemo)((()=>p?(0,i.debounce)(p,300):()=>{}),[p]);return(0,l.FD)("label",{css:(0,r.AH)({width:12,height:12,borderRadius:6,flexShrink:0,border:"1px solid "+(u?"transparent":"rgba(0,0,0,0.1)"),[c]:{marginBottom:1},background:u?"repeating-linear-gradient(\n  135deg,\n  #959595 0,\n  #e7e7e7 1px,\n  #e7e7e7 2px,\n  #959595 3px,\n  #e7e7e7 4px,\n  #e7e7e7 5px,\n  #959595 6px,\n  #e7e7e7 7px,\n  #e7e7e7 8px,\n  #959595 9px,\n  #e7e7e7 10px,\n  #e7e7e7 11px,\n  #959595 12px,\n  #e7e7e7 13px,\n  #e7e7e7 14px\n)":void 0,cursor:p?"pointer":"default",position:"relative","&:hover":{opacity:p?.8:1}},""),style:{backgroundColor:null!==(t=null!==h&&void 0!==h?h:n)&&void 0!==t?t:"transparent"},...m,children:[(0,l.Y)("span",{css:[a.v,"user-select:none;"],children:n}),p&&(0,l.Y)("input",{disabled:u,type:"color",value:null!==h&&void 0!==h?h:n,onChange:e=>{let{target:t}=e;g(t.value),f(t.value)},list:s.U,css:d})]})}},85343:function(e,t,n){"use strict";n.d(t,{O:function(){return G}});var r=n(89555),i=n(31014),o=n(28741),s=n(33678),a=n(50353),l=n(25866),c=n(57207),d=n(88443),u=n(50111);var p={name:"1d3w5wq",styles:"width:100%"};const m=e=>{let{schema:t,filter:n}=e;const r=t.filter(((e,t)=>{return r=e.name,i=e.type,""===n||(null===r||void 0===r?void 0:r.toLowerCase().includes(n.toLowerCase()))||(null===i||void 0===i?void 0:i.toLowerCase().includes(n.toLowerCase()));var r,i}));return(0,u.FD)(s.XIK,{scrollable:!0,css:p,children:[(0,u.FD)(s.Hjg,{isHeader:!0,children:[(0,u.Y)(s.A0N,{componentId:"codegen_mlflow_app_src_experiment-tracking_components_experiment-page_components_runs_experimentviewdatasetschematable.tsx_57",children:(0,u.Y)(d.A,{id:"rCMgRJ",defaultMessage:"Name"})}),(0,u.Y)(s.A0N,{componentId:"codegen_mlflow_app_src_experiment-tracking_components_experiment-page_components_runs_experimentviewdatasetschematable.tsx_58",children:(0,u.Y)(d.A,{id:"a0NgR8",defaultMessage:"Type"})})]}),(0,u.Y)("div",{onWheel:e=>e.stopPropagation(),children:0===r.length?(0,u.Y)(s.Hjg,{children:(0,u.Y)(s.nA6,{children:(0,u.Y)(d.A,{id:"dl3Yfr",defaultMessage:"No results match this search."})})}):r.map(((e,t)=>(0,u.FD)(s.Hjg,{children:[(0,u.Y)(s.nA6,{children:e.name}),(0,u.Y)(s.nA6,{children:e.type})]},`table-body-row-${t}`)))})]})};var h={name:"zyllbl",styles:"display:flex;flex-direction:column;height:100vh"},g={name:"1bnvdh6",styles:"height:100%;display:flex;flex-direction:column;justify-content:flex-start;align-content:center"},f={name:"84euy4",styles:"display:flex;flex-direction:column;overflow:hidden;height:100vh"},v={name:"1d3w5wq",styles:"width:100%"},y={name:"s1n8ed",styles:"height:100vh"},x={name:"p03wc2",styles:"display:flex;flex-direction:column;align-items:center;justify-content:center;height:100%"},C={name:"1azakc",styles:"text-align:center"},b={name:"1r9xdqo",styles:"display:flex;flex-direction:column;justify-content:flex-start"},_={name:"1r9xdqo",styles:"display:flex;flex-direction:column;justify-content:flex-start"};const w=e=>{let{datasetWithTags:t}=e;const{theme:n}=(0,o.a)(),{dataset:a}=t,[l,c]=(0,i.useState)("");if(null===a.schema||""===a.schema)return(0,u.Y)("div",{css:h,children:(0,u.Y)("div",{css:g,children:(0,u.Y)(s.Y9Y,{title:(0,u.Y)("div",{css:(0,r.AH)({color:n.colors.grey600},""),children:"No schema available"})})})});try{const e=JSON.parse(a.schema);return"mlflow_colspec"in e?(0,u.FD)("div",{css:f,children:[(0,u.Y)("div",{css:(0,r.AH)({marginTop:n.spacing.sm,form:{width:"100%"}},""),children:(0,u.Y)(s.z2z,{componentId:"codegen_mlflow_app_src_experiment-tracking_components_experiment-page_components_runs_experimentviewdatasetschema.tsx_92",value:l,placeholder:"Search fields",onChange:e=>c(e.target.value),onClear:()=>{c("")},css:v,containerProps:{style:{width:"auto"}}})}),(0,u.Y)("div",{css:(0,r.AH)({marginTop:n.spacing.sm,overflow:"hidden"},""),children:(0,u.Y)(m,{schema:e.mlflow_colspec,filter:l})})]}):"mlflow_tensorspec"in e?(0,u.Y)("div",{css:y,children:(0,u.FD)("div",{css:x,children:[(0,u.Y)(s.KbA,{css:(0,r.AH)({fontSize:"56px",color:n.colors.grey600},"")}),(0,u.Y)(s.Y9Y,{title:(0,u.Y)("div",{css:(0,r.AH)({color:n.colors.grey600},""),children:"Array Datasource"})}),(0,u.Y)(o.p.Text,{color:n.colors.grey600,css:C,children:(0,u.Y)(d.A,{id:"sDqD2S",defaultMessage:"The dataset is an array. To see a preview of the dataset, view the dataset in the training notebook."})})]})}):(0,u.Y)("div",{css:(0,r.AH)({marginLeft:n.spacing.lg,marginTop:n.spacing.md,width:"100%"},""),children:(0,u.FD)("div",{css:b,children:[(0,u.Y)(s.Y9Y,{title:(0,u.Y)("div",{css:(0,r.AH)({color:n.colors.grey600},""),children:"Unrecognized Schema Format"})}),(0,u.FD)(o.p.Text,{color:n.colors.grey600,children:[(0,u.Y)(d.A,{id:"T/UYwm",defaultMessage:"Raw Schema JSON: "}),JSON.stringify(e)]})]})})}catch{return(0,u.Y)("div",{css:(0,r.AH)({marginLeft:n.spacing.lg,marginTop:n.spacing.md,width:"100%"},""),children:(0,u.Y)("div",{css:_,children:(0,u.Y)(s.Y9Y,{title:(0,u.Y)("div",{css:(0,r.AH)({color:n.colors.grey600},""),children:"No schema available"})})})})}};var M=n(32378),Y=n(18476),S=n(56412);const I=e=>{let{datasetWithTags:t,runTags:n}=e;const{dataset:r}=t;if(r.sourceType===M.Fv.HTTP||r.sourceType===M.Fv.HUGGING_FACE){const e=(0,Y.V)(t);if(e)return(0,u.Y)(o.B,{type:"primary",componentId:"codegen_mlflow_app_src_experiment-tracking_components_experiment-page_components_runs_experimentviewdatasetlink.tsx_19_1",icon:(0,u.Y)(o.a0,{}),href:e,target:"_blank",children:(0,u.Y)(d.A,{id:"Vvn8Cb",defaultMessage:"Open dataset"})})}if(r.sourceType===M.Fv.S3){const e=(0,Y.V)(t);if(e)return(0,u.Y)(S.i,{componentId:"codegen_mlflow_app_src_experiment-tracking_components_experiment-page_components_runs_experimentviewdatasetlink.tsx_19_2",icon:(0,u.Y)(s.TdU,{}),copyText:e,children:(0,u.Y)(d.A,{id:"SZj964",defaultMessage:"Copy S3 URI to clipboard"})})}return r.sourceType===M.Fv.EXTERNAL?(0,u.Y)(o.B,{componentId:"codegen_mlflow_app_src_experiment-tracking_components_experiment-page_components_runs_experimentviewdatasetlink.tsx_19_3",icon:(0,u.Y)(o.a0,{}),children:(0,u.Y)(d.A,{id:"tbAlJg",defaultMessage:"Go to external location"})}):null};var A=n(93215),E=n(58481),k=n(38243),R=n(79432);const T=e=>{let{datasetWithTags:t}=e;const{dataset:n}=t,r=n.sourceType,i=r===M.Fv.HTTP||r===M.Fv.EXTERNAL?(0,u.Y)(d.A,{id:"Aqq08o",defaultMessage:"HTTP"}):r===M.Fv.S3?(0,u.Y)(d.A,{id:"K5rmCE",defaultMessage:"S3"}):r===M.Fv.HUGGING_FACE?(0,u.Y)(d.A,{id:"JuHp/q",defaultMessage:"Hugging Face"}):null;return i?(0,u.Y)(o.p.Hint,{children:(0,u.Y)(d.A,{id:"g2tInh",defaultMessage:"Source type: {typeLabel}",values:{typeLabel:i}})}):null};var D={name:"andpxo",styles:"display:flex;overflow:hidden"},L={name:"1gz2b5f",styles:"overflow:hidden;text-overflow:ellipsis"},F={name:"l8l8b8",styles:"white-space:nowrap;overflow:hidden;text-overflow:ellipsis"};const H=e=>{let{datasetWithTags:t}=e;const{dataset:n}=t,{theme:i}=(0,o.a)(),s=n.sourceType;if(s===M.Fv.HTTP||s===M.Fv.EXTERNAL||s===M.Fv.HUGGING_FACE){const e=(0,Y.V)(t);if(e)return(0,u.FD)("div",{css:(0,r.AH)({whiteSpace:"nowrap",display:"flex",fontSize:i.typography.fontSizeSm,color:i.colors.textSecondary,columnGap:i.spacing.xs},""),title:e,children:["URL:"," ",(0,u.Y)(o.p.Link,{componentId:"codegen_mlflow_app_src_experiment-tracking_components_experiment-page_components_runs_experimentviewdatasetsourceurl.tsx_34",openInNewTab:!0,href:e,css:D,children:(0,u.Y)("span",{css:L,children:e})})]})}if(s===M.Fv.S3)try{const{uri:e}=JSON.parse(n.source);if(e)return(0,u.FD)(o.p.Hint,{title:e,css:F,children:["S3 URI: ",e]})}catch{return null}return null},N=e=>{let{datasetWithTags:t}=e;const{dataset:n}=t;return(0,u.Y)(o.p.Hint,{children:(0,u.Y)(d.A,{id:"WeAgwI",defaultMessage:"Digest: {digest}",values:{digest:(0,u.Y)("code",{children:n.digest})}})})};var O=n(70403);var K={name:"197dxto",styles:"display:flex;align-items:center;height:100%"},P={name:"sidtwu",styles:"display:flex;flex-direction:column;height:100%;overflow:auto"},z={name:"1v83iqf",styles:"text-align:left;overflow-x:auto;overflow-y:hidden"},U={name:"82a6rk",styles:"flex:1"},B={name:"fhxb3m",styles:"display:flex;flex-direction:row;align-items:center"},j={name:"1fu4rcv",styles:"margin-bottom:0;max-width:200px"};const W=e=>{var t;let{isOpen:n,setIsOpen:i,selectedDatasetWithRun:p,setSelectedDatasetWithRun:m}=e;const{theme:h}=(0,o.a)(),{datasetWithTags:g,runData:f}=p,v=p?null===g||void 0===g||null===(t=g.tags)||void 0===t?void 0:t.find((e=>e.key===l.AS)):void 0,y=g.dataset.profile&&"null"!==g.dataset.profile?g.dataset.profile:void 0,x=(0,O.LE)(),{experimentId:C="",tags:b={}}=f;return(0,u.Y)(s._s.Root,{open:n,onOpenChange:e=>{e||i(!1)},children:(0,u.Y)(s._s.Content,{componentId:"codegen_mlflow_app_src_experiment-tracking_components_experiment-page_components_runs_experimentviewdatasetdrawer.tsx_81",title:(0,u.FD)("div",{css:K,children:[(0,u.Y)(o.p.Title,{level:4,css:(0,r.AH)({marginRight:h.spacing.sm,marginBottom:0},""),children:(0,u.Y)(d.A,{id:"obI80o",defaultMessage:"Data details for "})}),(0,u.FD)(A.N_,{to:E.h.getRunPageRoute(C,f.runUuid),css:$.runLink,children:[(0,u.Y)(R.E,{color:x(f.runUuid)}),(0,u.Y)("span",{css:$.runName,children:f.runName})]})]}),width:"800px",footer:(0,u.Y)(a.S,{size:"xs"}),children:(0,u.FD)("div",{css:(0,r.AH)({display:"flex",borderTop:`1px solid ${h.colors.border}`,height:"100%",marginLeft:-h.spacing.sm},""),children:[(0,u.FD)("div",{css:(0,r.AH)({display:"flex",flexDirection:"column",width:"300px",borderRight:`1px solid ${h.colors.border}`,height:"100%"},""),children:[(0,u.FD)(o.p.Text,{color:"secondary",css:(0,r.AH)({marginBottom:h.spacing.sm,marginTop:h.spacing.sm,paddingLeft:h.spacing.sm},""),children:[f.datasets.length," ",(0,u.Y)(d.A,{id:"vK1v9d",defaultMessage:"datasets used"})]}),(0,u.Y)("div",{css:P,onWheel:e=>e.stopPropagation(),children:f.datasets.map((e=>(0,u.Y)("div",{css:(0,r.AH)({display:"flex",flexDirection:"column",justifyContent:"center",backgroundColor:e.dataset.name===g.dataset.name&&e.dataset.digest===g.dataset.digest?h.colors.backgroundSecondary:"transparent",borderTop:`1px solid ${h.colors.border}`,paddingBottom:h.spacing.sm,paddingTop:h.spacing.sm,paddingLeft:h.spacing.sm},""),children:(0,u.Y)(o.B,{componentId:"codegen_mlflow_app_src_experiment-tracking_components_experiment-page_components_runs_experimentviewdatasetdrawer.tsx_151",type:"link",css:z,onClick:()=>{m({datasetWithTags:e,runData:f}),i(!0)},children:(0,u.Y)(k.E,{datasetWithTags:e,displayTextAsLink:!1})})},`${e.dataset.name}-${e.dataset.digest}`)))})]}),(0,u.FD)("div",{css:(0,r.AH)({overflow:"hidden",paddingLeft:h.spacing.md,paddingTop:h.spacing.md,display:"flex",flexDirection:"column",width:"100%"},""),children:[(0,u.FD)("div",{css:(0,r.AH)({display:"flex",gap:h.spacing.sm},""),children:[(0,u.FD)("div",{css:U,children:[(0,u.Y)(s.Y9Y,{title:(0,u.FD)("div",{css:B,children:[(0,u.Y)(s.KbA,{css:(0,r.AH)({marginRight:h.spacing.xs},"")}),(0,u.Y)(s.paO,{title:g.dataset.name,children:(0,u.Y)(o.p.Title,{ellipsis:!0,level:3,css:j,children:g.dataset.name})}),v&&(0,u.Y)(s.vwO,{componentId:"codegen_mlflow_app_src_experiment-tracking_components_experiment-page_components_runs_experimentviewdatasetdrawer.tsx_206",css:(0,r.AH)({textTransform:"capitalize",marginLeft:h.spacing.xs,marginRight:h.spacing.xs},""),children:v.value})]})}),(0,u.Y)(o.p.Title,{level:4,color:"secondary",css:(0,r.AH)({marginBottom:h.spacing.xs,marginTop:h.spacing.xs},""),title:y,children:g.dataset.profile&&"null"!==g.dataset.profile?g.dataset.profile.length>80?`${g.dataset.profile.substring(0,80)} ...`:g.dataset.profile:(0,u.Y)(d.A,{id:"uq6CTI",defaultMessage:"No profile available"})})]}),(0,u.Y)(I,{datasetWithTags:g,runTags:b})]}),(0,u.FD)("div",{css:(0,r.AH)({flexShrink:0,display:"flex",flexDirection:"column",gap:h.spacing.xs},""),children:[(0,u.Y)(N,{datasetWithTags:g}),(0,u.Y)(T,{datasetWithTags:g}),(0,u.Y)(H,{datasetWithTags:g})]}),(0,u.Y)(c.A,{css:(0,r.AH)({marginTop:h.spacing.sm,marginBottom:h.spacing.xs},"")}),(0,u.Y)(w,{datasetWithTags:g})]})]})})})},G=i.memo(W),$={runLink:{overflow:"hidden",display:"flex",gap:8,alignItems:"center"},runName:{overflow:"hidden",textOverflow:"ellipsis",fontSize:"13px"}}},38243:function(e,t,n){"use strict";n.d(t,{E:function(){return c}});var r=n(89555),i=n(28741),o=n(33678),s=(n(31014),n(25866)),a=n(50111);var l={name:"1ykowef",styles:"margin-bottom:0"};const c=e=>{var t;let{datasetWithTags:n,displayTextAsLink:c,className:d}=e;const{dataset:u,tags:p}=n,{theme:m}=(0,i.a)();return(0,a.FD)("div",{css:(0,r.AH)({display:"flex",flexDirection:"row",alignItems:"center",marginTop:m.spacing.xs,marginBottom:m.spacing.xs},""),className:d,children:[(0,a.Y)(o.KbA,{css:(0,r.AH)({marginRight:m.spacing.xs,color:m.colors.textSecondary},"")}),c?(0,a.FD)("div",{children:[u.name," (",u.digest,")"]}):(0,a.FD)(i.p.Text,{size:"md",css:l,children:[u.name," (",u.digest,")"]}),(0,a.Y)(o.vwO,{componentId:"codegen_mlflow_app_src_experiment-tracking_components_experiment-page_components_runs_experimentviewdatasetwithcontext.tsx_41",css:(0,r.AH)({textTransform:"capitalize",marginLeft:m.spacing.xs,marginRight:m.spacing.xs},""),children:p&&(null===(t=p.find((e=>{let{key:t}=e;return t===s.AS})))||void 0===t?void 0:t.value)})]})}},15164:function(e,t,n){"use strict";n.d(t,{t:function(){return d}});var r=n(89555),i=n(31014),o=n(76010),s=n(28741),a=n(1323),l=n(50111);var c={name:"1gz2b5f",styles:"overflow:hidden;text-overflow:ellipsis"};const d=i.memo((e=>{var t;let{value:n}=e;const{theme:i}=(0,s.a)();if(!n)return(0,l.Y)(l.FK,{children:"-"});const d=(null===(t=n[o.A.sourceTypeTag])||void 0===t?void 0:t.value)||"",u=o.A.renderSource(n||{},void 0,void 0);return u?(0,l.FD)("div",{css:(0,r.AH)({display:"flex",gap:i.spacing.xs,alignItems:"center"},""),children:[(0,l.Y)(a.m,{sourceType:d,css:(0,r.AH)({color:i.colors.textSecondary},"")}),(0,l.Y)("span",{css:c,children:u})]}):(0,l.Y)(l.FK,{children:"-"})}))},21879:function(e,t,n){"use strict";n.d(t,{e:function(){return a},i:function(){return s}});var r=n(31014),i=n(50111);const o=r.createContext((e=>e)),s=e=>{let{children:t,setUIState:n}=e;return(0,i.Y)(o.Provider,{value:n,children:t})},a=()=>r.useContext(o)},24947:function(e,t,n){"use strict";n.d(t,{z:function(){return l}});var r=n(51079),i=n.n(r),o=n(31014),s=n(93215),a=n(76010);const l=()=>{const e=(0,s.g)(),t=(0,s.zy)(),n=(0,o.useMemo)((()=>decodeURIComponent(t.search)),[t.search]),r=(0,o.useMemo)((()=>{const e=i().parse(n.substring(1));if(e.experiments){const t=e.experiments;return(null===t||void 0===t?void 0:t.toString())||""}return""}),[n]);return(0,o.useMemo)((()=>{if(null!==e&&void 0!==e&&e.experimentId)return[null===e||void 0===e?void 0:e.experimentId];if(r)try{return JSON.parse(r)}catch{return a.A.logErrorAndNotifyUser(`Could not parse experiment query parameter ${r}`),""}return[]}),[r,null===e||void 0===e?void 0:e.experimentId])}},55999:function(e,t,n){"use strict";n.d(t,{L:function(){return l}});var r=n(76010),i=n(26809),o=n(25866),s=n(31014),a=n(10811);const l=e=>{let{runUuids:t,runUuidsIsActive:n,autoRefreshEnabled:l,enabled:c}=e;const d=(0,a.wA)(),u=t.slice(0,o.Lf).join(",");(0,s.useEffect)((()=>{c&&!l&&u.split(",").forEach((e=>{e&&d((0,i.LN)(e))}))}),[u,d,l,c]);const p=(0,s.useRef)(void 0),m=(0,s.useRef)(l&&c);m.current=l;const h=n.slice(0,o.Lf).join(",");(0,s.useEffect)((()=>{let e=!1;if(!c||!l)return;const t=async e=>{const t=u.split(","),n=h.split(",");(e?t.filter(((e,t)=>"true"===n[t])):t).forEach((t=>{t&&d((0,i.LN)(t,e))}))},n=async()=>{if(m.current&&!e){try{await t(!0)}catch(i){r.A.logErrorAndNotifyUser(i)}clearTimeout(p.current),m.current&&!e&&(p.current=window.setTimeout(n,o.zD))}};return t(!1).then(n),()=>{t(!0),e=!0,clearTimeout(p.current)}}),[d,u,h,l,c])}},97026:function(e,t,n){"use strict";n.d(t,{u:function(){return s}});var r=n(31014),i=n(50353),o=n(50111);class s extends r.Component{constructor(e){super(e),this.state={isSubmitting:!1},this.onRequestCloseHandler=this.onRequestCloseHandler.bind(this),this.handleSubmitWrapper=this.handleSubmitWrapper.bind(this)}onRequestCloseHandler(){this.state.isSubmitting||this.props.onClose()}handleSubmitWrapper(){return this.setState({isSubmitting:!0}),this.props.handleSubmit().finally((()=>{this.props.onClose(),this.setState({isSubmitting:!1})}))}render(){return(0,o.Y)(i.M,{"data-testid":"confirm-modal",title:this.props.title,visible:this.props.isOpen,onOk:this.handleSubmitWrapper,okText:this.props.confirmButtonText,confirmLoading:this.state.isSubmitting,onCancel:this.onRequestCloseHandler,centered:!0,children:(0,o.Y)("div",{className:"modal-explanatory-text",children:this.props.helpText})})}}},33946:function(e,t,n){"use strict";var r=n(31014),i=n(97026),o=n(26809),s=n(10811),a=n(76010),l=n(64912),c=n(50111);class d extends r.Component{constructor(e){super(e),this.handleSubmit=this.handleSubmit.bind(this)}handleSubmit(){const e=[];return this.props.selectedRunIds.forEach((t=>{e.push(this.props.deleteRunApi(t))})),Promise.all(e).catch((()=>{const e=`${this.props.intl.formatMessage({id:"tdmVWN",defaultMessage:"While deleting an experiment run, an error occurred."})}`;this.props.openErrorModal(e)})).then((()=>{var e,t;null===(e=(t=this.props).onSuccess)||void 0===e||e.call(t)}))}render(){const e=this.props.selectedRunIds.length;return(0,c.Y)(i.u,{isOpen:this.props.isOpen,onClose:this.props.onClose,handleSubmit:this.handleSubmit,title:`Delete Experiment ${a.A.pluralize("Run",e)}`,helpText:(0,c.FD)("div",{children:[(0,c.Y)("p",{children:(0,c.FD)("b",{children:[e," experiment ",a.A.pluralize("run",e)," will be deleted."]})}),""]}),confirmButtonText:"Delete"})}}const u={deleteRunApi:o.IX,openErrorModal:o.Yi};t.A=(0,s.Ng)(null,u)((0,l.Ay)(d))},67245:function(e,t,n){"use strict";n.d(t,{B:function(){return a}});var r=n(31014),i=n(50353),o=n(76010),s=n(50111);class a extends r.Component{constructor(){super(...arguments),this.state={isSubmitting:!1},this.formRef=r.createRef(),this.onSubmit=async()=>{this.setState({isSubmitting:!0});try{const e=await this.formRef.current.validateFields();return await this.props.handleSubmit(e).then(this.resetAndClearModalForm).catch(this.handleSubmitFailure).finally(this.onRequestCloseHandler)}catch(e){return this.setState({isSubmitting:!1}),Promise.reject(e)}},this.resetAndClearModalForm=()=>{this.setState({isSubmitting:!1}),this.formRef.current.resetFields()},this.handleSubmitFailure=e=>{this.setState({isSubmitting:!1}),o.A.logErrorAndNotifyUser(e)},this.onRequestCloseHandler=()=>{this.state.isSubmitting||(this.resetAndClearModalForm(),this.props.onClose())},this.handleCancel=()=>{this.onRequestCloseHandler(),void 0!==this.props.onCancel&&this.props.onCancel()}}render(){const{isSubmitting:e}=this.state,{okText:t,cancelText:n,isOpen:o,footer:a,children:l}=this.props,c=r.Children.map(l,(e=>r.isValidElement(e)?r.cloneElement(e,{innerRef:this.formRef}):e));return(0,s.Y)(i.M,{"data-testid":"mlflow-input-modal",className:this.props.className,title:this.props.title,width:540,visible:o,onOk:this.onSubmit,okText:t,cancelText:n,confirmLoading:e,onCancel:this.handleCancel,footer:a,centered:!0,children:c})}}},58645:function(e,t,n){"use strict";n.d(t,{P:function(){return c},m:function(){return a}});var r=n(31014),i=n(33678),o=n(87380),s=n(50111);const a="newName";class l extends r.Component{constructor(){super(...arguments),this.inputToAutoFocus=void 0,this.autoFocusInputRef=e=>{this.inputToAutoFocus=e,e&&e.focus(),e&&e.select()},this.autoFocus=e=>{!1===e.visible&&!0===this.props.visible&&(this.inputToAutoFocus&&this.inputToAutoFocus.focus(),this.inputToAutoFocus&&this.inputToAutoFocus.select())},this.resetFields=e=>{const t=this.props.innerRef;e.name!==this.props.name&&t.current.resetFields([a])}}componentDidUpdate(e){this.autoFocus(e),this.resetFields(e)}render(){return(0,s.Y)(i.SQ4,{ref:this.props.innerRef,layout:"vertical",children:(0,s.Y)(i.SQ4.Item,{name:a,initialValue:this.props.name,rules:[{required:!0,message:`Please input a new name for the ${this.props.type}.`},{validator:this.props.validator}],label:`New ${this.props.type} name`,children:(0,s.Y)(o.I,{componentId:"codegen_mlflow_app_src_experiment-tracking_components_modals_renameform.tsx_69",placeholder:`Input a ${this.props.type} name`,ref:this.autoFocusInputRef,"data-testid":"rename-modal-input"})})})}}const c=l},53677:function(e,t,n){"use strict";n.d(t,{jP:function(){return h}});var r=n(31014),i=n(10811),o=n(64912),s=n(67245),a=n(58645),l=n(26809),c=n(7204),d=n(50111);class u extends r.Component{constructor(){super(...arguments),this.handleRenameRun=e=>{const t=e[a.m],n=(0,c.yk)();return this.props.updateRunApi(this.props.runUuid,t,n).then((()=>{var e,t;return null===(e=(t=this.props).onSuccess)||void 0===e?void 0:e.call(t)}))}}render(){const{isOpen:e,runName:t}=this.props;return(0,d.Y)(s.B,{title:this.props.intl.formatMessage({id:"+Dnww0",defaultMessage:"Rename Run"}),okText:this.props.intl.formatMessage({id:"7NKkk1",defaultMessage:"Save"}),isOpen:e,handleSubmit:this.handleRenameRun,onClose:this.props.onClose,children:(0,d.Y)(a.P,{type:"run",name:t,visible:e,validator:async(e,t)=>{if("string"===typeof t&&t.length&&!t.trim())throw new Error(this.props.intl.formatMessage({id:"ze1m7Z",defaultMessage:"Run name cannot consist only of whitespace!"}));return!0}})})}}const p={updateRunApi:l.FZ},m=(0,o.Ay)(u),h=(0,i.Ng)(void 0,p)(m)},36792:function(e,t,n){"use strict";n.d(t,{z:function(){return we}});var r=n(89555),i=n(28741),o=n(50353),s=n(33678),a=n(31014),l=n(88464),c=n(88443),d=n(30152),u=n(77198),p=n(6211),m=n(73549),h=n(43270),g=n(74035),f=n(32582),v=n(99790),y=n(21616),x=n(91144),C=n(50111);const b=e=>{let{title:t,compact:n=!1,children:o}=e;const{theme:s}=(0,i.a)();return(0,C.FD)("div",{css:(0,r.AH)({marginBottom:n?s.spacing.sm:2*s.spacing.md},""),"data-testid":"experiment-view-compare-runs-config-field",children:[(0,C.Y)(i.p.Title,{level:4,children:t}),o]})},_=e=>{let{value:t,onChange:n,metricKeyList:r,paramKeyList:i}=e;const{formatMessage:o}=(0,l.A)(),a=!(null!==i&&void 0!==i&&i.length)&&!(null!==r&&void 0!==r&&r.length);return(0,C.FD)(s._vn,{css:Y.selectFull,value:a?o({id:"3VURvw",defaultMessage:"No metrics or parameters available"}):t,disabled:a,onChange:n,dangerouslySetAntdProps:{showSearch:!0},children:[null!==r&&void 0!==r&&r.length?(0,C.Y)(s._vn.OptGroup,{label:o({id:"jH0+gA",defaultMessage:"Metrics"}),children:r.map((e=>(0,C.Y)(s._vn.Option,{value:(0,y.GF)("METRIC",e),children:e},(0,y.GF)("METRIC",e))))}):null,null!==i&&void 0!==i&&i.length?(0,C.Y)(s._vn.OptGroup,{label:o({id:"kWUhea",defaultMessage:"Params"}),children:i.map((e=>(0,C.Y)(s._vn.Option,{value:(0,y.GF)("PARAM",e),children:e},(0,y.GF)("PARAM",e))))}):null]})},w=e=>{let{onChange:t,value:n,options:r}=e;const{formatMessage:i}=(0,l.A)();return(0,x.M1)()?null:(0,C.Y)(b,{title:i({id:"AW2rVK",defaultMessage:"Max. no of runs shown"}),children:(0,C.Y)(s._vn,{css:Y.selectFull,value:n,onChange:t,children:r.map((e=>{const t="number"===typeof e?e:e.value,n="number"===typeof e?e:e.label;return(0,C.Y)(s._vn.Option,{value:t,children:n},t)}))})})},M=[{value:5,label:(0,C.Y)(c.A,{id:"Mc6Dhy",defaultMessage:"5"})},{value:10,label:(0,C.Y)(c.A,{id:"2K8tsp",defaultMessage:"10"})},{value:20,label:(0,C.Y)(c.A,{id:"zwO8+l",defaultMessage:"20"})}],Y={selectFull:{width:"100%"}},S=e=>{let{state:t,onStateChange:n,metricKeyList:r}=e;const i=(0,a.useCallback)((e=>{n((t=>({...t,metricKey:e})))}),[n]),o=(0,a.useCallback)((e=>{n((t=>({...t,runsCountToCompare:e})))}),[n]);(0,a.useEffect)((()=>{!t.metricKey&&null!==r&&void 0!==r&&r[0]&&i(r[0])}),[t.metricKey,i,r]);const l=0===r.length;return(0,C.FD)(C.FK,{children:[(0,C.Y)(b,{title:"Metric",children:(0,C.Y)(s._vn,{css:I.selectFull,value:l?"No metrics available":t.metricKey,onChange:i,disabled:l,dangerouslySetAntdProps:{showSearch:!0},children:r.map((e=>(0,C.Y)(s._vn.Option,{value:e,"data-testid":`metric-${e}`,children:e},e)))})}),(0,C.Y)(w,{value:t.runsCountToCompare,onChange:o,options:M})]})},I={selectFull:{width:"100%"}},A=e=>{let{state:t,onStateChange:n,metricKeyList:r,paramKeyList:i}=e;const o=(0,a.useCallback)((e=>{n((t=>({...t,selectedParams:e})))}),[n]),l=(0,a.useCallback)((e=>{n((t=>({...t,selectedMetrics:e})))}),[n]),c=0===r.length,d=0===i.length;return(0,C.FD)(C.FK,{children:[(0,C.Y)(b,{title:"Params",children:(0,C.Y)(s._vn,{mode:d?void 0:"multiple",onChange:o,style:{width:275},value:d?"No parameters available":t.selectedParams,disabled:d,children:i.map((e=>(0,C.Y)(s._vn.Option,{value:e,children:e},e)))})}),(0,C.Y)(b,{title:"Metrics",children:(0,C.Y)(s._vn,{mode:c?void 0:"multiple",onChange:l,style:{width:275},value:c?"No metrics available":t.selectedMetrics,disabled:c,children:r.map((e=>(0,C.Y)(s._vn.Option,{value:e,children:e},e)))})})]})};var E=n(87380),k=n(36118),R=n(20193),T=n(9133),D=n(49698);var L={name:"1d3w5wq",styles:"width:100%"};const F=e=>{let{metricKeyList:t,selectedMetricKeys:n,updateSelectedMetrics:r}=e;const i=0===t.length;return(0,C.Y)(s._vn,{mode:"multiple",placeholder:i?(0,C.Y)(c.A,{id:"M5bYHa",defaultMessage:"No metrics available"}):(0,C.Y)(c.A,{id:"eQqRYQ",defaultMessage:"Select metrics"}),css:L,value:i?[]:n,onChange:r,disabled:i,dangerouslySetAntdProps:{showSearch:!0},children:t.map((e=>(0,C.Y)(s._vn.Option,{value:e,"data-testid":`metric-${e}`,children:e},e)))})},H=e=>{let{chartExpression:t,index:n,updateYAxisExpression:o,removeYAxisExpression:s,metricKeyList:l}=e;const{theme:c}=(0,i.a)(),{compileExpression:d}=(0,D.l)(),[u,p]=(0,a.useState)(!0);return(0,C.FD)("span",{css:(0,r.AH)({display:"flex",width:"100%",gap:c.spacing.sm},""),children:[(0,C.Y)(E.I,{componentId:"codegen_mlflow_app_src_experiment-tracking_components_runs-charts_components_runschartsyaxismetricandexpressionselector.tsx_122",value:t.expression,onChange:e=>(e=>{const t=d(e,l);void 0===t?(p(!1),o({rpn:[],variables:[],expression:e},n)):(p(!0),o(t,n))})(e.target.value),validationState:u?void 0:"error"}),(0,C.Y)(i.B,{componentId:"mlflow.charts.line-chart-expressions-remove",icon:(0,C.Y)(i.C,{}),onClick:()=>s(n)})]})},N=e=>{let{state:t,onStateChange:n,metricKeyList:o,updateSelectedMetrics:l}=e;const{theme:u}=(0,i.a)(),p=(0,x.Iq)()&&t.xAxisKey!==k.fj.METRIC,[m,h]=(0,a.useState)(t.yAxisExpressions||[]),g=(e,t)=>{h((n=>{const r=[...n];return r[t]=e,r}))},f=e=>{h((t=>{const n=[...t];return n.splice(e,1),n}))};(0,a.useEffect)((()=>{const e=setTimeout((()=>{var e;e=m,n((t=>({...t,yAxisExpressions:e})))}),300);return()=>{clearTimeout(e)}}),[m,n]);const v=(0,a.useCallback)((e=>{n((t=>{const n=t;return{...n,yAxisKey:e,range:{...n.range,yMin:void 0,yMax:void 0}}}))}),[n]);return(0,C.FD)(C.FK,{children:[p&&(0,C.Y)(b,{title:"Metric type",compact:!0,children:(0,C.FD)(s.sxL.Group,{componentId:"codegen_mlflow_app_src_experiment-tracking_components_runs-charts_components_runschartsyaxismetricandexpressionselector.tsx_221",name:"runs-charts-field-group-metric-type-y-axis",value:t.yAxisKey||d.Kb.METRIC,onChange:e=>{let{target:{value:t}}=e;return v(t)},children:[(0,C.Y)(s.sxL,{value:d.Kb.METRIC,children:(0,C.Y)(c.A,{id:"hW7XxH",defaultMessage:"Logged metrics"})},d.Kb.METRIC),(0,C.Y)(s.sxL,{value:d.Kb.EXPRESSION,children:(0,C.Y)(c.A,{id:"tkAOSa",defaultMessage:"Custom expression"})},d.Kb.EXPRESSION)]})}),p&&t.yAxisKey===d.Kb.EXPRESSION?(0,C.Y)(b,{title:"Expression",compact:!0,children:(0,C.FD)("div",{css:(0,r.AH)({display:"flex",flexDirection:"column",alignItems:"flex-start",gap:u.spacing.sm},""),children:[m.map(((e,t)=>(0,C.Y)(H,{chartExpression:e,index:t,updateYAxisExpression:g,removeYAxisExpression:f,metricKeyList:o},t))),(0,C.Y)(i.B,{componentId:"mlflow.charts.line-chart-expressions-add-new",icon:(0,C.Y)(s.c11,{}),onClick:()=>{h((e=>[...e,{rpn:[],variables:[],expression:""}]))},children:"Add new"})]})}):(0,C.Y)(b,{title:"Metric",compact:!0,children:F({metricKeyList:o,selectedMetricKeys:t.selectedMetricKeys,updateSelectedMetrics:l})})]})};const O="_GLOBAL",K=e=>{let{theme:t,metricKeyList:n,selectedXAxisMetricKey:i,updateSelectedXAxisMetricKey:o,disabled:a=!1}=e;const l=0===n.length;return(0,C.FD)(s.sxL,{value:k.fj.METRIC,disabled:a,children:[(0,C.Y)(c.A,{id:"M/c4l0",defaultMessage:"Metric"}),(0,C.Y)(s._vn,{css:(0,r.AH)({marginTop:t.spacing.xs,width:"100%"},""),value:i||void 0,placeholder:l?(0,C.Y)(c.A,{id:"ER3oVW",defaultMessage:"No metrics available"}):(0,C.Y)(c.A,{id:"BOz0T2",defaultMessage:"Select metric"}),onClick:e=>{e.preventDefault(),e.stopPropagation()},onChange:o,disabled:l||a,dangerouslySetAntdProps:{showSearch:!0},children:n.map((e=>(0,C.Y)(s._vn.Option,{value:e,"data-testid":`metric-${e}`,children:e},e)))})]})},P=e=>(0,T.isUndefined)(e)?e:e<=0?void 0:Math.log10(e),z=e=>(0,T.isUndefined)(e)?e:Math.pow(10,e);var U={name:"4c6dm7",styles:"display:flex;flex-direction:row;justify-content:space-between"};const B=e=>{var t,n,u,p,m,h,g,f;let{state:v,onStateChange:y,metricKeyList:_}=e;const M=(0,x.Iq)(),Y=(0,x.dD)(),S=(0,x.Cj)(),{theme:I}=(0,i.a)(),A=(0,l.A)(),[D,L]=(0,a.useState)({xMin:"log"===v.xAxisScaleType?z(null===(t=v.range)||void 0===t?void 0:t.xMin):null===(n=v.range)||void 0===n?void 0:n.xMin,xMax:"log"===v.xAxisScaleType?z(null===(u=v.range)||void 0===u?void 0:u.xMax):null===(p=v.range)||void 0===p?void 0:p.xMax,yMin:"log"===v.scaleType?z(null===(m=v.range)||void 0===m?void 0:m.yMin):null===(h=v.range)||void 0===h?void 0:h.yMin,yMax:"log"===v.scaleType?z(null===(g=v.range)||void 0===g?void 0:g.yMax):null===(f=v.range)||void 0===f?void 0:f.yMax}),F=(0,a.useCallback)((e=>{y((t=>({...t,metricKey:e})))}),[y]),H=(0,a.useCallback)((e=>{y((t=>({...t,metricKey:e[0],selectedMetricKeys:e})))}),[y]),B=(0,a.useCallback)((function(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];y((n=>{const r=n;return{...r,xAxisKey:e,selectedXAxisMetricKey:"",range:{...r.range,xMin:void 0,xMax:void 0},useGlobalXaxisKey:null!==t&&void 0!==t?t:r.useGlobalXaxisKey,selectedYAxisMetricKey:d.Kb.METRIC}}))}),[y]),W=e=>!(0,T.isUndefined)(e)&&e<=0,G=(0,a.useCallback)((e=>{y(S?t=>{const n=t;let r=e?P(D.xMin):D.xMin,i=e?P(D.xMax):D.xMax;return e&&W(D.xMin)&&D.xMax&&D.xMax>1?(L((e=>({...e,xMin:1}))),r=0):e&&(W(D.xMin)||W(D.xMax))&&(L((e=>({...e,xMin:void 0,xMax:void 0}))),r=void 0,i=void 0),{...n,xAxisScaleType:e?"log":"linear",range:{...n.range,xMin:r,xMax:i}}}:t=>({...t,xAxisScaleType:e?"log":"linear"}))}),[y,D.xMin,D.xMax,S]),$=(0,a.useCallback)((e=>{y((t=>({...t,selectedXAxisMetricKey:e,xAxisKey:k.fj.METRIC})))}),[y]),V=(0,a.useCallback)((e=>{y(S?t=>{const n=t;let r=e?P(D.yMin):D.yMin,i=e?P(D.yMax):D.yMax;return e&&W(D.yMin)&&D.yMax&&D.yMax>1?(L((e=>({...e,yMin:1}))),r=0):e&&(W(D.yMin)||W(D.yMax))&&(L((e=>({...e,yMin:void 0,yMax:void 0}))),r=void 0,i=void 0),{...n,scaleType:e?"log":"linear",range:{...n.range,yMin:r,yMax:i}}}:t=>({...t,scaleType:e?"log":"linear"}))}),[y,D.yMin,D.yMax,S]),q=(0,a.useCallback)((e=>{y((t=>({...t,ignoreOutliers:e})))}),[y]),X=(0,a.useCallback)((e=>{y((t=>({...t,lineSmoothness:e})))}),[y]),J=(0,a.useCallback)((e=>{y((t=>({...t,runsCountToCompare:e})))}),[y]);(0,a.useEffect)((()=>{!v.metricKey&&null!==_&&void 0!==_&&_[0]&&F(_[0])}),[v.metricKey,F,_]),(0,a.useEffect)((()=>{(0,T.isUndefined)(v.selectedMetricKeys)&&!(0,T.isUndefined)(v.metricKey)&&""!==v.metricKey&&H([v.metricKey])}),[v.selectedMetricKeys,v.metricKey,H]);const Z=(e,t)=>{ee(e,t)||y((n=>{const r=n;return{...r,range:{...r.range,xMin:"log"===r.xAxisScaleType?P(e):e,xMax:"log"===r.xAxisScaleType?P(t):t}}}))},Q=(e,t)=>{ee(e,t)||y((n=>{const r=n;return{...r,range:{...r.range,yMin:"log"===r.scaleType?P(e):e,yMax:"log"===r.scaleType?P(t):t}}}))},ee=(e,t)=>(!(0,T.isUndefined)(e)||!(0,T.isUndefined)(t))&&!(!(0,T.isUndefined)(e)&&!(0,T.isUndefined)(t)),te=(e,t)=>"log"===e&&W(t)?(0,C.Y)(s.D$Q.Message,{message:(0,C.Y)(c.A,{id:"o21MFS",defaultMessage:"Invalid log value"}),type:"warning"}):null,ne="metric-";return(0,C.FD)(C.FK,{children:[(0,C.Y)(i.p.Title,{level:4,color:"secondary",children:"X-axis"}),(0,C.Y)(b,{title:"Type",compact:!0,children:M?(0,C.FD)(s.XAe,{componentId:"codegen_mlflow_app_src_experiment-tracking_components_runs-charts_components_config_runschartsconfigurelinechart.tsx_436",id:"x-axis-type",width:"100%",value:v.useGlobalXaxisKey?O:v.xAxisKey,contentProps:{matchTriggerWidth:!0,textOverflowMode:"ellipsis"},onChange:e=>{let{target:{value:t}}=e;t.startsWith(ne)?$(t.slice(7)):t===k.fj.STEP?B(k.fj.STEP):t===k.fj.TIME?B(k.fj.TIME):t===k.fj.TIME_RELATIVE?B(k.fj.TIME_RELATIVE):t===O&&B(k.fj.STEP,!0)},children:[(0,x.qZ)()&&(0,C.Y)(s.wS0,{value:O,children:(0,C.Y)(c.A,{id:"srbhok",defaultMessage:"Use workspace settings"})}),(0,C.Y)(s.wS0,{value:k.fj.STEP,children:(0,C.Y)(c.A,{id:"IfcpiM",defaultMessage:"Step"})}),(0,C.FD)(s.wS0,{value:k.fj.TIME,children:[(0,C.Y)(c.A,{id:"2Hf+yU",defaultMessage:"Time (wall)"}),(0,C.Y)(o.T,{componentId:"codegen_mlflow_app_src_experiment-tracking_components_runs-charts_components_config_runschartsconfigurelinechart.tsx_474",content:(0,C.Y)(c.A,{id:"nlXn2G",defaultMessage:"Absolute date and time"}),side:"right",children:(0,C.FD)("span",{children:[" ",(0,C.Y)(s.JGH,{css:j.timeStepQuestionMarkIcon})]})})]}),(0,C.FD)(s.wS0,{value:k.fj.TIME_RELATIVE,children:[(0,C.Y)(c.A,{id:"Y47tVZ",defaultMessage:"Time (relative)"}),(0,C.Y)(o.T,{componentId:"codegen_mlflow_app_src_experiment-tracking_components_runs-charts_components_config_runschartsconfigurelinechart.tsx_494",content:(0,C.Y)(c.A,{id:"NwNrl4",defaultMessage:"Amount of time that has passed since the first metric value was logged"}),side:"right",children:(0,C.FD)("span",{children:[" ",(0,C.Y)(s.JGH,{css:j.timeStepQuestionMarkIcon})]})})]}),Y&&_.length>0&&(0,C.Y)(s.lQN,{label:"Metrics",children:_.map((e=>(0,C.Y)(s.wS0,{value:`${ne}${e}`,"data-testid":`${ne}${e}`,children:e},e)))})]}):(0,C.FD)(s.sxL.Group,{componentId:"codegen_mlflow_app_src_experiment-tracking_components_runs-charts_components_config_runschartsconfigurelinechart.tsx_524",name:"runs-charts-field-group-x-axis",value:v.useGlobalXaxisKey?O:v.xAxisKey,onChange:e=>{let{target:{value:t}}=e;t===O?B(k.fj.STEP,!0):B(t)},children:[(0,x.qZ)()&&(0,C.Y)(s.sxL,{value:O,children:(0,C.Y)(c.A,{id:"srbhok",defaultMessage:"Use workspace settings"})}),(0,C.Y)(s.sxL,{value:k.fj.STEP,children:(0,C.Y)(c.A,{id:"IfcpiM",defaultMessage:"Step"})}),(0,C.FD)(s.sxL,{value:k.fj.TIME,children:[(0,C.Y)(c.A,{id:"2Hf+yU",defaultMessage:"Time (wall)"}),(0,C.FD)(s.paO,{title:(0,C.Y)(c.A,{id:"nlXn2G",defaultMessage:"Absolute date and time"}),placement:"right",children:[" ",(0,C.Y)(s.JGH,{css:j.timeStepQuestionMarkIcon})]})]}),(0,C.FD)(s.sxL,{value:k.fj.TIME_RELATIVE,children:[(0,C.Y)(c.A,{id:"Y47tVZ",defaultMessage:"Time (relative)"}),(0,C.FD)(s.paO,{title:(0,C.Y)(c.A,{id:"NwNrl4",defaultMessage:"Amount of time that has passed since the first metric value was logged"}),placement:"right",children:[" ",(0,C.Y)(s.JGH,{css:j.timeStepQuestionMarkIcon})]})]}),Y&&K({theme:I,metricKeyList:_,selectedXAxisMetricKey:v.selectedXAxisMetricKey,updateSelectedXAxisMetricKey:$})]})}),v.xAxisKey===k.fj.STEP&&(0,C.Y)(C.FK,{children:S&&(0,C.FD)(b,{title:"X-axis scale",compact:!0,children:[(0,C.FD)("div",{css:(0,r.AH)({display:"flex",gap:I.spacing.sm},""),children:[(0,C.FD)("div",{children:[(0,C.Y)(E.I,{componentId:"mlflow.charts.line_chart_configure.x_axis_min","aria-label":"x-axis-min",name:"min",type:"number",value:D.xMin,onChange:e=>(e=>{const t=e?Number(e):void 0;L((e=>({...e,xMin:t}))),Z(t,D.xMax)})(e.target.value),max:D.xMax,placeholder:"Min"}),te(v.xAxisScaleType,D.xMin)]}),(0,C.FD)("div",{children:[(0,C.Y)(E.I,{componentId:"mlflow.charts.line_chart_configure.x_axis_max","aria-label":"x-axis-max",name:"max",type:"number",value:D.xMax,onChange:e=>(e=>{const t=e?Number(e):void 0;L((e=>({...e,xMax:t}))),Z(D.xMin,t)})(e.target.value),min:D.xMin,placeholder:"Max"}),te(v.xAxisScaleType,D.xMax)]})]}),(0,C.Y)("div",{style:{padding:I.spacing.xs}}),(0,C.Y)(s.dOG,{componentId:"codegen_mlflow_app_src_experiment-tracking_components_runs-charts_components_config_runschartsconfigurelinechart.tsx_628","aria-label":"x-axis-log",checked:"log"===v.xAxisScaleType,onChange:G,label:"Log scale",activeLabel:"On",inactiveLabel:"Off",disabledLabel:"Disabled"})]})}),(0,C.Y)(i.p.Title,{level:4,color:"secondary",css:(0,r.AH)({paddingTop:I.spacing.lg},""),children:"Y-axis"}),(0,C.Y)(N,{state:v,onStateChange:y,metricKeyList:_,updateSelectedMetrics:H}),(0,C.FD)(b,{title:"Y-axis scale",compact:!0,children:[S&&(0,C.FD)("div",{css:(0,r.AH)({display:"flex",gap:I.spacing.sm},""),children:[(0,C.FD)("div",{children:[(0,C.Y)(E.I,{componentId:"mlflow.charts.line_chart_configure.y_axis_min","aria-label":"y-axis-min",name:"min",type:"number",value:D.yMin,onChange:e=>(e=>{const t=e?Number(e):void 0;L((e=>({...e,yMin:t}))),Q(t,D.yMax)})(e.target.value),max:D.yMax,placeholder:"Min"}),te(v.scaleType,D.yMin)]}),(0,C.FD)("div",{children:[(0,C.Y)(E.I,{componentId:"mlflow.charts.line_chart_configure.y_axis_max","aria-label":"y-axis-max",name:"max",type:"number",value:D.yMax,onChange:e=>(e=>{const t=e?Number(e):void 0;L((e=>({...e,yMax:t}))),Q(D.yMin,t)})(e.target.value),min:D.yMin,placeholder:"Max"}),te(v.scaleType,D.yMax)]})]}),(0,C.Y)(o.S,{size:"xs"}),(0,C.Y)(s.dOG,{componentId:"codegen_mlflow_app_src_experiment-tracking_components_runs-charts_components_config_runschartsconfigurelinechart.tsx_682","aria-label":"y-axis-log",checked:"log"===v.scaleType,onChange:V,label:"Log scale",activeLabel:"On",inactiveLabel:"Off",disabledLabel:"Disabled"}),(0,C.Y)(o.S,{size:"xs"}),(0,C.FD)("div",{css:U,children:[(0,C.FD)("div",{children:[(0,C.Y)(i.p.Text,{bold:!0,children:(0,C.Y)(c.A,{id:"7FvLl2",defaultMessage:"Ignore outliers"})}),(0,C.Y)(o.T,{componentId:"codegen_mlflow_app_src_experiment-tracking_components_runs-charts_components_config_runschartsconfigurelinechart.tsx_703",delayDuration:0,content:(0,C.Y)(c.A,{id:"mN6m2e",defaultMessage:"Only display data points between the p5 and p95 of the data. This can help with chart readability in cases where outliers significantly affect the Y-axis range"}),side:"right",children:(0,C.FD)("span",{children:[" ",(0,C.Y)(s.JGH,{css:j.timeStepQuestionMarkIcon})]})})]}),(0,C.Y)(s.dOG,{componentId:"codegen_mlflow_app_src_experiment-tracking_components_runs-charts_components_config_runschartsconfigurelinechart.tsx_716","aria-label":"y-axis-ignore-outliers",checked:v.ignoreOutliers,onChange:q,label:" ",activeLabel:A.formatMessage({id:"bXA79t",defaultMessage:"On"}),inactiveLabel:A.formatMessage({id:"73ydH0",defaultMessage:"Off"}),disabledLabel:A.formatMessage({id:"Ka1jM2",defaultMessage:"Disabled"})})]})]}),(0,C.Y)(i.p.Title,{level:4,color:"secondary",css:(0,r.AH)({paddingTop:I.spacing.lg},""),children:"Advanced"}),(0,C.Y)(b,{title:A.formatMessage({id:"g7xNvF",defaultMessage:"Display points"}),compact:!0,children:(0,C.FD)(s.d98,{componentId:"codegen_mlflow_app_src_experiment-tracking_components_runs-charts_components_config_runschartsconfigurelinechart.tsx_747",name:A.formatMessage({id:"g7xNvF",defaultMessage:"Display points"}),value:v.displayPoints,onChange:e=>{let{target:t}=e;y((e=>({...e,displayPoints:t.value})))},children:[(0,C.FD)(s.EPn,{value:void 0,"aria-label":[A.formatMessage({id:"g7xNvF",defaultMessage:"Display points"}),A.formatMessage({id:"7nPjTL",defaultMessage:"Auto"})].join(": "),children:[(0,C.Y)(c.A,{id:"7nPjTL",defaultMessage:"Auto"})," ",(0,C.Y)(s.paO,{title:(0,C.Y)(c.A,{id:"ax3YJx",defaultMessage:"Show points on line charts if there are fewer than 60 data points per trace"}),children:(0,C.Y)(o.I,{})})]}),(0,C.Y)(s.EPn,{value:!0,"aria-label":[A.formatMessage({id:"g7xNvF",defaultMessage:"Display points"}),A.formatMessage({id:"QUMV9L",defaultMessage:"On"})].join(": "),children:(0,C.Y)(c.A,{id:"QUMV9L",defaultMessage:"On"})}),(0,C.Y)(s.EPn,{value:!1,"aria-label":[A.formatMessage({id:"g7xNvF",defaultMessage:"Display points"}),A.formatMessage({id:"NtaCJN",defaultMessage:"Off"})].join(": "),children:(0,C.Y)(c.A,{id:"NtaCJN",defaultMessage:"Off"})})]})}),(0,C.FD)(b,{title:(0,C.Y)(C.FK,{children:(0,C.Y)(c.A,{id:"qkRBUr",defaultMessage:"Line smoothing"})}),compact:!0,children:[(0,x.qZ)()&&(0,C.FD)(s.sxL.Group,{componentId:"codegen_mlflow_app_src_experiment-tracking_components_runs-charts_components_config_runschartsconfigurelinechart.tsx_838",name:"use-global-line-smoothness",value:Boolean(v.useGlobalLineSmoothing),onChange:e=>{let{target:t}=e;y((e=>({...e,useGlobalLineSmoothing:!0===t.value})))},children:[(0,C.Y)(s.sxL,{value:!0,children:"Use workspace settings"}),(0,C.Y)(s.sxL,{value:!1,children:"Custom"})]}),(0,C.Y)(R.o,{"data-testid":"smoothness-toggle",min:0,max:100,onChange:X,defaultValue:v.lineSmoothness?v.lineSmoothness:0,disabled:(0,x.qZ)()&&v.useGlobalLineSmoothing})]}),(0,C.Y)(w,{value:v.runsCountToCompare,onChange:J,options:[5,10,20,50,100]})]})},j={selectFull:{width:"100%"},timeStepQuestionMarkIcon:()=>({svg:{width:12,height:12}})};var W=n(10811),G=n(73724),$=n(75627),V=n(24789),q=n(81850),X=n(6531);const J=(0,W.Ng)((e=>{let{entities:{metricsByRunUuid:t}}=e;return{metricsByRunUuid:t}}),void 0,void 0,{areStatesEqual:(e,t)=>e.entities.metricsByRunUuid===t.entities.metricsByRunUuid})((e=>{var t,n,r,i,o;let{previewData:l,cardConfig:c,metricsByRunUuid:u,groupBy:p,globalLineChartConfig:m}=e;const h=(0,x.dD)(),g=(0,x.Cj)(),{lineSmoothness:f,selectedXAxisMetricKey:v,xAxisKey:y}=(0,X.x)(c,m),b=(0,a.useMemo)((()=>l.some((e=>e.groupParentInfo))),[l]),{aggregateFunction:_}=p||{},w=(0,a.useMemo)((()=>{if(b){return[...(0,T.compact)(l.map((e=>e.groupParentInfo))).flatMap((e=>e.runUuids)),...(0,T.compact)(l.filter((e=>!e.groupParentInfo&&!e.belongsToGroup)).map((e=>{var t,n;return null!==(t=null===(n=e.runInfo)||void 0===n?void 0:n.runUuid)&&void 0!==t?t:void 0})))]}return(0,T.compact)(l.map((e=>e.runInfo))).map((e=>{var t;return null!==(t=e.runUuid)&&void 0!==t?t:""}))}),[l,b]),M=(0,a.useMemo)((()=>{const e=(e=>{var t;const n=[e.metricKey];var r;if(!(0,x.Iq)()||e.yAxisKey!==d.Kb.EXPRESSION)return null!==(r=e.selectedMetricKeys)&&void 0!==r?r:n;const i=null===(t=e.yAxisExpressions)||void 0===t?void 0:t.reduce(((e,t)=>(t.variables.forEach((t=>e.add(t))),e)),new Set);return void 0===i?n:Array.from(i)})(c),t=v?[v]:[];return e.concat(t)}),[c,v]),{resultsByRunUuid:Y,isLoading:S}=(0,V.S)({runUuids:w,metricKeys:M,enabled:!0,maxResults:320,autoRefreshEnabled:!1}),I=(0,a.useMemo)((()=>l.map((e=>{const t=M.reduce(((t,n)=>{var r,i;const o=null===(r=Y[e.uuid])||void 0===r||null===(i=r[n])||void 0===i?void 0:i.metricsHistory;return o&&(t[n]=c.ignoreOutliers?(0,k.c1)(o):o),t}),{});return{...e,metricsHistory:t}}))),[M,Y,l,c.ignoreOutliers]),A=(0,q.B)({enabled:b,ungroupedRunsData:I,metricKeys:M,sampledDataResultsByRunUuid:Y,aggregateFunction:_,selectedXAxisMetricKey:y===k.fj.METRIC?v:void 0,ignoreOutliers:null!==(t=c.ignoreOutliers)&&void 0!==t&&t}),E=b?A:I,{setTooltip:R,resetTooltip:D}=(0,$.uN)(c,h?$.QS.MultipleTracesWithScanline:$.QS.Simple);if(S)return(0,C.Y)(s.PLz,{});const L=(e,t)=>{if(!(0,T.isUndefined)(e)&&!(0,T.isUndefined)(t))return[e,t]},F=L(null===(n=c.range)||void 0===n?void 0:n.xMin,null===(r=c.range)||void 0===r?void 0:r.xMax),H=L(null===(i=c.range)||void 0===i?void 0:i.yMin,null===(o=c.range)||void 0===o?void 0:o.yMax);return(0,C.Y)(G.h,{runsData:E,metricKey:c.metricKey,selectedMetricKeys:c.selectedMetricKeys,scaleType:c.scaleType,xAxisScaleType:c.xAxisScaleType,lineSmoothness:f,xAxisKey:y,selectedXAxisMetricKey:v,displayPoints:c.displayPoints,yAxisExpressions:c.yAxisExpressions,yAxisKey:c.yAxisKey,useDefaultHoverBox:!1,onHover:R,onUnhover:D,xRange:g?F:void 0,yRange:g?H:void 0})}));var Z=n(59264),Q=n(65243);var ee=n(66117);var te=n(10661);var ne=n(21809),re=n(70391);var ie={name:"i1civq",styles:"display:flex;justify-content:center;align-items:center;text-align:center"},oe={name:"1vcob1d",styles:"display:flex;justify-content:center;align-items:center"};const se=e=>{let{state:t,onStateChange:n,metricKeyList:r,paramKeyList:i}=e;const{formatMessage:o}=(0,l.A)(),s=(0,a.useCallback)(((e,t)=>{const r=(0,y.tG)(e,"METRIC")?"METRIC":"PARAM",i=(0,y.dz)(e,r);n((e=>({...e,[t]:{key:i,type:r}})))}),[n]),c=(0,a.useCallback)((e=>{n((t=>({...t,runsCountToCompare:e})))}),[n]);return(0,a.useEffect)((()=>{var e,n,o;const a=null===r||void 0===r?void 0:r[0],l=null===i||void 0===i?void 0:i[0];null!==(e=t.xaxis)&&void 0!==e&&e.key||(a?s((0,y.GF)("METRIC",a),"xaxis"):l&&s((0,y.GF)("PARAM",l),"xaxis")),null!==(n=t.yaxis)&&void 0!==n&&n.key||(a?s((0,y.GF)("METRIC",a),"yaxis"):l&&s((0,y.GF)("PARAM",l),"yaxis")),null!==(o=t.zaxis)&&void 0!==o&&o.key||(a?s((0,y.GF)("METRIC",a),"zaxis"):l&&s((0,y.GF)("PARAM",l),"zaxis"))}),[t.xaxis,t.yaxis,t.zaxis,s,r,i]),(0,C.FD)(C.FK,{children:[(0,C.Y)(b,{title:o({id:"2Us2jl",defaultMessage:"X axis"}),children:(0,C.Y)(_,{value:t.xaxis.key?(0,y.GF)(t.xaxis.type,t.xaxis.key):"",onChange:e=>{s(e,"xaxis")},paramKeyList:i,metricKeyList:r})}),(0,C.Y)(b,{title:o({id:"8YmId5",defaultMessage:"Y axis"}),children:(0,C.Y)(_,{value:t.yaxis.key?(0,y.GF)(t.yaxis.type,t.yaxis.key):"",onChange:e=>{s(e,"yaxis")},paramKeyList:i,metricKeyList:r})}),(0,C.Y)(b,{title:o({id:"cB0/61",defaultMessage:"Z axis"}),children:(0,C.Y)(_,{value:t.zaxis.key?(0,y.GF)(t.zaxis.type,t.zaxis.key):"",onChange:e=>{s(e,"zaxis")},paramKeyList:i,metricKeyList:r})}),(0,C.Y)(w,{value:t.runsCountToCompare,onChange:c,options:[5,10,20,50,100]})]})},ae=M;ae.push({value:100,label:(0,C.Y)(c.A,{id:"Bbm59f",defaultMessage:"100"})},{value:250,label:(0,C.Y)(c.A,{id:"W8bOkn",defaultMessage:"250"})},{value:500,label:(0,C.Y)(c.A,{id:"Bnruyp",defaultMessage:"500"})});const le=e=>{let{state:t,onStateChange:n,metricKeyList:r,paramKeyList:i}=e;const{formatMessage:o}=(0,l.A)(),s=(0,a.useCallback)(((e,t)=>{const r=(0,y.tG)(e,"METRIC")?"METRIC":"PARAM",i=(0,y.dz)(e,r);n((e=>({...e,[t]:{key:i,type:r}})))}),[n]),c=(0,a.useCallback)((e=>{n((t=>({...t,runsCountToCompare:e})))}),[n]);return(0,a.useEffect)((()=>{var e,n;const o=null===r||void 0===r?void 0:r[0],a=null===i||void 0===i?void 0:i[0];null!==(e=t.xaxis)&&void 0!==e&&e.key||(o?s((0,y.GF)("METRIC",o),"xaxis"):a&&s((0,y.GF)("PARAM",a),"xaxis")),null!==(n=t.yaxis)&&void 0!==n&&n.key||(o?s((0,y.GF)("METRIC",o),"yaxis"):a&&s((0,y.GF)("PARAM",a),"yaxis"))}),[t.xaxis,t.yaxis,s,r,i]),(0,C.FD)(C.FK,{children:[(0,C.Y)(b,{title:o({id:"vBKFgp",defaultMessage:"X axis"}),children:(0,C.Y)(_,{value:t.xaxis.key?(0,y.GF)(t.xaxis.type,t.xaxis.key):"",onChange:e=>{s(e,"xaxis")},paramKeyList:i,metricKeyList:r})}),(0,C.Y)(b,{title:o({id:"DaF+KK",defaultMessage:"Y axis"}),children:(0,C.Y)(_,{value:t.yaxis.key?(0,y.GF)(t.yaxis.type,t.yaxis.key):"",onChange:e=>{s(e,"yaxis")},paramKeyList:i,metricKeyList:r})}),(0,C.Y)(w,{value:t.runsCountToCompare,onChange:c,options:ae})]})};var ce=n(73150),de=n(32677),ue=n(93189);var pe={name:"8irbms",styles:"display:inline-flex;align-items:center"};const me=e=>{let{state:t,onStateChange:n,metricKeyList:o,paramKeyList:u,groupBy:p}=e;const m=(0,a.useCallback)((e=>{n((t=>{const n=t.compareGroups;return n.includes(e)?{...t,compareGroups:n.filter((t=>t!==e))}:{...t,compareGroups:[...n,e]}}))}),[n]),h=(0,a.useCallback)((e=>n((t=>({...t,chartName:e.target.value})))),[n]),g=(0,a.useCallback)((e=>n((t=>({...t,showChangeFromBaseline:e})))),[n]),f=(0,a.useCallback)((e=>n((t=>({...t,showDifferencesOnly:e})))),[n]),{theme:v}=(0,i.a)(),{formatMessage:y}=(0,l.A)();return(0,C.FD)(C.FK,{children:[(0,C.FD)(b,{title:y({id:"46xd2Z",defaultMessage:"Compare"}),children:[(0,C.Y)(s.Sc0.Group,{id:"checkbox-group",defaultValue:t.compareGroups,children:Object.values(d.K8).map((e=>{var n;const r=!!p&&d.Nf.includes(e);return(0,C.FD)("div",{css:pe,children:[(0,C.Y)(s.Sc0,{componentId:"codegen_mlflow_app_src_experiment-tracking_components_runs-charts_components_config_runschartsconfiguredifferencechart.tsx_98",value:e,isChecked:null===(n=t.compareGroups)||void 0===n?void 0:n.includes(e),onChange:()=>m(e),disabled:r,children:e},e),r&&(0,C.Y)(s.Jsb,{title:(0,C.Y)(c.A,{id:"LKAZ2n",defaultMessage:"Disable grouped runs to compare"})})]},e)}))}),(0,C.FD)("div",{css:(0,r.AH)({display:"flex",flexDirection:"column",padding:`${v.spacing.md}px 0px`,gap:v.spacing.sm},""),children:[(0,C.Y)(s.dOG,{componentId:"codegen_mlflow_app_src_experiment-tracking_components_runs-charts_components_config_runschartsconfiguredifferencechart.tsx_129",checked:t.showChangeFromBaseline,onChange:g,label:y({id:"9g0sMx",defaultMessage:"Show change from baseline"})}),(0,C.Y)(s.dOG,{componentId:"codegen_mlflow_app_src_experiment-tracking_components_runs-charts_components_config_runschartsconfiguredifferencechart.tsx_138",checked:t.showDifferencesOnly,onChange:f,label:y({id:"nWeQCU",defaultMessage:"Show differences only"})})]})]}),(0,C.Y)(b,{title:y({id:"ZgAOhX",defaultMessage:"Chart name"}),children:(0,C.Y)(E.I,{componentId:"codegen_mlflow_app_src_experiment-tracking_components_runs-charts_components_config_runschartsconfiguredifferencechart.tsx_157",value:t.chartName,onChange:h})})]})};var he=n(99061);const ge=e=>{let{previewData:t,state:n,onStateChange:r,imageKeyList:i}=e;const{stepMarks:o,maxMark:c,minMark:d}=(0,he._)({data:t,selectedImageKeys:n.imageKeys||[]}),u=((0,a.useCallback)((e=>{r((t=>({...t,imageKeys:e})))}),[r]),(0,a.useCallback)((e=>{r((t=>({...t,step:e})))}),[r])),{formatMessage:p}=(0,l.A)(),m=e=>{r((t=>{var n;const r=t;var i;return null!==(n=r.imageKeys)&&void 0!==n&&n.includes(e)?{...r,imageKeys:null===(i=r.imageKeys)||void 0===i?void 0:i.filter((t=>t!==e))}:{...r,imageKeys:[...r.imageKeys||[],e]}}))};return(0,C.FD)(C.FK,{children:[(0,C.Y)(b,{title:p({id:"6Jan3t",defaultMessage:"Images"}),children:(0,C.FD)(s.AYc,{componentId:"codegen_mlflow_app_src_experiment-tracking_components_runs-charts_components_config_runschartsconfigureimagechart.tsx_84",value:n.imageKeys,label:"Images",multiSelect:!0,children:[(0,C.Y)(s.gGe,{onClear:()=>{r((e=>({...e,imageKeys:[]})))},minWidth:275}),(0,C.Y)(s.dn6,{matchTriggerWidth:!0,children:(0,C.Y)(s.HI_,{children:i.map((e=>{var t;return(0,C.Y)(s.jTC,{value:e,onChange:m,checked:null===(t=n.imageKeys)||void 0===t?void 0:t.includes(e)},e)}))})})]})}),(0,C.Y)(b,{title:"Step",children:(0,C.Y)(R.o,{max:c,min:d,marks:o,defaultValue:n.step,disabled:Object.keys(o).length<=1,onChange:u,step:null})})]})};var fe=n(34389);var ve={name:"1bivvgq",styles:"width:100%;overflow:auto hidden"};const ye={[d.zL.BAR]:e=>{let{previewData:t,cardConfig:n}=e;const{resetTooltip:r,setTooltip:i}=(0,$.uN)(n);return(0,C.Y)(Q.u,{useDefaultHoverBox:!1,displayRunNames:!1,displayMetricKey:!1,metricKey:n.metricKey,runsData:t,margin:Z.J,onHover:i,onUnhover:r})},[d.zL.CONTOUR]:e=>{let{previewData:t,cardConfig:n}=e;const{resetTooltip:r,setTooltip:i}=(0,$.uN)(n),o=(0,a.useMemo)((()=>{const{xaxis:e,yaxis:t,zaxis:r}=n;return JSON.stringify({xaxis:e,yaxis:t,zaxis:r})}),[n]);return(0,C.Y)(ee.a,{xAxis:n.xaxis,yAxis:n.yaxis,zAxis:n.zaxis,runsData:t,onHover:i,onUnhover:r,useDefaultHoverBox:!1},o)},[d.zL.LINE]:J,[d.zL.PARALLEL]:e=>{let{previewData:t,cardConfig:n,groupBy:r}=e;const i=(0,re.ad)(n),{setTooltip:o,resetTooltip:l}=(0,$.uN)(n);if((0,a.useMemo)((()=>{var e;return null===(e=n.selectedParams)||void 0===e?void 0:e.some((e=>null===t||void 0===t?void 0:t.some((t=>{var n;return isNaN(Number(null===(n=t.params[e])||void 0===n?void 0:n.value))}))),[n.selectedParams,t])}),[n.selectedParams,t])&&r)return(0,C.Y)("div",{css:ie,children:(0,C.Y)(c.A,{id:"kTkJkb",defaultMessage:"Parallel coordinates chart does not support aggregated string values. Use other parameters or disable run grouping to continue."})});const d=i?(0,re.fM)(t,n.selectedParams,n.selectedMetrics):[];return i?d.length?(0,C.Y)(ne.A,{selectedMetrics:n.selectedMetrics,selectedParams:n.selectedParams,data:d,axesRotateThreshold:6,onHover:o,onUnhover:l}):(0,C.Y)(s.SvL,{description:(0,C.Y)(c.A,{id:"lTrmPI",defaultMessage:"No matching data found for the available runs."}),image:(0,C.Y)(s.xfv,{})}):(0,C.Y)("div",{css:oe,children:"Select at least two metrics and params first"})},[d.zL.SCATTER]:e=>{let{previewData:t,cardConfig:n}=e;const{resetTooltip:r,setTooltip:i}=(0,$.uN)(n),o=(0,a.useMemo)((()=>{const{xaxis:e,yaxis:t}=n;return JSON.stringify({xaxis:e,yaxis:t})}),[n]);return(0,C.Y)(te.i,{xAxis:n.xaxis,yAxis:n.yaxis,runsData:t,onHover:i,onUnhover:r,useDefaultHoverBox:!1},o)},[d.zL.DIFFERENCE]:e=>{let{previewData:t,groupBy:n,cardConfig:r,setCardConfig:i}=e;return(0,x.mx)()?(0,C.Y)(ue.m,{previewData:t,groupBy:n,cardConfig:r,setCardConfig:i}):(0,C.Y)(de.I,{previewData:t,groupBy:n,cardConfig:r,setCardConfig:i})},[d.zL.IMAGE]:e=>{let{previewData:t,cardConfig:n,setCardConfig:r,groupBy:i}=e;return(0,C.Y)("div",{css:ve,children:(0,C.Y)(fe.f,{previewData:t,cardConfig:n,setCardConfig:r,containerWidth:500,groupBy:i})})}};var xe={name:"1uahl7",styles:"width:1280px"},Ce={name:"1d3w5wq",styles:"width:100%"},be={name:"1nbuksq",styles:"overflow:auto;flex-grow:1"},_e={name:"yawz8a",styles:"min-height:500px;height:100%;width:500px;padding:32px 0px"};const we=e=>{let{onCancel:t,onSubmit:n,config:y,chartRunData:_,metricKeyList:w,paramKeyList:M,groupBy:Y,supportedChartTypes:I,globalLineChartConfig:E}=e;const k=e=>!I||I.includes(e),{theme:R}=(0,i.a)(),T=`1px solid ${R.colors.actionDefaultBorderDefault}`,[D,L]=(0,a.useState)(y),F=Boolean(D.uuid),H=(0,a.useCallback)((e=>{if(!e)return;const t=d.i$.getEmptyChartCardByType(e,!0);t&&L(t)}),[]),N=(0,a.useMemo)((()=>(0,x.M1)()?_.filter((e=>{let{hidden:t}=e;return!t})).reverse():_.slice(0,D.runsCountToCompare).reverse()),[_,D.runsCountToCompare]),O=(0,a.useMemo)((()=>{const e=new Set;return N.forEach((t=>{Object.keys(t.images).forEach((t=>{e.add(t)}))})),Array.from(e).sort()}),[N]),{formatMessage:K}=(0,l.A)();let P=!1;if(D.type===d.zL.LINE){var z;P=0===(null!==(z=D.selectedMetricKeys)&&void 0!==z?z:[]).length}return(0,C.Y)(o.M,{componentId:"codegen_mlflow_app_src_experiment-tracking_components_runs-charts_components_runschartsconfiguremodal.tsx_232",visible:!0,onCancel:t,onOk:()=>n(D),title:K(F?{id:"kBXHTA",defaultMessage:"Edit chart"}:{id:"6y36Fr",defaultMessage:"Add new chart"}),okButtonProps:{"data-testid":"experiment-view-compare-runs-chart-modal-confirm",disabled:P},cancelText:K({id:"TlVXcS",defaultMessage:"Cancel"}),okText:K(F?{id:"vPnoNk",defaultMessage:"Save changes"}:{id:"UzZf+2",defaultMessage:"Add chart"}),size:"wide",css:xe,dangerouslySetAntdProps:{bodyStyle:{overflowY:"hidden",display:"flex"}},children:(0,C.FD)("div",{css:(0,r.AH)({display:"flex",width:"100%",gridTemplateColumns:"300px 1fr",gap:R.spacing.md,borderTop:T,borderBottom:T},""),children:[(0,C.FD)("div",{css:(0,r.AH)({overflowY:"auto",borderRight:T,padding:`${R.spacing.md}px ${R.spacing.md}px ${R.spacing.md}px 0px`,width:"300px"},""),children:[!F&&(0,C.Y)(b,{title:"Chart type",children:(0,C.FD)(s.XAe,{componentId:"codegen_mlflow_app_src_experiment-tracking_components_runs-charts_components_runschartsconfiguremodal.tsx_296",id:"chart-type-select",css:Ce,value:D.type,onChange:e=>{let{target:t}=e;const n=t.value;Object.values(d.zL).includes(n)&&H(n)},children:[k(d.zL.BAR)&&(0,C.Y)(s.wS0,{value:d.zL.BAR,children:(0,C.FD)("div",{css:Me.chartTypeOption(R),children:[(0,C.Y)(u.h,{}),(0,C.Y)(c.A,{id:"gdK07H",defaultMessage:"Bar chart"})]})}),k(d.zL.SCATTER)&&(0,C.Y)(s.wS0,{value:d.zL.SCATTER,children:(0,C.FD)("div",{css:Me.chartTypeOption(R),children:[(0,C.Y)(g.h,{}),(0,C.Y)(c.A,{id:"Q0i5xG",defaultMessage:"Scatter chart"})]})}),k(d.zL.LINE)&&(0,C.Y)(s.wS0,{value:d.zL.LINE,children:(0,C.FD)("div",{css:Me.chartTypeOption(R),children:[(0,C.Y)(m.h,{}),(0,C.Y)(c.A,{id:"CyTYL6",defaultMessage:"Line chart"})]})}),k(d.zL.PARALLEL)&&(0,C.Y)(s.wS0,{value:d.zL.PARALLEL,children:(0,C.FD)("div",{css:Me.chartTypeOption(R),children:[(0,C.Y)(h.h,{}),(0,C.Y)(c.A,{id:"FC9mcS",defaultMessage:"Parallel coordinates"})]})}),k(d.zL.CONTOUR)&&(0,C.Y)(s.wS0,{value:d.zL.CONTOUR,children:(0,C.FD)("div",{css:Me.chartTypeOption(R),children:[(0,C.Y)(p.h,{}),(0,C.Y)(c.A,{id:"6XfILf",defaultMessage:"Contour chart"})]})}),(0,x.uP)()&&k(d.zL.DIFFERENCE)&&(0,C.Y)(s.wS0,{value:d.zL.DIFFERENCE,children:(0,C.FD)("div",{css:Me.chartTypeOption(R),children:[(0,C.Y)(f.h,{}),(0,C.Y)(c.A,{id:"G5mMJI",defaultMessage:"Difference view"})]})}),(0,x.HW)()&&k(d.zL.IMAGE)&&(0,C.Y)(s.wS0,{value:d.zL.IMAGE,children:(0,C.FD)("div",{css:Me.chartTypeOption(R),children:[(0,C.Y)(v.h,{}),(0,C.Y)(c.A,{id:"5m2VPy",defaultMessage:"Image grid"})]})})]})}),(U=D.type,U===d.zL.BAR?(0,C.Y)(S,{metricKeyList:w,state:D,onStateChange:L}):U===d.zL.CONTOUR?(0,C.Y)(se,{metricKeyList:w,paramKeyList:M,state:D,onStateChange:L}):U===d.zL.LINE?(0,C.Y)(B,{metricKeyList:w,state:D,onStateChange:L}):U===d.zL.PARALLEL?(0,C.Y)(A,{metricKeyList:w,paramKeyList:M,state:D,onStateChange:L}):U===d.zL.SCATTER?(0,C.Y)(le,{metricKeyList:w,paramKeyList:M,state:D,onStateChange:L}):(0,x.uP)()&&U===d.zL.DIFFERENCE?(0,C.Y)(me,{metricKeyList:w,paramKeyList:M,state:D,onStateChange:L,groupBy:Y}):(0,x.HW)()&&U===d.zL.IMAGE?(0,C.Y)(ge,{previewData:N,imageKeyList:O,state:D,onStateChange:L}):null)]}),(0,C.Y)("div",{css:be,children:(0,C.Y)($.W,{contextData:{runs:_},component:ce.X,hoverOnly:!0,children:(0,C.Y)("div",{css:_e,children:(e=>{if(!e)return null;const t=ye[e];return t?(0,C.Y)(t,{previewData:N,cardConfig:D,groupBy:Y,setCardConfig:L,globalLineChartConfig:E}):null})(D.type)})})})]})});var U},Me={chartTypeOption:e=>({display:"grid",gridTemplateColumns:`${e.general.iconSize+e.spacing.xs}px 1fr`,gap:e.spacing.xs,alignItems:"center"}),field:{display:"grid",gridTemplateColumns:"80px 1fr",marginBottom:16}}},71932:function(e,t,n){"use strict";n.d(t,{GP:function(){return u},Mz:function(){return p},c_:function(){return m}});var r=n(31014),i=n(90765),o=n(62758),s=n(9133),a=n(91144),l=n(50111);const c=(0,r.createContext)({draggedCardUuid:"",targetSection:"",isDragging:()=>!1}),d=(0,r.createContext)({setDraggedCardUuid:()=>{},setTargetSection:()=>{},setTargetPosition:()=>{},onDropChartCard:()=>{},onSwapCards:()=>{}}),u=()=>(0,r.useContext)(c),p=()=>(0,r.useContext)(d),m=e=>{let{children:t,visibleChartCards:n=[]}=e;if(!(0,a.hX)())return(0,l.Y)(i.G,{children:t});const[u,p]=(0,r.useState)(null),[m,h]=(0,r.useState)(null),g=(0,r.useRef)(null),f=(0,r.useRef)(null);g.current=u,f.current=m;const v=(0,r.useRef)(null),y=(0,r.useCallback)((e=>{v.current=e}),[]),x=(0,r.useCallback)((()=>null!==g.current),[]),C=(0,o.g_)(),b=(0,r.useCallback)(((e,t)=>{C((n=>{var r;const i=null===(r=n.compareRunCharts)||void 0===r?void 0:r.slice();if(!i)return n;const o=i.findIndex((t=>t.uuid===e)),s=i.findIndex((e=>e.uuid===t));if(o<0||s<0)return n;const a=i[o];return i.splice(o,1),i.splice(s,0,a),{...n,compareRunCharts:i}}))}),[C]),_=(0,r.useCallback)((()=>{const e=g.current,t=f.current,r=v.current;null!==e&&null!==t&&null!==r&&(p(null),C((i=>{var o,a,l,c;const d=null===(o=i.compareRunCharts)||void 0===o?void 0:o.find((t=>t.uuid===e));if(!d)return i;const u=null===(a=i.compareRunSections)||void 0===a?void 0:a.find((e=>e.uuid===(null===d||void 0===d?void 0:d.metricSectionId))),p=null===(l=i.compareRunSections)||void 0===l?void 0:l.find((e=>e.uuid===t)),m=null===(c=i.compareRunCharts)||void 0===c?void 0:c.filter((e=>e.metricSectionId===(null===u||void 0===u?void 0:u.uuid)));if(u===p){var h;const t=null===(h=i.compareRunCharts)||void 0===h?void 0:h.slice(),o=null===m||void 0===m?void 0:m.filter((e=>n.includes(e)));if(!t||!o)return i;const a=t.findIndex((t=>t.uuid===e)),l=Math.min(r,o.length-1),c=(0,s.indexOf)(t,null===o||void 0===o?void 0:o[l]);return t&&-1!==a&&-1!==c&&(t.splice(a,1),t.splice(c,0,d)),{...i,compareRunCharts:t}}{var g;const e=null===(g=i.compareRunCharts)||void 0===g?void 0:g.filter((e=>e.metricSectionId===t&&!e.deleted));return e&&e.splice(r,0,d),{...i,compareRunCharts:(0,s.sortBy)(i.compareRunCharts,(t=>{var n;return null!==(n=null===e||void 0===e?void 0:e.indexOf(t))&&void 0!==n?n:-1})).map((e=>e.uuid===d.uuid?{...e,metricSectionId:t}:e))}}})))}),[C,n]),w=(0,r.useMemo)((()=>({draggedCardUuid:u,targetSection:m,isDragging:x})),[u,m,x]),M=(0,r.useMemo)((()=>({setDraggedCardUuid:p,setTargetSection:h,setTargetPosition:y,onDropChartCard:_,onSwapCards:b})),[_,b,y]);return(0,l.Y)(i.G,{children:(0,l.Y)(c.Provider,{value:w,children:(0,l.Y)(d.Provider,{value:M,children:t})})})}},40029:function(e,t,n){"use strict";n.d(t,{I:function(){return p}});var r=n(89555),i=n(31014),o=n(62758),s=n(88464),a=n(28741),l=n(87380),c=n(33678),d=n(76137),u=n(50111);const p=e=>{let{chartsSearchFilter:t}=e;const n=(0,o.g_)(),{theme:p}=(0,a.a)(),[m,h]=(0,i.useState)((()=>null!==t&&void 0!==t?t:"")),[g,f]=(0,i.useState)(!1),{formatMessage:v}=(0,s.A)(),y=(0,i.useCallback)((e=>{n((t=>({...t,chartsSearchFilter:e}))),f(!1)}),[n]),x=(0,d.YQ)(y,150);return(0,u.Y)(l.I,{componentId:"codegen_mlflow_app_src_experiment-tracking_components_runs-charts_components_runschartsfilterinput.tsx_30",role:"searchbox",prefix:(0,u.Y)("div",{css:(0,r.AH)({width:p.general.iconFontSize,lineHeight:0},""),children:g?(0,u.Y)(a.S,{size:"small"}):(0,u.Y)(c.WIv,{})}),value:m,allowClear:!0,onChange:e=>{h(e.target.value),f(!0),x(e.target.value)},placeholder:v({id:"Xs1oJm",defaultMessage:"Search metric charts"})})}},63617:function(e,t,n){"use strict";n.d(t,{_:function(){return d}});var r=n(89555),i=n(28741),o=n(50353),s=n(75627),a=n(76350),l=n(50111);var c={name:"1fttcpj",styles:"display:flex;flex-direction:column"};const d=e=>{let{chartData:t,isMetricHistoryLoading:n=!1,groupBy:d,fullScreenChart:u,onCancel:p,tooltipContextValue:m,tooltipComponent:h,autoRefreshEnabled:g,globalLineChartConfig:f}=e;const{theme:v,getPrefixedClassName:y}=(0,i.a)();return u?(0,l.Y)(o.M,{componentId:"codegen_mlflow_app_src_experiment-tracking_components_runs-charts_components_runschartsfullscreenmodal.tsx_53",visible:!0,onCancel:p,title:(0,l.FD)("div",{css:c,children:[u.title,(0,l.Y)("span",{css:(0,r.AH)({color:v.colors.textSecondary,fontSize:v.typography.fontSizeSm,marginRight:v.spacing.xs},""),children:u.subtitle})]}),footer:null,verticalSizing:"maxed_out",dangerouslySetAntdProps:{width:"95%"},css:(0,r.AH)({[`.${y("modal-body")}`]:{flex:1}},""),children:(0,l.Y)(s.W,{contextData:m,component:h,children:(0,l.Y)(a.i,{cardConfig:u.config,chartRunData:t,groupBy:d,index:0,sectionIndex:0,fullScreen:!0,autoRefreshEnabled:g,globalLineChartConfig:f,onRemoveChart:()=>{},onReorderCharts:()=>{},onStartEditChart:()=>{},setFullScreenChart:()=>{},canMoveDown:!1,canMoveUp:!1,onMoveDown:()=>{},onMoveUp:()=>{},onReorderWith:()=>{}})})}):null}},688:function(e,t,n){"use strict";n.d(t,{f:function(){return f}});var r=n(89555),i=n(28741),o=n(33678),s=n(50353),a=n(36118),l=n(31014),c=n(20193),d=n(88464),u=n(88443),p=n(50111);var m={name:"1v0pok0",styles:"min-width:300px"},h={name:"11jf4ye",styles:"display:flex;gap:8px"},g={name:"bsla3r",styles:"max-height:300px;overflow:auto"};const f=e=>{let{globalLineChartConfig:t,metricKeyList:n,updateUIState:f}=e;const{theme:v}=(0,i.a)(),y=(0,d.A)(),{lineSmoothness:x,selectedXAxisMetricKey:C,xAxisKey:b}=t||{},_=(0,l.useCallback)((e=>f((t=>({...t,globalLineChartConfig:{...t.globalLineChartConfig,...e}})))),[f]),w=b===a.fj.METRIC,M=y.formatMessage({id:"Kkr/RI",defaultMessage:"Configure charts"});return(0,p.FD)(o.rId.Root,{modal:!1,children:[(0,p.Y)(s.T,{componentId:"codegen_mlflow_app_src_experiment-tracking_components_runs-charts_components_runschartsglobalchartsettingsdropdown.tsx_44",content:M,children:(0,p.Y)(o.rId.Trigger,{asChild:!0,children:(0,p.Y)(i.B,{componentId:"mlflow.charts.controls.global_chart_setup_dropdown",icon:(0,p.Y)(o.L64,{}),"aria-label":M})})}),(0,p.FD)(o.rId.Content,{align:"end",css:m,children:[(0,p.FD)(o.rId.Group,{role:"region","aria-label":y.formatMessage({id:"Jp79WH",defaultMessage:"X-axis"}),children:[(0,p.Y)(o.rId.Label,{css:h,children:(0,p.Y)(u.A,{id:"Jp79WH",defaultMessage:"X-axis"})}),(0,p.FD)(o.rId.CheckboxItem,{componentId:"codegen_mlflow_app_src_experiment-tracking_components_runs-charts_components_runschartsglobalchartsettingsdropdown.tsx_68",checked:b===a.fj.STEP,onClick:()=>_({xAxisKey:a.fj.STEP}),children:[(0,p.Y)(o.rId.ItemIndicator,{}),(0,p.Y)(u.A,{id:"53b+wP",defaultMessage:"Step"})]}),(0,p.FD)(o.rId.CheckboxItem,{componentId:"codegen_mlflow_app_src_experiment-tracking_components_runs-charts_components_runschartsglobalchartsettingsdropdown.tsx_78",checked:b===a.fj.TIME,onClick:()=>_({xAxisKey:a.fj.TIME}),children:[(0,p.Y)(o.rId.ItemIndicator,{}),(0,p.Y)(u.A,{id:"/QYbzP",defaultMessage:"Time (wall)"})]}),(0,p.FD)(o.rId.CheckboxItem,{componentId:"codegen_mlflow_app_src_experiment-tracking_components_runs-charts_components_runschartsglobalchartsettingsdropdown.tsx_88",checked:b===a.fj.TIME_RELATIVE,onClick:()=>_({xAxisKey:a.fj.TIME_RELATIVE}),children:[(0,p.Y)(o.rId.ItemIndicator,{}),(0,p.Y)(u.A,{id:"sIC5K3",defaultMessage:"Time (relative)"})]}),(0,p.FD)(o.rId.Sub,{children:[(0,p.FD)(o.rId.SubTrigger,{css:(0,r.AH)({paddingLeft:v.spacing.xs+v.spacing.sm},""),children:[(0,p.Y)(o.rId.IconWrapper,{children:(0,p.Y)(i.r,{css:(0,r.AH)({visibility:w?"visible":"hidden"},"")})}),(0,p.Y)(u.A,{id:"yCncIr",defaultMessage:"Metric"})]}),(0,p.Y)(o.rId.SubContent,{css:g,children:n.map((e=>(0,p.FD)(o.rId.CheckboxItem,{componentId:"codegen_mlflow_app_src_experiment-tracking_components_runs-charts_components_runschartsglobalchartsettingsdropdown.tsx_118",checked:C===e&&w,onClick:()=>_({xAxisKey:a.fj.METRIC,selectedXAxisMetricKey:e}),children:[(0,p.Y)(o.rId.ItemIndicator,{}),e]},e)))})]})]}),(0,p.FD)(o.rId.Group,{role:"region","aria-label":y.formatMessage({id:"qkRBUr",defaultMessage:"Line smoothing"}),children:[(0,p.Y)(o.rId.Label,{children:(0,p.Y)(u.A,{id:"qkRBUr",defaultMessage:"Line smoothing"})}),(0,p.Y)("div",{css:(0,r.AH)({padding:v.spacing.sm},""),children:(0,p.Y)(c.o,{min:0,max:100,onChange:e=>_({lineSmoothness:e}),defaultValue:x||0})})]})]})]})}},75145:function(e,t,n){"use strict";n.d(t,{u:function(){return d}});var r=n(89555),i=n(28741),o=n(33678),s=n(21879),a=n(31014),l=n(88443),c=n(50111);const d=()=>{const e=(0,s.e)(),{theme:t}=(0,i.a)(),n=(0,a.useCallback)((()=>{e((e=>({...e,hideEmptyCharts:!0})))}),[e]);return(0,c.Y)("div",{css:(0,r.AH)({flex:1,display:"flex",alignItems:"center",justifyContent:"center",paddingLeft:t.spacing.lg,paddingRight:t.spacing.lg},""),children:(0,c.Y)(o.SvL,{description:(0,c.Y)(l.A,{id:"VAUHXW",defaultMessage:"No chart data available for the currently visible runs. Select other runs or <link>hide empty charts.</link>",values:{link:e=>(0,c.Y)(i.p.Link,{componentId:"codegen_mlflow_app_src_experiment-tracking_components_runs-charts_components_runschartsnodatafoundindicator.tsx_31",onClick:n,children:e})}}),image:(0,c.Y)(o.xfv,{})})})}},73150:function(e,t,n){"use strict";n.d(t,{X:function(){return x}});var r=n(9133),i=n(28741),o=n(33678),s=n(88443),a=n(93215),l=n(58481),c=n(24947),d=n(36118),u=n(75627),p=n(30152),m=n(59397),h=n(91144),g=n(35286),f=n(50111);const v=(e,t,n)=>{var i,o;const{metricKey:s,xAxisKey:a}=e,l=(null===n||void 0===n||null===(i=n.metricEntity)||void 0===i?void 0:i.key)||s,c=null!==(o=null===n||void 0===n?void 0:n.yValue)&&void 0!==o?o:null===t||void 0===t?void 0:t.metrics[l].value;if((0,r.isNil)(c))return null;const u=((e,t)=>{var n,r,i;return t===d.fj.METRIC?null!==(n=null===e||void 0===e?void 0:e.xValue)&&void 0!==n?n:"":(0,h.v$)()&&t===d.fj.TIME_RELATIVE?"number"===typeof(i=null!==(r=null===e||void 0===e?void 0:e.xValue)&&void 0!==r?r:"")?i:i.split(" ")[1]||"00:00:00":null===e||void 0===e?void 0:e.xValue})(n,a);return(0,f.FD)(f.FK,{children:[n&&(0,f.FD)("div",{css:C.value,children:[(0,f.FD)("strong",{children:[n.label,":"]})," ",u]}),(0,f.FD)("div",{css:C.value,children:[(0,f.FD)("strong",{children:[l,":"]})," ",c]})]})},y=e=>{let{activeRun:t,cardConfig:n,isHovering:r,hoverData:i}=e;return n.type===p.zL.BAR?((e,t)=>{var n,r;const{metricKey:i}=e,o=null===t||void 0===t?void 0:t.metrics[i];if(!o)return null;const s=g.g[o.key],a=null!==(n=null===s||void 0===s?void 0:s.displayName)&&void 0!==n?n:o.key,l=null!==(r=null===s||void 0===s?void 0:s.valueFormatter({value:o.value}))&&void 0!==r?r:o.value;return(0,f.FD)("div",{css:C.value,children:[(0,f.FD)("strong",{children:[a,":"]})," ",l]})})(n,t):n.type===p.zL.SCATTER?((e,t)=>{var n,r,i,o;const{xaxis:s,yaxis:a}=e,l=s.key,c=a.key,d="METRIC"===s.type?null===(n=t.metrics[l])||void 0===n?void 0:n.value:null===(r=t.params[l])||void 0===r?void 0:r.value,u="METRIC"===a.type?null===(i=t.metrics[c])||void 0===i?void 0:i.value:null===(o=t.params[c])||void 0===o?void 0:o.value;return(0,f.FD)(f.FK,{children:[d&&(0,f.FD)("div",{css:C.value,children:[(0,f.FD)("strong",{children:["X (",l,"):"]})," ",d]}),u&&(0,f.FD)("div",{css:C.value,children:[(0,f.FD)("strong",{children:["Y (",c,"):"]})," ",u]})]})})(n,t):n.type===p.zL.CONTOUR?((e,t)=>{var n,r,i,o,s,a;const{xaxis:l,yaxis:c,zaxis:d}=e,u=l.key,p=c.key,m=d.key,h="METRIC"===l.type?null===(n=t.metrics[u])||void 0===n?void 0:n.value:null===(r=t.params[u])||void 0===r?void 0:r.value,g="METRIC"===c.type?null===(i=t.metrics[p])||void 0===i?void 0:i.value:null===(o=t.params[p])||void 0===o?void 0:o.value,v="METRIC"===d.type?null===(s=t.metrics[m])||void 0===s?void 0:s.value:null===(a=t.params[m])||void 0===a?void 0:a.value;return(0,f.FD)(f.FK,{children:[h&&(0,f.FD)("div",{css:C.value,children:[(0,f.FD)("strong",{children:["X (",u,"):"]})," ",h]}),g&&(0,f.FD)("div",{css:C.value,children:[(0,f.FD)("strong",{children:["Y (",p,"):"]})," ",g]}),v&&(0,f.FD)("div",{css:C.value,children:[(0,f.FD)("strong",{children:["Z (",m,"):"]})," ",v]})]})})(n,t):n.type===p.zL.LINE?v(n,t,i):n.type===p.zL.PARALLEL?((e,t,n)=>{const{selectedParams:r,selectedMetrics:i}=e,o=r.map((e=>{const n=null===t||void 0===t?void 0:t.params[e];return!n||(0,f.FD)("div",{children:[(0,f.FD)("strong",{children:[n.key,":"]})," ",n.value]},e)})),s=i.map((e=>{const n=null===t||void 0===t?void 0:t.metrics[e];return!n||(0,f.FD)("div",{children:[(0,f.FD)("strong",{children:[n.key,":"]})," ",n.value]},e)}));return n?(0,f.FD)(f.FK,{children:[o.slice(0,3),(o.length>3||s.length>1)&&(0,f.Y)("div",{children:"..."}),s[s.length-1]]}):(0,f.FD)(f.FK,{children:[o,s]})})(n,t,r):null},x=e=>{let{closeContextMenu:t,contextData:n,hoverData:r,chartData:d,runUuid:p,isHovering:h,mode:g}=e;const{runs:v,onTogglePin:x,onHideRun:b}=n,[_]=(0,c.z)(),w=null===v||void 0===v?void 0:v.find((e=>e.uuid===p));if((0,u.bL)(r)&&g===u.QS.MultipleTracesWithScanline&&h)return(0,f.Y)(m.G,{hoverData:r});const M=(0,u.bL)(r)?r.hoveredDataPoint:r;if(!w)return null;const Y=w.displayName||w.uuid,S=null!==M&&void 0!==M&&M.metricEntity?` (${M.metricEntity.key})`:"";return(0,f.FD)("div",{children:[(0,f.FD)("div",{css:C.contentWrapper,children:[(0,f.FD)("div",{css:C.header,children:[(0,f.Y)("div",{css:C.colorPill,style:{backgroundColor:w.color}}),w.groupParentInfo?(0,f.Y)(i.p.Text,{children:Y+S}):(0,f.Y)(a.N_,{to:l.h.getRunPageRoute(_,p),target:"_blank",css:C.runLink,onClick:t,children:Y+S})]}),!h&&(0,f.Y)(i.B,{componentId:"codegen_mlflow_app_src_experiment-tracking_components_runs-compare_runscomparetooltipbody.tsx_259",size:"small",onClick:t,icon:(0,f.Y)(i.C,{})})]}),(0,f.Y)(y,{isHovering:h,activeRun:w,cardConfig:d,hoverData:M}),(0,f.FD)("div",{css:C.actionsWrapper,children:[w.pinnable&&x&&(0,f.Y)(o.paO,{title:w.pinned?(0,f.Y)(s.A,{id:"ugm2f6",defaultMessage:"Unpin run"}):(0,f.Y)(s.A,{id:"58xhem",defaultMessage:"Click to pin the run"}),placement:"bottom",children:(0,f.Y)(i.B,{componentId:"codegen_mlflow_app_src_experiment-tracking_components_runs-compare_runscomparetooltipbody.tsx_282",size:"small",onClick:()=>{x(p),t()},icon:w.pinned?(0,f.Y)(o.aS3,{}):(0,f.Y)(o.tsw,{})})}),b&&(0,f.Y)(o.paO,{title:(0,f.Y)(s.A,{id:"eE5VIF",defaultMessage:"Click to hide the run"}),placement:"bottom",children:(0,f.Y)(i.B,{componentId:"codegen_mlflow_app_src_experiment-tracking_components_runs-compare_runscomparetooltipbody.tsx_302","data-testid":"experiment-view-compare-runs-tooltip-visibility-button",size:"small",onClick:()=>{b(p),t()},icon:(0,f.Y)(o.kFX,{})})})]})]})},C={runLink:e=>({color:e.colors.primary,"&:hover":{}}),actionsWrapper:{marginTop:8,display:"flex",gap:8,alignItems:"center"},header:{display:"flex",gap:8,alignItems:"center"},value:{whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis"},contentWrapper:{display:"flex",gap:8,alignItems:"center",marginBottom:12,justifyContent:"space-between",height:24},colorPill:{width:12,height:12,borderRadius:"100%"}}},66117:function(e,t,n){"use strict";n.d(t,{a:function(){return h}});var r=n(28741),i=n(31014),o=n(79445),s=n(97604),a=n(25790),l=n(36118),c=n(23541),d=n(50684),u=n(50111);const p={displaylogo:!1,scrollZoom:!1,modeBarButtonsToRemove:["toImage"]},m=[[0,"rgb(5,10,172)"],[.35,"rgb(40,60,190)"],[.5,"rgb(70,100,245)"],[.6,"rgb(90,120,245)"],[.7,"rgb(106,137,247)"],[1,"rgb(220,220,220)"]],h=i.memo((e=>{let{runsData:t,xAxis:n,yAxis:h,zAxis:g,markerSize:f=10,className:v,reverseScale:y,margin:x=l.AQ,colorScale:C=m,onUpdate:b,onHover:_,onUnhover:w,width:M,height:Y,useDefaultHoverBox:S=!0,selectedRunUuid:I,onSetDownloadHandler:A}=e;const{theme:E}=(0,r.a)(),{layoutHeight:k,layoutWidth:R,setContainerDiv:T,containerDiv:D,isDynamicSizeSupported:L}=(0,l.xN)(),F=(0,i.useMemo)((()=>{const e=[],r=[],i=[],o=[],s=[];for(const l of t){var a,c,d;const{metrics:t,params:u,color:p,uuid:m,displayName:f}=l,v="METRIC"===n.type?t:u,y="METRIC"===h.type?t:u,x="METRIC"===g.type?t:u,C=(null===v||void 0===v||null===(a=v[n.key])||void 0===a?void 0:a.value)||void 0,b=(null===y||void 0===y||null===(c=y[h.key])||void 0===c?void 0:c.value)||void 0,_=(null===x||void 0===x||null===(d=x[g.key])||void 0===d?void 0:d.value)||void 0;C&&b&&_&&(e.push(C),r.push(b),i.push(_),o.push(p||E.colors.primary),s.push([m,f||m,_]))}const u=[{x:e,y:r,customdata:s,text:t.map((e=>{let{displayName:t}=e;return t})),hovertemplate:S?(p=g.key,`<b>%{customdata[1]}:</b><br><b>%{xaxis.title.text}:</b> %{x:.2f}<br><b>%{yaxis.title.text}:</b> %{y:.2f}<br><b>${p}:</b> %{customdata[2]:.2f}<extra></extra>`):void 0,hoverinfo:S?void 0:"none",hoverlabel:S?l.rv:void 0,type:"scatter",mode:"markers",textposition:"bottom center",marker:{size:f,color:o,line:{color:"black",width:1}}}];var p;return t.length>1&&u.unshift({x:e,y:r,z:i,type:"contour",connectgaps:!0,hoverinfo:"none",contours:{coloring:"heatmap"},colorscale:C,reversescale:y,colorbar:{tickfont:{size:11,color:E.colors.textSecondary,family:""}}}),u}),[C,y,f,t,n.type,n.key,h.type,h.key,g.type,g.key,E.colors.primary,E.colors.textSecondary,S]),H=(0,i.useMemo)((()=>(0,l.y)(E)),[E]),[N,O]=(0,i.useState)({width:M||R,height:Y||k,margin:x,xaxis:{title:n.key,tickfont:{size:11,color:E.colors.textSecondary}},yaxis:{ticks:"inside",title:{standoff:32,text:h.key},tickfont:{size:11,color:E.colors.textSecondary}},template:{layout:H}});(0,i.useEffect)((()=>{O((e=>{const t={...e,width:M||R,height:Y||k,margin:x};return t.xaxis&&(t.xaxis.title=n.key),t.yaxis&&(t.yaxis.title={standoff:32,text:h.key}),t}))}),[R,k,x,n.key,h.key,M,Y]);const{setHoveredPointIndex:K}=(0,a.pO)(D,I,t,a.nD),P=(0,i.useCallback)((e=>{var t,n;let{points:r}=e;const i=r.find((e=>{let{curveNumber:t}=e;return 1===t}));if(K(null!==(t=null===i||void 0===i?void 0:i.pointIndex)&&void 0!==t?t:-1),!i)return;const o=null===i||void 0===i||null===(n=i.customdata)||void 0===n?void 0:n[0];o&&(null===_||void 0===_||_(o))}),[_,K]),z=(0,i.useCallback)((()=>{null===w||void 0===w||w(),K(-1)}),[w,K]),U=(0,s.l)(P),B=(0,i.useMemo)((()=>(0,l.eY)(t)),[t]);(0,i.useEffect)((()=>{const e=F.map((e=>({...e,mode:"text+markers"})));null===A||void 0===A||A((0,d.W)(e,N))}),[N,A,F]);const j=(0,u.Y)("div",{css:[l.gz.chartWrapper(E),l.gz.scatterChartHighlightStyles,""],className:v,ref:T,children:(0,u.Y)(o.W,{data:F,useResizeHandler:!L,css:l.gz.chart(E),onUpdate:b,layout:N,config:p,onHover:U,onUnhover:z})});return(0,u.Y)(c.A,{labelData:B,children:j})}))},65243:function(e,t,n){"use strict";n.d(t,{u:function(){return g}});var r=n(28741),i=n(31014),o=n(88464),s=n(79445),a=n(97604),l=n(25790),c=n(36118),d=n(23541),u=n(50684),p=n(35286),m=n(50111);const h={displaylogo:!1,scrollZoom:!1,doubleClick:"autosize",showTips:!1,modeBarButtonsToRemove:["toImage"]},g=i.memo((e=>{var t,n;let{runsData:g,metricKey:v,className:y,margin:x=c.am,onUpdate:C,onHover:b,onUnhover:_,barWidth:w=3/4,width:M,height:Y,displayRunNames:S=!0,useDefaultHoverBox:I=!0,displayMetricKey:A=!0,selectedRunUuid:E,onSetDownloadHandler:k}=e;const R=(0,i.useMemo)((()=>{const e=g.map((e=>e.uuid)),t=g.map((e=>{let{displayName:t}=e;return t})),n=g.map((e=>{var t;return(0,c.jn)(null===(t=e.metrics[v])||void 0===t?void 0:t.value)})),r=g.map((e=>{var t;const n=p.g[v];var r;return n?n.valueFormatter({value:null===(r=e.metrics[v])||void 0===r?void 0:r.value}):function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:2;return"number"===typeof e?e.toFixed(t):e}(null===(t=e.metrics[v])||void 0===t?void 0:t.value)})),i=g.map((e=>e.color));return[{y:e,x:n,names:t,text:r,textposition:n.map((e=>0===e?"outside":"auto")),textfont:{size:11},metrics:g.map((e=>e.metrics[v])),type:"bar",hovertemplate:I?"%{label}<extra></extra>":void 0,hoverinfo:I?"y":"none",hoverlabel:I?c.rv:void 0,width:w,orientation:"h",marker:{color:i}}]}),[g,v,w,I]),{layoutHeight:T,layoutWidth:D,setContainerDiv:L,containerDiv:F,isDynamicSizeSupported:H}=(0,c.xN)(),{formatMessage:N}=(0,o.A)(),{theme:O}=(0,r.a)(),K=(0,i.useMemo)((()=>(0,c.y)(O)),[O]),[P,z]=(0,i.useState)({width:M||D,height:Y||T,hovermode:"y",margin:x,xaxis:{title:A?v:void 0,tickfont:{size:11,color:O.colors.textSecondary},tickformat:null!==(t=null===(n=p.g[v])||void 0===n?void 0:n.chartAxisTickFormat)&&void 0!==t?t:void 0},yaxis:{showticklabels:S,title:S?N({id:"+hQ+de",defaultMessage:"Run name"}):void 0,tickfont:{size:11,color:O.colors.textSecondary},fixedrange:!0},template:{layout:K}});(0,i.useEffect)((()=>{z((e=>({...e,width:M||D,height:Y||T,margin:x,xaxis:{...e.xaxis,title:A?v:void 0}})))}),[D,T,x,v,M,Y,A]);const{setHoveredPointIndex:U}=(0,l.pO)(F,E,g,l.Iq),B=(0,i.useCallback)((e=>{var t,n,r,i;let{points:o,event:s}=e;const a=null===(t=o[0].data)||void 0===t?void 0:t.metrics[o[0].pointIndex];U(null!==(n=null===(r=o[0])||void 0===r?void 0:r.pointIndex)&&void 0!==n?n:-1);const l={xValue:o[0].x,yValue:o[0].value,index:o[0].pointIndex,metricEntity:a},c=null===(i=o[0])||void 0===i?void 0:i.label;c&&(null===b||void 0===b||b(c,s,l))}),[b,U]),j=(0,i.useCallback)((()=>{null===_||void 0===_||_(),U(-1)}),[_,U]),W=(0,a.l)(B),G=(0,i.useMemo)((()=>(0,c.eY)(g)),[g]);(0,i.useEffect)((()=>{const e={...P,yaxis:{...P.yaxis,showticklabels:!0,automargin:!0}},t=R.map((e=>({...e,y:e.names})));null===k||void 0===k||k((0,u.W)(t,e))}),[P,k,R]);const $=(0,m.Y)("div",{css:[c.gz.chartWrapper(O),f.highlightStyles,""],className:y,ref:L,children:(0,m.Y)(s.W,{data:R,useResizeHandler:!H,css:c.gz.chart(O),onUpdate:C,layout:P,config:h,onHover:W,onUnhover:j})});return(0,m.Y)(d.A,{labelData:G,children:$})})),f={highlightStyles:{".trace.bars g.point path":{transition:"var(--trace-transition)"},".trace.bars.is-highlight g.point path":{opacity:"var(--trace-opacity-dimmed-high) !important"},".trace.bars g.point.is-hover-highlight path":{opacity:"var(--trace-opacity-highlighted) !important"},".trace.bars g.point.is-selection-highlight path":{opacity:"var(--trace-opacity-highlighted) !important",stroke:"var(--trace-stroke-color)",strokeWidth:"var(--trace-stroke-width) !important"}}}},16026:function(e,t,n){"use strict";n.d(t,{Y:function(){return l}});var r=n(89555),i=n(28741),o=(n(31014),n(50111));var s={name:"aj4kza",styles:"white-space:nowrap;text-overflow:ellipsis;overflow:hidden"};const a=e=>{let{label:t,color:n,dashStyle:a}=e;const{theme:c}=(0,i.a)();return(0,o.FD)("div",{css:(0,r.AH)({display:"flex",alignItems:"center",textOverflow:"ellipsis",flexShrink:0,marginRight:c.spacing.md,maxWidth:"100%"},""),children:[(0,o.Y)(l,{color:n,dashStyle:a}),(0,o.Y)(i.p.Text,{color:"secondary",size:"sm",css:s,children:t})]})},l=e=>{let{color:t,dashStyle:n}=e;const{theme:s}=(0,i.a)(),a=n?(e=>{switch(e){case"dot":return"3";case"dash":return"6, 3";case"longdash":return"9, 3";case"dashdot":return"6, 3, 3, 3";case"longdashdot":return"9, 3, 3, 3";default:return""}})(n):void 0,l=s.typography.fontSizeSm/2;return(0,o.Y)("svg",{css:(0,r.AH)({height:s.typography.fontSizeSm,width:24,marginRight:s.spacing.xs,flexShrink:0},""),children:(0,o.Y)("path",{d:`M0,${l}h24`,style:{strokeWidth:3,stroke:t,strokeDasharray:a}})})};t.A=e=>{let{labelData:t,height:n,fullScreen:s}=e;const{theme:l}=(0,i.a)();return(0,o.Y)("div",{css:(0,r.AH)({display:"flex",flexWrap:"wrap",height:n,alignContent:s?"flex-start":"normal",gap:s?l.spacing.sm:0,overflowY:"auto",overflowX:"hidden",marginTop:s?l.spacing.lg:l.spacing.sm},""),children:t.map((e=>(0,o.Y)(a,{...e},e.label)))})}},23541:function(e,t,n){"use strict";var r=n(89555),i=(n(31014),n(16026)),o=n(28741),s=n(50111);t.A=e=>{let{labelData:t,fullScreen:n,children:a}=e;const{theme:l}=(0,o.a)(),c=n?100:32,d=n?l.spacing.lg:l.spacing.md;return(0,s.FD)(s.FK,{children:[(0,s.Y)("div",{css:(0,r.AH)({height:`calc(100% - ${c+d}px)`},""),children:a}),(0,s.Y)(i.A,{labelData:t,height:c,fullScreen:n})]})}},73724:function(e,t,n){"use strict";n.d(t,{h:function(){return E}});var r=n(28741),i=n(9133),o=n(31014),s=n(88464),a=n(79445),l=n(97604),c=n(25790),d=n(36118),u=n(82645),p=n(23541),m=n(91144),h=n(89555),g=n(50111);const f=".main-svg .draglayer .nsewdrag",v=e=>{var t;const n=(0,i.isString)(e)&&(null===(t=e.match(/[0-9]{2}:[0-9]{2}:[0-9]{2}\.([0-9]+)/))||void 0===t?void 0:t[1]);return n?1e3*Number(`0.${n}`)%1:0};var y=n(50684),x=n(25866),C=n(30152),b=n(49698);const _=(e,t)=>t===d.fj.STEP?e.step:t===d.fj.TIME||t===d.fj.TIME_RELATIVE?e.timestamp:null,w=e=>{var t,n,r,o,s;let{runEntry:a,metricKey:l,xAxisKey:c,selectedXAxisMetricKey:p,useDefaultHoverBox:m,lineSmoothness:h,lineShape:g,lineDash:f,displayPoints:v,displayOriginalLine:y,xAxisScaleType:x,expression:C,evaluateExpression:b}=e;if(!a.metricsHistory)return{};let w,Y,E=[];if(C&&b)E=(e=>{let{expression:t,runEntry:n,evaluateExpression:r,xAxisKey:o}=e;const s=t.variables.map((e=>{var t;const r=null===(t=n.metricsHistory)||void 0===t?void 0:t[e];return void 0!==r?r.flatMap((e=>{const t=_(e,o);return null!==t?[t]:[]})):[]})),a=(0,i.intersection)(...s);return a.sort(((e,t)=>e-t)),a.flatMap((e=>{const i=t.variables.reduce(((t,r)=>{var i,s;const a=null===(i=n.metricsHistory)||void 0===i?void 0:i[r],l=null===a||void 0===a||null===(s=a.find((t=>_(t,o)===e)))||void 0===s?void 0:s.value;return void 0!==l&&(t[r]=l),t}),{}),s=r(t,i);return void 0!==s?[{value:s,key:t.expression,...o===d.fj.STEP||o===d.fj.METRIC?{step:e,timestamp:0}:{timestamp:e,step:0}}]:[]}))})({expression:C,runEntry:a,evaluateExpression:b,xAxisKey:c});else{if(void 0===l)return{};var k;E=null===(k=a.metricsHistory[l])||void 0===k?void 0:k.sort(((e,t)=>c===d.fj.STEP?e.step-t.step:e.timestamp-t.timestamp))}if(c===d.fj.METRIC){var R,T;const e=new Set((null!==(R=E)&&void 0!==R?R:[]).map((e=>{let{step:t}=e;return t}))),t=A(e,a.metricsHistory[p]),n=t.map((e=>{let{step:t}=e;return t})),r=new Set(n),i=M(null!==(T=E)&&void 0!==T?T:[],n).filter((e=>{let{step:t}=e;return r.has(t)}));w=t.map((e=>{let{value:t}=e;return t})),Y=i.map((e=>{let{value:t}=e;return(0,d.jn)(t)}))}else{var D;if(w=I(E,c),Y=null===(D=E)||void 0===D?void 0:D.map((e=>{let{value:t}=e;return(0,d.jn)(t)})),"log"===x){const e=w.findIndex((e=>e>0));-1!==e&&(w=w.slice(e),Y=Y.slice(e))}}const L=(0,d.fH)(w)?"linear":g,F=!y&&(null!==v&&void 0!==v?v:w.length<60),H=1===(null===(t=Y)||void 0===t?void 0:t.length),N=y?"skip":m?void 0:"none";return{uuid:a.uuid,name:(null===(n=a.runInfo)||void 0===n?void 0:n.runName)||"",x:w,y:(0,u.mV)(null!==(r=Y)&&void 0!==r?r:[],y?0:h),metricHistory:E,metricKey:l||(null===C||void 0===C?void 0:C.expression),hovertext:(null===(o=a.runInfo)||void 0===o?void 0:o.runName)||"",text:"x",textposition:"outside",textfont:{size:11},mode:H||F?"lines+markers":"lines",hovertemplate:m?S((null===(s=a.runInfo)||void 0===s?void 0:s.runName)||""):void 0,hoverinfo:N,hoverlabel:m?d.rv:void 0,type:"scatter",line:{dash:f,shape:L},marker:{color:y?(0,d.FI)(a.color,.15):a.color}}},M=(e,t)=>{const n=t.reduce(((e,t,n)=>(e[t]=n,e)),{});return e.slice().sort(((e,t)=>{var r,i;return(null!==(r=n[e.step])&&void 0!==r?r:1/0)-(null!==(i=n[t.step])&&void 0!==i?i:1/0)}))},Y={displaylogo:!1,doubleClick:"autosize",scrollZoom:!1,modeBarButtonsToRemove:["toImage"]},S=e=>`<b>${e}</b>:<br><b>%{xaxis.title.text}:</b> %{x}<br><b>%{yaxis.title.text}:</b> %{y:.2f}<br><extra></extra>`,I=(e,t)=>{if(!e)return[];if(t===d.fj.TIME_RELATIVE){const{timestamp:t}=(0,i.minBy)(e,"timestamp")||{};return t?(0,m.v$)()?e.map((e=>{let{timestamp:n}=e;return n-t+x.$V})):e.map((e=>{let{timestamp:n}=e;return(n-t)/1e3})):e.map((e=>{let{step:t}=e;return t}))}if((0,m.v$)()&&t===d.fj.TIME_RELATIVE_HOURS){const{timestamp:t}=(0,i.minBy)(e,"timestamp")||{};if(t)return e.map((e=>{let{timestamp:n}=e;return(n-t)/x.uv}))}else if(t===d.fj.TIME)return e.map((e=>{let{timestamp:t}=e;return t}));return e.map((e=>{let{step:t}=e;return t}))},A=(e,t)=>t?t.filter((t=>e.has(t.step))).map((e=>({value:(0,d.jn)(e.value),step:e.step}))).sort(((e,t)=>Number(e.value)-Number(t.value))):[],E=o.memo((e=>{let{runsData:t,metricKey:n,selectedMetricKeys:u,scaleType:_="linear",xAxisScaleType:S="linear",xAxisKey:E=d.fj.STEP,yAxisKey:R=C.Kb.METRIC,yAxisExpressions:T=[],selectedXAxisMetricKey:D="",lineSmoothness:L=70,className:F,margin:H=d.am,lineShape:N="linear",onUpdate:O,onHover:K,onUnhover:P,width:z,height:U,useDefaultHoverBox:B=!0,selectedRunUuid:j,xRange:W,yRange:G,lockXAxisZoom:$,fullScreen:V,displayPoints:q,onSetDownloadHandler:X,positionInSection:J=0}=e;const{theme:Z}=(0,r.a)(),Q=(0,m.dD)(),ee=(0,m.Cj)(),{evaluateExpression:te}=(0,b.l)(),ne=(0,o.useMemo)((()=>{let e=E;if((0,m.v$)()&&E===d.fj.TIME_RELATIVE){const r=u||[n];let o=0;t.forEach((e=>{const t=e.metricsHistory;t&&r.forEach((e=>{if(t[e]){const{timestamp:n}=(0,i.minBy)(t[e],"timestamp")||{},{timestamp:r}=(0,i.maxBy)(t[e],"timestamp")||{};if(r&&n){const e=r-n;o=Math.max(o,e)}}}))})),o>=x.B5&&(e=d.fj.TIME_RELATIVE_HOURS)}return e}),[t,u,n,E]),re=e=>{const t=w(e);if((0,m.gF)()){const n={...e,lineSmoothness:0,useDefaultHoverBox:!1,displayPoints:!1,displayOriginalLine:!0};return[t,w(n)]}return[t]},ie=(0,o.useMemo)((()=>{const e=null!==u&&void 0!==u?u:[n];return t.map((t=>(0,m.Iq)()&&E!==d.fj.METRIC&&R===C.Kb.EXPRESSION?T.flatMap(((e,n)=>re({runEntry:t,expression:e,xAxisKey:ne,selectedXAxisMetricKey:D,useDefaultHoverBox:B,lineSmoothness:L,lineShape:N,lineDash:d.J2[n%d.J2.length],displayPoints:q,xAxisScaleType:S,evaluateExpression:te}))):e.filter((e=>{var n;return!(0,i.isEmpty)(null===(n=t.metricsHistory)||void 0===n?void 0:n[e])})).flatMap(((e,n)=>re({runEntry:t,metricKey:e,xAxisKey:ne,selectedXAxisMetricKey:D,useDefaultHoverBox:B,lineSmoothness:L,lineShape:N,lineDash:d.J2[n%d.J2.length],displayPoints:q,xAxisScaleType:S}))))).flat()}),[t,N,ne,L,n,B,u,D,q,S,R,T,te,E]),oe=(0,o.useMemo)((()=>{const e=null!==u&&void 0!==u?u:[n];return t.filter((e=>{let{groupParentInfo:t}=e;return t})).flatMap((t=>e.map((e=>(e=>{var t;let{runEntry:n,metricKey:r,lineShape:o,xAxisKey:s,selectedXAxisMetricKey:a,xAxisScaleType:l}=e;if(!n.aggregatedMetricsHistory)return{};const{max:c,min:u}=n.aggregatedMetricsHistory[r];let p,m,h,g;if(s===d.fj.METRIC){if(!n.metricsHistory)return{};const e=new Set(c.map((e=>{let{step:t}=e;return t}))),t=A(e,n.metricsHistory[a]),r=t.map((e=>e.step)),i=new Set(r),o=t.map((e=>e.value));h=M(u,r).filter((e=>{let{step:t}=e;return i.has(t)})).map((e=>{let{value:t}=e;return(0,d.jn)(t)})).reverse(),g=M(c,r).filter((e=>{let{step:t}=e;return i.has(t)})).map((e=>{let{value:t}=e;return(0,d.jn)(t)})),p=o.slice().reverse(),m=o}else{const e=u.slice().reverse();if(p=I(e,s),m=I(c,s),h=e.map((e=>{let{value:t}=e;return(0,d.jn)(t)})),g=c.map((e=>{let{value:t}=e;return(0,d.jn)(t)})),"log"===l){const e=m.findIndex((e=>(0,i.isNumber)(e)&&e>0)),t=p.length-p.findIndex((e=>(0,i.isNumber)(e)&&e>0));-1!==e&&-1!==t&&(m=m.slice(e),g=g.slice(e),p=p.slice(0,t-1),h=h.slice(0,t-1))}}const f=[...p,null,...m],v=[...h,null,...g];return{name:(null===(t=n.runInfo)||void 0===t?void 0:t.runName)||"",x:f,y:v,fillcolor:(0,d.FI)(n.color,.2),hovertemplate:void 0,hoverlabel:void 0,hoverinfo:"skip",line:{color:"transparent",shape:o},fill:"tozeroy",type:"scatter"}})({runEntry:t,metricKey:e,lineShape:N,xAxisKey:ne,selectedXAxisMetricKey:D,xAxisScaleType:S})))))}),[N,n,t,u,ne,D,S]),se=(0,o.useMemo)((()=>[...oe,...ie]),[ie,oe]),{layoutHeight:ae,layoutWidth:le,setContainerDiv:ce,containerDiv:de,isDynamicSizeSupported:ue}=(0,d.xN)(),{formatMessage:pe}=(0,s.A)(),{setHoveredPointIndex:me}=(0,c.pO)(de,j,se,c.PQ,oe.length),he=((e,t,n)=>e===d.fj.TIME||(0,m.v$)()&&n===d.fj.TIME_RELATIVE?"date":e===d.fj.STEP&&"log"===t?"log":"linear")(E,S,ne),ge=(0,o.useMemo)((()=>ne===d.fj.METRIC?D:pe((0,d.fw)(ne))),[pe,ne,D]),fe=(0,o.useMemo)((()=>ee?{tickfont:{size:11,color:Z.colors.textSecondary},type:"log"===_?"log":"linear",fixedrange:$,range:G,autorange:void 0===G,tickformat:"f"}:{tickfont:{size:11,color:Z.colors.textSecondary},type:"log"===_?"log":"linear",fixedrange:$}),[_,$,Z,G,ee]),ve=(0,o.useMemo)((()=>ee?{title:ge,tickfont:{size:11,color:Z.colors.textSecondary},range:W,autorange:void 0===W,type:he}:{title:ge,tickfont:{size:11,color:Z.colors.textSecondary}}),[Z,ge,W,he,ee]),[ye,xe]=(0,o.useState)({width:z||le,height:U||ae,margin:H,xaxis:ve,yaxis:fe,showlegend:!1});(0,o.useEffect)((()=>{xe((e=>{const t={...e,width:z||le,height:U||ae,margin:H,yaxis:fe,showlegend:!1};return ee&&(t.xaxis=ve),(0,i.isEqual)(t,e)?e:t}))}),[le,ae,H,ve,fe,z,U,ge,ee]);const Ce=(0,o.useMemo)((()=>((null===u||void 0===u?void 0:u.length)||0)>1),[u]),be=(0,o.useCallback)((e=>{var t,n;let{points:r,event:i}=e;const o=r[0],s=null===o||void 0===o?void 0:o.data;if(me(null!==(t=null===o||void 0===o?void 0:o.curveNumber)&&void 0!==t?t:-1),!s)return;const a=s.uuid,l=null===(n=s.metricHistory)||void 0===n?void 0:n[o.pointIndex],c={xValue:o.x,yValue:o.y,metricEntity:l,index:o.pointIndex,label:ge};a&&(null===K||void 0===K||K(a,i,c))}),[K,me,ge]),_e=(0,o.useCallback)((()=>{null===P||void 0===P||P(),me(-1)}),[P,me]),we=(0,o.useMemo)((()=>(0,d.y)(Z)),[Z]),Me=ye;Me.xaxis&&(Me.xaxis.title=ge,Me.xaxis.type=he,W&&(Me.xaxis.range=ee?W:((e,t,n)=>{if(e===d.fj.STEP&&"number"===typeof t[0]&&"number"===typeof t[1]&&"log"===n){if(t[0]<0&&t[1]<0)return;if(t[0]<0)return[0,t[1]]}return[...t]})(E,W,S)),Me.xaxis.automargin=!0,Me.xaxis.tickformat=(0,m.v$)()&&ne===d.fj.TIME_RELATIVE?"%H:%M:%S":void 0),Me.template={layout:we},Me.yaxis&&G&&(Me.yaxis.range=G,Me.yaxis.automargin=!0,Me.yaxis.tickformat="f");const Ye=(0,o.useMemo)((()=>(0,d.Ct)(t,u,n,R,T)),[t,u,n,R,T]),{scanlineElement:Se,initHandler:Ie,updateHandler:Ae,onPointHover:Ee,onPointUnhover:ke}=(e=>{let{onUnhover:t,onHover:n,runsData:r,plotData:s,legendLabelData:a,containsMultipleMetricKeys:l,xAxisKeyLabel:c,xAxisKey:d,disabled:u,setHoveredPointIndex:p,xAxisScaleType:m="linear",positionInSection:y=0}=e;const x=(0,o.useRef)({containerLeftPixels:0,plotWidthPixels:0,plotOffsetPixels:0,lowerBoundValue:0,valueRange:0,mainContainer:null,dragLayer:null,initialized:!1}),C=(0,o.useRef)(null),b=(0,o.useRef)(void 0),_=(0,o.useMemo)((()=>(0,i.uniq)(s.map((e=>{let{x:t}=e;return t})).flat())),[s]),[w,M]=(0,o.useState)(null),Y=(0,o.useRef)(void 0),S=(0,o.useRef)(a),I=(0,o.useRef)(r),A=(0,o.useRef)(s),E=(0,o.useRef)(_),k=(0,o.useRef)(w);S.current=a,I.current=r,A.current=s,E.current=_,k.current=w;const R=(0,o.useCallback)((e=>{var t,n,r,o,s,a;const l=null===(t=e.layout.xaxis)||void 0===t||null===(n=t.range)||void 0===n?void 0:n[0],c=null===(r=e.layout.xaxis)||void 0===r||null===(o=r.range)||void 0===o?void 0:o[1];let d=(0,i.isNumber)(l)?l:new Date(null!==l&&void 0!==l?l:0).getTime(),u=(0,i.isNumber)(c)?c:new Date(null!==c&&void 0!==c?c:0).getTime();d+=v(l),u+=v(c),x.current.lowerBoundValue=null!==(s=d)&&void 0!==s?s:0,x.current.valueRange=(null!==(a=u)&&void 0!==a?a:0)-x.current.lowerBoundValue}),[]),T=(0,o.useCallback)((()=>{const{mainContainer:e,dragLayer:t}=x.current;if(e&&t){const n=e.getBoundingClientRect(),r=t.getBoundingClientRect();x.current.containerLeftPixels=n.x,x.current.plotWidthPixels=r.width,x.current.plotOffsetPixels=r.x-n.x,x.current.initialized=r.width>0}}),[]),D=(0,o.useCallback)(((e,t)=>{R(e);const n=t.querySelector(".main-svg"),r=t.querySelector(f);x.current.mainContainer=n,x.current.dragLayer=r,T()}),[R,T]),L=(0,o.useCallback)(((e,t)=>{M({figure:e,graphDiv:t}),D(e,t)}),[D]);(0,o.useEffect)((()=>{requestAnimationFrame((()=>{k.current&&D(k.current.figure,k.current.graphDiv)}))}),[y,D]);const F=(0,o.useCallback)((e=>{e.relatedTarget instanceof Element&&e.relatedTarget.classList.contains("dragcover")||(null===t||void 0===t||t(),C.current&&(C.current.style.display="none"))}),[t]),H=(0,o.useCallback)((e=>{var t,n;let{points:r}=e;const i=r[0],o=null===i||void 0===i?void 0:i.data;if(p(null!==(t=null===i||void 0===i?void 0:i.curveNumber)&&void 0!==t?t:-1),!o)return;const s=null===(n=o.metricHistory)||void 0===n?void 0:n[i.pointIndex],a={xValue:i.x,yValue:i.y,metricEntity:s,index:i.pointIndex,label:c,traceUuid:o.uuid};b.current=a}),[c,p]),N=(0,o.useCallback)((()=>{b.current=void 0,p(-1)}),[p]),O=(0,o.useCallback)((e=>{const t=x.current,n=(e-t.plotOffsetPixels-t.containerLeftPixels)/t.plotWidthPixels;let r=t.lowerBoundValue+t.valueRange*n;return"log"===m&&(r=10**r),E.current.reduce(((e,t)=>Math.abs(t-r)<Math.abs(e-r)?t:e),E.current[0])}),[m]);(0,o.useEffect)((()=>{if(u)return;if(!w)return;R(w.figure);const e=w.graphDiv.querySelector(f),t=(0,i.throttle)((e=>{x.current.initialized||T();const t=O(e.clientX),n=S.current.map((e=>{var n,r;const o=I.current.find((t=>{let{uuid:n}=t;return n===e.uuid})),s=A.current.find((t=>{let{uuid:n,metricKey:r}=t;return n===e.uuid&&e.metricKey===r}));if(!s)return;const a=l?e.label:null===o||void 0===o?void 0:o.displayName,c=null===(n=s.x)||void 0===n?void 0:n.indexOf(t);if((0,i.isUndefined)(c)||-1===c)return;const d=null===(r=s.y)||void 0===r?void 0:r[c];return{displayName:a||"",value:(0,i.isNumber)(d)?d:void 0,color:null===e||void 0===e?void 0:e.color,dashStyle:null===e||void 0===e?void 0:e.dashStyle,uuid:`${e.uuid}.${e.metricKey}`}}));Y.current={tooltipLegendItems:(0,i.orderBy)((0,i.compact)(n),"value","desc"),hoveredDataPoint:null===b||void 0===b?void 0:b.current,xValue:t,xAxisKey:d,xAxisKeyLabel:c}}),50,{leading:!0}),r=(0,i.throttle)(T,50),o=e=>{var t,r;if(!Y.current)return;const i=x.current,o=O(e.clientX),s=(("log"===m?Math.log10(o):o)-i.lowerBoundValue)/i.valueRange*i.plotWidthPixels;C.current&&(C.current.style.display="block",C.current.style.left=`${i.plotOffsetPixels+s}px`),null===n||void 0===n||n((null===(t=Y.current)||void 0===t||null===(r=t.hoveredDataPoint)||void 0===r?void 0:r.traceUuid)||"",{x:i.containerLeftPixels+i.plotOffsetPixels+s,y:e.clientY,originalEvent:e},Y.current)};return e?(e.addEventListener("pointermove",t),e.addEventListener("pointermove",o),window.addEventListener("resize",r),e.addEventListener("pointerleave",F),()=>{e.removeEventListener("pointermove",t),e.removeEventListener("pointermove",o),e.removeEventListener("pointerleave",F),window.removeEventListener("resize",r)}):()=>{}}),[F,w,R,n,l,b,u,d,c,m,O,T]);const K=u?null:(0,g.Y)("div",{css:(0,h.AH)({top:0,width:0,borderLeft:"1px dashed rgba(0,0,0,0.5)",height:"100%",position:"absolute",pointerEvents:"none"},""),ref:C,style:{display:"none"}});return{updateHandler:D,initHandler:L,scanlineElement:K,onPointHover:H,onPointUnhover:N}})({legendLabelData:Ye,plotData:ie,runsData:t,containsMultipleMetricKeys:Ce,onHover:K,onUnhover:_e,xAxisKeyLabel:ge,xAxisKey:ne,xAxisScaleType:E===d.fj.STEP?S:"linear",setHoveredPointIndex:me,disabled:!Q,positionInSection:J}),Re=(0,l.l)(Q?Ee:be);(0,o.useEffect)((()=>{const e=((null===u||void 0===u?void 0:u.length)||0)>1?se.map((e=>e.metricKey?{...e,name:`${e.name} (${e.metricKey})`}:e)):se,t={...ye,showlegend:!0,legend:{orientation:"h"}};null===X||void 0===X||X((0,y.W)(e,t))}),[ye,X,se,null===u||void 0===u?void 0:u.length]);const Te=(0,g.FD)("div",{css:[d.gz.chartWrapper(Z),k.highlightStyles,""],className:F,ref:ce,children:[(0,g.Y)(a.W,{data:se,useResizeHandler:!ue,css:d.gz.chart(Z),onUpdate:(e,t)=>{Q&&Ae(e,t),null===O||void 0===O||O(e,t)},layout:Me,config:Y,onHover:Re,onUnhover:Q?ke:_e,onInitialized:Ie}),Se]});return(0,g.Y)(p.A,{labelData:Ye,fullScreen:V,children:Te})})),k={highlightStyles:{".scatterlayer g.trace":{transition:"var(--trace-transition)"},".scatterlayer.is-highlight g.trace:not(.is-band)":{opacity:"var(--trace-opacity-dimmed-low) !important"},".scatterlayer g.trace.is-hover-highlight:not(.is-band)":{opacity:"var(--trace-opacity-highlighted) !important"},".scatterlayer g.trace.is-selection-highlight:not(.is-band)":{opacity:"var(--trace-opacity-highlighted) !important"},".scatterlayer g.trace.is-selection-highlight path.point":{stroke:"var(--trace-stroke-color)",strokeWidth:"var(--trace-stroke-width) !important"},".scatterlayer.is-highlight g.trace.is-band:not(.is-band-highlighted)":{opacity:"var(--trace-opacity-dimmed) !important"}}}},59397:function(e,t,n){"use strict";n.d(t,{G:function(){return f}});var r=n(89555),i=n(9133),o=n(31014),s=n(16026),a=n(69526),l=n(88464),c=n(36118),d=n(28741),u=n(91144),p=n(50111);const m=e=>{let{value:t}=e;return(0,p.FD)(p.FK,{children:[(0,p.Y)(a.XU,{value:t,year:"numeric"}),"-",(0,p.Y)(a.XU,{value:t,month:"2-digit"}),"-",(0,p.Y)(a.XU,{value:t,day:"2-digit"})," ",(0,p.Y)(a.ib,{value:t,hour:"numeric",hourCycle:"h24"}),":",(0,p.Y)(a.ib,{value:t,minute:"2-digit"}),":",(0,p.Y)(a.ib,{value:t,second:"2-digit",fractionalSecondDigits:3})]})},h=e=>{let{value:t}=e;return(0,p.FD)(p.FK,{children:[(0,p.Y)(a.ib,{value:t,hour:"2-digit",hourCycle:"h23"}),":",(0,p.Y)(a.ib,{value:t,minute:"2-digit"}),":",(0,p.Y)(a.ib,{value:t,second:"2-digit",fractionalSecondDigits:3})]})};var g={name:"1efi8gv",styles:"font-weight:bold"};const f=e=>{let{hoverData:t}=e;const{tooltipLegendItems:n,hoveredDataPoint:a,xValue:f,xAxisKeyLabel:v}=t,{traceUuid:y,metricEntity:x}=a||{},C=(0,l.A)(),{theme:b}=(0,d.a)(),_=`${y}.${null===x||void 0===x?void 0:x.key}`,w=t.xAxisKey===c.fj.METRIC?v:C.formatMessage((0,c.fw)(t.xAxisKey));return n?(0,p.FD)("div",{children:[!(0,i.isUndefined)(f)&&(0,p.FD)("div",{css:(0,r.AH)({marginBottom:b.spacing.xs},""),children:[(0,p.Y)("span",{css:g,children:w})," ",t.xAxisKey===c.fj.TIME?(0,p.Y)(m,{value:f}):(0,u.v$)()&&t.xAxisKey===c.fj.TIME_RELATIVE?(0,p.Y)(h,{value:f}):f]}),(0,p.Y)("div",{css:(0,r.AH)({display:"grid",gridTemplateColumns:`${b.general.iconSize}px auto auto`,columnGap:b.spacing.sm,rowGap:b.spacing.sm/4,alignItems:"center"},""),children:n.map((e=>{let{displayName:t,color:n,uuid:a,value:l,dashStyle:c}=e;return(0,p.FD)(o.Fragment,{children:[(0,p.Y)(s.Y,{color:n||"transparent",dashStyle:c}),(0,p.Y)("div",{css:(0,r.AH)({marginRight:b.spacing.md,fontSize:b.typography.fontSizeSm,color:_===a?"unset":b.colors.textPlaceholder},""),children:t}),(0,p.Y)("div",{children:!(0,i.isUndefined)(l)&&(0,p.Y)("span",{css:(0,r.AH)({fontWeight:_===a?"bold":"normal",color:_===a?"unset":b.colors.textPlaceholder},""),children:l})})]},a)}))})]}):null}},10661:function(e,t,n){"use strict";n.d(t,{i:function(){return h}});var r=n(28741),i=n(9133),o=n(31014),s=n(79445),a=n(97604),l=n(25790),c=n(36118),d=n(23541),u=n(50684),p=n(50111);const m={displaylogo:!1,scrollZoom:!1,modeBarButtonsToRemove:["toImage"]},h=o.memo((e=>{let{runsData:t,xAxis:n,yAxis:h,markerSize:g=10,className:f,margin:v=c.am,onUpdate:y,onHover:x,onUnhover:C,width:b,height:_,useDefaultHoverBox:w=!0,selectedRunUuid:M,onSetDownloadHandler:Y}=e;const{theme:S}=(0,r.a)(),{layoutHeight:I,layoutWidth:A,setContainerDiv:E,containerDiv:k,isDynamicSizeSupported:R}=(0,c.xN)(),T=(0,o.useMemo)((()=>{const e=[],r=[],o=[],s=[];for(const c of t){var a,l;const{runInfo:t,metrics:d,params:u,color:p,uuid:m,displayName:g}=c,{runUuid:f,runName:v}=t||{},y="METRIC"===n.type?d:u,x="METRIC"===h.type?d:u,C=null===y||void 0===y||null===(a=y[n.key])||void 0===a?void 0:a.value,b=null===x||void 0===x||null===(l=x[h.key])||void 0===l?void 0:l.value;(0,i.isNil)(C)||(0,i.isNil)(b)||(e.push(C),r.push(b),o.push(p||S.colors.primary),f?s.push([f,v||f]):s.push([m,g]))}return[{x:e,y:r,customdata:s,text:t.map((e=>{let{displayName:t}=e;return t})),hovertemplate:w?"<b>%{customdata[1]}:</b><br><b>%{xaxis.title.text}:</b> %{x:.2f}<br><b>%{yaxis.title.text}:</b> %{y:.2f}<br><extra></extra>":void 0,hoverinfo:w?void 0:"none",hoverlabel:w?c.rv:void 0,type:"scatter",mode:"markers",textposition:"bottom center",marker:{size:g,color:o}}]}),[t,n,h,S,g,w]),D=(0,o.useMemo)((()=>(0,c.y)(S)),[S]),[L,F]=(0,o.useState)({width:b||A,height:_||I,margin:v,xaxis:{title:n.key,tickfont:{size:11,color:S.colors.textSecondary}},yaxis:{title:h.key,tickfont:{size:11,color:S.colors.textSecondary}},template:{layout:D}});(0,o.useEffect)((()=>{F((e=>{const t={...e,width:b||A,height:_||I,margin:v};return t.xaxis&&(t.xaxis.title=n.key),t.yaxis&&(t.yaxis.title=h.key),t}))}),[A,I,v,n.key,h.key,b,_]);const{setHoveredPointIndex:H}=(0,l.pO)(k,M,t,l.nD),N=(0,o.useCallback)((e=>{var t,n,r,i;let{points:o}=e;const s=null===(t=o[0])||void 0===t||null===(n=t.customdata)||void 0===n?void 0:n[0];H(null!==(r=null===(i=o[0])||void 0===i?void 0:i.pointIndex)&&void 0!==r?r:-1),s&&(null===x||void 0===x||x(s))}),[x,H]),O=(0,o.useCallback)((()=>{null===C||void 0===C||C(),H(-1)}),[C,H]),K=(0,a.l)(N),P=(0,o.useMemo)((()=>(0,c.eY)(t)),[t]);(0,o.useEffect)((()=>{const e=T.map((e=>({...e,mode:"text+markers"})));null===Y||void 0===Y||Y((0,u.W)(e,L))}),[L,Y,T]);const z=(0,p.Y)("div",{css:[c.gz.chartWrapper(S),c.gz.scatterChartHighlightStyles,""],className:f,ref:E,children:(0,p.Y)(s.W,{data:T,useResizeHandler:!R,css:c.gz.chart(S),layout:L,config:m,onUpdate:y,onHover:K,onUnhover:O})});return(0,p.Y)(d.A,{labelData:P,children:z})}))},6922:function(e,t,n){"use strict";n.d(t,{H8:function(){return m},Ox:function(){return w},b7:function(){return h},cN:function(){return g},rZ:function(){return p},xC:function(){return f}});var r=n(89555),i=n(28741),o=n(33678),s=n(31014),a=n(90765),l=n(91144),c=n(88443),d=n(9133),u=n(50111);const p="drag-handle",m="--drag-transform",h=`var(${m})`;let g=function(e){return e.PARALLEL_CHARTS_AREA="PARALLEL_CHARTS_AREA",e.GENERAL_AREA="GENERAL_AREA",e}({});const f=(0,s.memo)((e=>{let{runsOrGroups:t}=e;const n=t.some((e=>{let{groupParentInfo:t}=e;return t})),r=t.some((e=>{let{runInfo:t}=e;return t}));return(0,l.M1)()?null:r&&n?(0,u.Y)(c.A,{id:"xr/C5c",defaultMessage:"Comparing first {count} groups and runs",values:{count:t.length}}):n?(0,u.Y)(c.A,{id:"TMJfZv",defaultMessage:"Comparing first {count} groups",values:{count:t.length}}):(0,u.Y)(c.A,{id:"gdjniH",defaultMessage:"Comparing first {count} runs",values:{count:t.length}})}));var v={name:"andpxo",styles:"display:flex;overflow:hidden"},y={name:"19mhjsb",styles:"overflow:hidden;flex:1;flex-shrink:1"},x={name:"72wqca",styles:"margin-bottom:0;overflow:hidden;white-space:nowrap;text-overflow:ellipsis"},C={name:"1989ovb",styles:"vertical-align:middle"};const b=e=>{let{title:t,subtitle:n,onDelete:m,onEdit:h,children:g,uuid:f,dragGroupKey:b,tooltip:w="",onReorderWith:M=d.noop,canMoveDown:Y,canMoveUp:S,previousChartUuid:I,nextChartUuid:A,additionalMenuContent:E,toggleFullScreenChart:k,toggles:R,supportedDownloadFormats:T=[],onClickDownload:D,isHidden:L,height:F,isRefreshing:H=!1}=e;const{theme:N}=(0,i.a)(),{dragHandleRef:O,dragPreviewRef:K,dropTargetRef:P,isDraggingOtherGroup:z,isOver:U}=(0,l.hX)()?{dragHandleRef:void 0,dragPreviewRef:void 0,dropTargetRef:void 0,isDraggingOtherGroup:!1,isOver:!1}:(0,a.S)({dragGroupKey:b,dragKey:f||"",onDrop:M}),B=(0,s.useCallback)((()=>M(f||"",I||"")),[M,f,I]),j=(0,s.useCallback)((()=>M(f||"",A||"")),[M,f,A]);return(0,u.FD)("div",{css:(0,r.AH)({height:(0,l.hX)()&&null!==F&&void 0!==F?F:360,overflow:"hidden",display:"grid",gridTemplateRows:"auto 1fr",backgroundColor:N.colors.backgroundPrimary,padding:12,paddingBottom:N.spacing.sm,border:`1px solid ${N.colors.border}`,borderRadius:N.general.borderRadiusBase,transition:"opacity 0.12s",position:"relative"},""),style:{opacity:z?.1:U?.5:1},"data-testid":"experiment-view-compare-runs-card",ref:e=>{null===K||void 0===K||K(e),null===P||void 0===P||P(e)},children:[(0,u.FD)("div",{css:v,children:[(0,u.Y)("div",{ref:O,"data-testid":"experiment-view-compare-runs-card-drag-handle",css:(0,r.AH)({marginTop:N.spacing.xs,marginRight:N.spacing.sm,cursor:"grab"},""),className:p,children:(0,u.Y)(o.WP0,{})}),(0,u.FD)("div",{css:y,children:[(0,u.Y)(i.p.Title,{title:String(t),level:4,css:x,children:t}),n&&(0,u.Y)("span",{css:_.subtitle(N),children:n}),w&&(0,u.Y)(o.Jsb,{css:C,title:w})]}),H&&(0,u.Y)("div",{css:(0,r.AH)({width:N.general.heightSm,height:N.general.heightSm,display:"flex",alignItems:"center",justifyContent:"center"},""),children:(0,u.Y)(i.S,{})}),R&&(0,u.Y)("div",{css:(0,r.AH)({display:"flex",padding:`0px ${N.spacing.lg}px`,gap:N.spacing.md,alignItems:"flex-start"},""),children:R.map((e=>(0,u.Y)(o.dOG,{componentId:"codegen_mlflow_app_src_experiment-tracking_components_runs-charts_components_cards_chartcard.common.tsx_262",checked:e.currentToggle,onChange:e.setToggle,label:e.toggleLabel},e.toggleLabel)))}),(0,u.Y)(i.B,{componentId:"fullscreen_button_chartcard",icon:(0,u.Y)(o.P7m,{}),onClick:k,disabled:!k}),(0,u.FD)(o.rId.Root,{modal:!1,children:[(0,u.Y)(o.rId.Trigger,{asChild:!0,children:(0,u.Y)(i.B,{componentId:"codegen_mlflow_app_src_experiment-tracking_components_runs-compare_cards_chartcard.common.tsx_158",type:"tertiary",icon:(0,u.Y)(o.ssM,{}),"data-testid":"experiment-view-compare-runs-card-menu"})}),(0,u.FD)(o.rId.Content,{align:"end",minWidth:100,children:[(0,u.Y)(o.rId.Item,{componentId:"codegen_mlflow_app_src_experiment-tracking_components_runs-charts_components_cards_chartcard.common.tsx_288",onClick:h,"data-testid":"experiment-view-compare-runs-card-edit",children:"Configure"}),(0,u.Y)(o.rId.Item,{componentId:"codegen_mlflow_app_src_experiment-tracking_components_runs-charts_components_cards_chartcard.common.tsx_291",onClick:m,"data-testid":"experiment-view-compare-runs-card-delete",children:"Delete"}),T.length>0&&D&&(0,u.FD)(u.FK,{children:[(0,u.Y)(o.rId.Separator,{}),T.includes("csv")&&(0,u.Y)(o.rId.Item,{componentId:"codegen_mlflow_app_src_experiment-tracking_components_runs-charts_components_cards_chartcard.common.tsx_298",onClick:()=>D("csv"),children:(0,u.Y)(c.A,{id:"5YOBk/",defaultMessage:"Export as CSV"})}),T.includes("svg")&&(0,u.Y)(o.rId.Item,{componentId:"codegen_mlflow_app_src_experiment-tracking_components_runs-charts_components_cards_chartcard.common.tsx_316",onClick:()=>D("svg"),children:(0,u.Y)(c.A,{id:"LiW/yM",defaultMessage:"Download as SVG"})}),T.includes("png")&&(0,u.Y)(o.rId.Item,{componentId:"codegen_mlflow_app_src_experiment-tracking_components_runs-charts_components_cards_chartcard.common.tsx_324",onClick:()=>D("png"),children:(0,u.Y)(c.A,{id:"s5ygFF",defaultMessage:"Download as PNG"})})]}),(0,u.Y)(o.rId.Separator,{}),(0,u.Y)(o.rId.Item,{componentId:"codegen_mlflow_app_src_experiment-tracking_components_runs-charts_components_cards_chartcard.common.tsx_334",disabled:!S,onClick:B,"data-testid":"experiment-view-compare-runs-move-up",children:(0,u.Y)(c.A,{id:"IAyAgH",defaultMessage:"Move up"})}),(0,u.Y)(o.rId.Item,{componentId:"codegen_mlflow_app_src_experiment-tracking_components_runs-charts_components_cards_chartcard.common.tsx_344",disabled:!Y,onClick:j,"data-testid":"experiment-view-compare-runs-move-down",children:(0,u.Y)(c.A,{id:"Z6kodo",defaultMessage:"Move down"})}),E]})]})]}),g]})},_={chartEntry:e=>({height:360,overflow:"hidden",display:"grid",gridTemplateRows:"auto 1fr",backgroundColor:e.colors.backgroundPrimary,padding:e.spacing.md,border:`1px solid ${e.colors.border}`,borderRadius:e.general.borderRadiusBase}),chartComponentWrapper:()=>({overflow:"hidden"}),subtitle:e=>({color:e.colors.textSecondary,fontSize:11,marginRight:4,verticalAlign:"middle"})},w=(0,s.memo)(b)},59264:function(e,t,n){"use strict";n.d(t,{J:function(){return h},X:function(){return g}});var r=n(31014),i=n(65243),o=n(75627),s=n(92206),a=n(91144),l=n(6922),c=n(50684),d=n(21616),u=n(35286),p=n(75145),m=n(50111);const h={t:24,b:48,r:0,l:4,pad:0},g=e=>{var t,n;let{config:g,chartRunData:v,onDelete:y,onEdit:x,fullScreen:C,setFullScreenChart:b,hideEmptyCharts:_,isInViewport:w,...M}=e;const Y=(0,a.hX)(),S=(0,r.useMemo)((()=>(0,a.M1)()?v.filter((e=>{let{hidden:t,metrics:n}=e;return!t&&n[g.metricKey]})):v.slice(0,g.runsCountToCompare||10).reverse()),[v,g]),I=(0,r.useMemo)((()=>!S.flatMap((e=>{let{metrics:t}=e;return Object.keys(t)})).includes(g.metricKey)),[g,S]),{setTooltip:A,resetTooltip:E,selectedRunUuid:k}=(0,o.uN)(g),{elementRef:R,isInViewport:T}=(0,s.v)({enabled:!Y}),D=C||(null!==w&&void 0!==w?w:T),[L,F]=(0,c.H)(),H=(0,m.Y)("div",{css:[f.barChartCardWrapper,{height:C?"100%":void 0},""],ref:R,children:D?(0,m.Y)(i.u,{runsData:S,metricKey:g.metricKey,displayRunNames:!1,displayMetricKey:!1,useDefaultHoverBox:!1,margin:h,onHover:A,onUnhover:E,selectedRunUuid:k,onSetDownloadHandler:F}):null});return C?H:_&&I?null:(0,m.Y)(l.Ox,{onEdit:x,onDelete:y,title:null!==(t=null===(n=u.g[g.metricKey])||void 0===n?void 0:n.displayName)&&void 0!==t?t:g.metricKey,subtitle:(0,m.Y)(l.xC,{runsOrGroups:S}),uuid:g.uuid,dragGroupKey:l.cN.GENERAL_AREA,toggleFullScreenChart:I?void 0:()=>{var e,t;null===b||void 0===b||b({config:g,title:null!==(e=null===(t=u.g[g.metricKey])||void 0===t?void 0:t.displayName)&&void 0!==e?e:g.metricKey,subtitle:(0,m.Y)(l.xC,{runsOrGroups:v})})},supportedDownloadFormats:["png","svg","csv"],onClickDownload:e=>{if("csv"!==e&&"csv-full"!==e)null===L||void 0===L||L(e,g.metricKey);else{const e=[...S].reverse();(0,d.LL)(e,[g.metricKey],[],g.metricKey)}},...M,children:I?(0,m.Y)(p.u,{}):H})},f={barChartCardWrapper:{overflow:"hidden"}}},76350:function(e,t,n){"use strict";n.d(t,{i:function(){return ge}});var r=n(31014),i=n(30152),o=n(91144),s=n(59264),a=n(33678),l=n(36118),c=n(73724),d=n(75627),u=n(6922),p=n(24789),m=n(9133),h=n(92206),g=n(25121),f=n(10811);var v=n(81850),y=n(50684),x=n(21616),C=n(75145),b=n(6531),_=n(50111);const w=e=>{if((0,o.Iq)()&&e.yAxisKey===i.Kb.EXPRESSION){var t;const n=(null===(t=e.yAxisExpressions)||void 0===t?void 0:t.map((e=>e.expression)))||[];return(null===n||void 0===n?void 0:n.join(" vs "))||""}return e.selectedMetricKeys&&0!==e.selectedMetricKeys.length?e.selectedMetricKeys.join(" vs "):e.metricKey},M=["png","svg","csv","csv-full"],Y=e=>{var t;let{config:n,chartRunData:s,onDelete:Y,onEdit:I,onDownloadFullMetricHistoryCsv:A,groupBy:E,fullScreen:k,setFullScreenChart:R,autoRefreshEnabled:T,hideEmptyCharts:D,globalLineChartConfig:L,isInViewport:F,isInViewportDeferred:H,positionInSection:N,...O}=e;const K=(0,o.dD)(),P=(0,o.Cj)(),z=(0,o.hX)(),{xAxisKey:U,selectedXAxisMetricKey:B,lineSmoothness:j}=(0,b.x)(n,L),W=(0,r.useCallback)((()=>{null===R||void 0===R||R({config:n,title:w(n),subtitle:(0,_.Y)(u.xC,{runsOrGroups:s})})}),[s,n,R]),G=(0,r.useMemo)((()=>(0,o.M1)()?s.filter((e=>{let{hidden:t}=e;return!t})).reverse():s.slice(0,n.runsCountToCompare||10).reverse()),[s,n]),$=(0,r.useMemo)((()=>G.some((e=>e.groupParentInfo))),[G]),V=(0,r.useMemo)((()=>{var e;const t=null!==(e=n.selectedMetricKeys)&&void 0!==e?e:[n.metricKey],r=G.flatMap((e=>{let{metrics:t}=e;return Object.keys(t)}));return 0===(0,m.intersection)(t,(0,m.uniq)(r)).length}),[n,G]),q=(0,r.useMemo)((()=>{if($){return[...(0,m.compact)(G.map((e=>e.groupParentInfo))).flatMap((e=>e.runUuids)),...(0,m.compact)(G.filter((e=>!e.groupParentInfo&&!e.belongsToGroup)).map((e=>{var t;return null===(t=e.runInfo)||void 0===t?void 0:t.runUuid})))]}return(0,m.compact)(G.map((e=>{var t;return null===(t=e.runInfo)||void 0===t?void 0:t.runUuid})))}),[G,$]),X=(0,r.useMemo)((()=>{const e=(e=>{var t;const n=[e.metricKey];var r;if(!(0,o.Iq)()||e.yAxisKey!==i.Kb.EXPRESSION)return null!==(r=e.selectedMetricKeys)&&void 0!==r?r:n;const s=null===(t=e.yAxisExpressions)||void 0===t?void 0:t.reduce(((e,t)=>(t.variables.forEach((t=>e.add(t))),e)),new Set);return void 0===s?n:Array.from(s)})(n),t=B?[B]:[];return e.concat(t)}),[n,B]),{setTooltip:J,resetTooltip:Z,destroyTooltip:Q,selectedRunUuid:ee}=(0,d.uN)(n,K?d.QS.MultipleTracesWithScanline:d.QS.Simple),{elementRef:te,isInViewport:ne,isInViewportDeferred:re}=(0,h.v)({enabled:!z}),ie=k||(null!==F&&void 0!==F?F:ne),oe=k||(null!==H&&void 0!==H?H:re),{aggregateFunction:se}=E||{},ae=(0,f.d4)((e=>(0,m.pick)(e.entities.sampledMetricsByRunUuid,q)),f.bN),[le,ce]=(0,r.useState)((()=>{if(n.range&&!(0,m.isUndefined)(n.range.yMin)&&!(0,m.isUndefined)(n.range.yMax))return[n.range.yMin,n.range.yMax]})),de=(0,r.useRef)(void 0),{setOffsetTimestamp:ue,stepRange:pe,xRangeLocal:me,setXRangeLocal:he}=function(e,t,n,i,s){let a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"linear";const[c,d]=(0,r.useState)((()=>{if((0,o.Cj)()&&e.range&&!(0,m.isUndefined)(e.range.xMin)&&!(0,m.isUndefined)(e.range.xMax))return[e.range.xMin,e.range.xMax]})),[u,p]=(0,r.useState)(void 0);return{setOffsetTimestamp:p,stepRange:(0,r.useMemo)((()=>{if(c){if(t===l.fj.TIME&&(0,m.isString)(c[0])&&(0,m.isString)(c[1]))return(0,g.p4)(i,s,n,c);if(t===l.fj.TIME_RELATIVE&&u&&(0,m.isNumber)(c[0])&&(0,m.isNumber)(c[1]))return(0,g.p4)(i,s,n,u);if(t===l.fj.STEP&&(0,m.isNumber)(c[0])&&(0,m.isNumber)(c[1])){const e=Math.floor("log"===a?10**c[0]:c[0]),t=Math.ceil("log"===a?10**c[1]:c[1]);return e&&t?[e-1,t+1]:void 0}}}),[t,n,c,i,s,u,a]),xRangeLocal:c,setXRangeLocal:d}}(n,U,n.metricKey,ae,q,U===l.fj.STEP?n.xAxisScaleType:"linear"),{resultsByRunUuid:ge,isLoading:fe,isRefreshing:ve}=(0,p.S)({runUuids:q,metricKeys:X,enabled:oe,maxResults:320,range:pe,autoRefreshEnabled:T});(0,r.useEffect)((()=>{Q()}),[Q,fe]);const ye=(0,r.useMemo)((()=>G.map((e=>{const t=X.reduce(((t,r)=>{var i,o;const s=null===(i=ge[e.uuid])||void 0===i||null===(o=i[r])||void 0===o?void 0:o.metricsHistory;return s&&(t[r]=n.ignoreOutliers?(0,l.c1)(s):s),t}),{});return{...e,metricsHistory:t}}))),[X,ge,G,n.ignoreOutliers]),xe=(0,v.B)({enabled:$,ungroupedRunsData:ye,metricKeys:X,sampledDataResultsByRunUuid:ge,aggregateFunction:se,selectedXAxisMetricKey:U===l.fj.METRIC?B:void 0,ignoreOutliers:null!==(t=n.ignoreOutliers)&&void 0!==t&&t}),Ce=$?xe:ye,[be,_e]=(0,y.H)(),we=ie,Me=fe||!oe,Ye=(0,_.Y)("div",{css:[S.lineChartCardWrapper,{height:k?"100%":void 0},""],ref:te,children:we?Me?(0,_.Y)(a.PLz,{}):(0,_.Y)(c.h,{runsData:Ce,metricKey:n.metricKey,selectedMetricKeys:n.selectedMetricKeys,scaleType:n.scaleType,xAxisKey:U,xAxisScaleType:n.xAxisScaleType,yAxisKey:n.yAxisKey,yAxisExpressions:n.yAxisExpressions,selectedXAxisMetricKey:B,lineSmoothness:j,useDefaultHoverBox:!1,onHover:J,onUnhover:Z,selectedRunUuid:ee,onUpdate:P?e=>{let{layout:t}=e;if(!k){let e=null===le||void 0===le?void 0:le[0],n=null===le||void 0===le?void 0:le[1],r=null===me||void 0===me?void 0:me[0],i=null===me||void 0===me?void 0:me[1];const{autorange:s,range:a}=t.yaxis||{};!(0,m.isEqual)(s?[void 0,void 0]:a,[e,n])&&Q(),s?(e=void 0,n=void 0):a&&(e=a[0],n=a[1]);const{autorange:c,range:d}=t.xaxis||{};if(c)r=void 0,i=void 0;else if(d){const e=(0,m.compact)(G.map((e=>{let{runInfo:t}=e;return null===t||void 0===t?void 0:t.runUuid}))),t=G.flatMap((e=>{var t;let{groupParentInfo:n}=e;return null!==(t=null===n||void 0===n?void 0:n.runUuids)&&void 0!==t?t:[]}));if((0,o.v$)()||U!==l.fj.TIME_RELATIVE)if(U===l.fj.TIME_RELATIVE_HOURS){const n=(0,g.CZ)(ge,[...e,...t],d,36e5);ue([...n])}else ue(void 0);else{const n=(0,g.CZ)(ge,[...e,...t],d);ue([...n])}r=d[0],i=d[1]}(0,m.isEqual)({xMin:null===me||void 0===me?void 0:me[0],xMax:null===me||void 0===me?void 0:me[1],yMin:null===le||void 0===le?void 0:le[0],yMax:null===le||void 0===le?void 0:le[1]},{xMin:r,xMax:i,yMin:e,yMax:n})||(he((0,m.isUndefined)(r)||(0,m.isUndefined)(i)?void 0:[r,i]),ce((0,m.isUndefined)(e)||(0,m.isUndefined)(n)?void 0:[e,n]))}}:e=>{let{layout:t}=e;const{range:n}=t.yaxis||{};if(!(0,m.isEqual)(n,de.current)&&Q(),de.current=[...n],!t.xaxis)return;const{autorange:r,range:i}=t.xaxis;if(r)he(void 0);else if(!(0,m.isEqual)(i,me)&&!r&&i){const e=(0,m.compact)(G.map((e=>{let{runInfo:t}=e;return null===t||void 0===t?void 0:t.runUuid}))),t=G.flatMap((e=>{var t;let{groupParentInfo:n}=e;return null!==(t=null===n||void 0===n?void 0:n.runUuids)&&void 0!==t?t:[]}));if((0,o.v$)()||U!==l.fj.TIME_RELATIVE)if(U===l.fj.TIME_RELATIVE_HOURS){const n=(0,g.CZ)(ge,[...e,...t],i,36e5);ue([...n])}else ue(void 0);else{const n=(0,g.CZ)(ge,[...e,...t],i);ue([...n])}he([...i])}},xRange:me,yRange:P?le:de.current,fullScreen:k,displayPoints:n.displayPoints,onSetDownloadHandler:_e,positionInSection:null!==N&&void 0!==N?N:0}):null}),Se=(0,r.useCallback)((e=>{var t,r;const i=null!==(t=null===(r=n.selectedMetricKeys)||void 0===r?void 0:r.join("-"))&&void 0!==t?t:n.metricKey;if("csv-full"!==e)"csv"!==e?null===be||void 0===be||be(e,i):(0,x.Fz)(Ce,n.selectedMetricKeys||[n.metricKey],i);else{const e=[...(0,m.compact)(Ce.map((e=>{var t;return null===(t=e.runInfo)||void 0===t?void 0:t.runUuid}))),...(0,m.compact)(Ce.filter((e=>{let{groupParentInfo:t}=e;return t})).flatMap((e=>{var t;return null===(t=e.groupParentInfo)||void 0===t?void 0:t.runUuids})))];null===A||void 0===A||A(e,n.selectedMetricKeys||[n.metricKey])}}),[Ce,n,be,A]);return D&&V?null:k?Ye:(0,_.Y)(u.Ox,{onEdit:I,onDelete:Y,title:w(n),subtitle:(0,_.Y)(u.xC,{runsOrGroups:G}),uuid:n.uuid,dragGroupKey:u.cN.GENERAL_AREA,supportedDownloadFormats:M,onClickDownload:Se,toggleFullScreenChart:V?void 0:W,isRefreshing:ve,isHidden:!ie,...O,children:V?(0,_.Y)(C.u,{}):Ye})},S={lineChartCardWrapper:{overflow:"hidden"}};var I=n(10661);const A=e=>{let{config:t,chartRunData:n,onDelete:i,onEdit:s,fullScreen:a,setFullScreenChart:l,hideEmptyCharts:c,isInViewport:p,...g}=e;const f=(0,o.hX)(),v=`${t.xaxis.key} vs. ${t.yaxis.key}`,b=(0,r.useMemo)((()=>(0,o.M1)()?n.filter((e=>{let{hidden:t}=e;return!t})):n.slice(0,t.runsCountToCompare||10).reverse()),[n,t]),w=(0,r.useMemo)((()=>{const e=[t.xaxis.key,t.yaxis.key],n=b.flatMap((e=>{let{metrics:t}=e;return Object.keys(t)}));return 0===(0,m.intersection)(e,(0,m.uniq)(n)).length}),[t,b]),{setTooltip:M,resetTooltip:Y,selectedRunUuid:S}=(0,d.uN)(t),{elementRef:A,isInViewport:k}=(0,h.v)({enabled:!f}),R=a||(null!==p&&void 0!==p?p:k),[T,D]=(0,y.H)(),L=(0,_.Y)("div",{css:[E.scatterChartCardWrapper,{height:a?"100%":void 0},""],ref:A,children:R?(0,_.Y)(I.i,{runsData:b,xAxis:t.xaxis,yAxis:t.yaxis,onHover:M,onUnhover:Y,useDefaultHoverBox:!1,selectedRunUuid:S,onSetDownloadHandler:D}):null});return c&&w?null:a?L:(0,_.Y)(u.Ox,{onEdit:s,onDelete:i,title:v,subtitle:(0,_.Y)(u.xC,{runsOrGroups:b}),uuid:t.uuid,dragGroupKey:u.cN.GENERAL_AREA,toggleFullScreenChart:w?void 0:()=>{null===l||void 0===l||l({config:t,title:v,subtitle:(0,_.Y)(u.xC,{runsOrGroups:n})})},supportedDownloadFormats:["png","svg","csv"],onClickDownload:e=>{const n=[t.xaxis.key,t.yaxis.key].join("-");if("csv"!==e&&"csv-full"!==e)null===T||void 0===T||T(e,n);else{const e=[],r=[];for(const n of["xaxis","yaxis"])"PARAM"===t[n].type?e.push(t[n].key):r.push(t[n].key);(0,x.LL)(b,r,e,n)}},...g,children:w?(0,_.Y)(C.u,{}):L})},E={scatterChartCardWrapper:{overflow:"hidden"}};var k=n(66117);const R=e=>{let{config:t,chartRunData:n,onDelete:i,onEdit:s,fullScreen:a,setFullScreenChart:l,hideEmptyCharts:c,...p}=e;const h=`${t.xaxis.key} vs. ${t.yaxis.key} vs. ${t.zaxis.key}`,g=(0,r.useMemo)((()=>(0,o.M1)()?n.filter((e=>{let{hidden:t}=e;return!t})):n.slice(0,t.runsCountToCompare||10).reverse()),[n,t]),f=(0,r.useMemo)((()=>{const e=[t.xaxis.key,t.yaxis.key,t.zaxis.key],n=g.flatMap((e=>{let{metrics:t}=e;return Object.keys(t)}));return 0===(0,m.intersection)(e,(0,m.uniq)(n)).length}),[t,g]),{setTooltip:v,resetTooltip:b,selectedRunUuid:w}=(0,d.uN)(t),[M,Y]=(0,y.H)(),S=(0,_.Y)("div",{css:[T.contourChartCardWrapper,{height:a?"100%":void 0},""],children:(0,_.Y)(k.a,{runsData:g,xAxis:t.xaxis,yAxis:t.yaxis,zAxis:t.zaxis,useDefaultHoverBox:!1,onHover:v,onUnhover:b,selectedRunUuid:w,onSetDownloadHandler:Y})});return c&&f?null:a?S:(0,_.Y)(u.Ox,{onEdit:s,onDelete:i,title:h,subtitle:(0,_.Y)(u.xC,{runsOrGroups:g}),uuid:t.uuid,dragGroupKey:u.cN.GENERAL_AREA,toggleFullScreenChart:f?void 0:()=>{null===l||void 0===l||l({config:t,title:h,subtitle:(0,_.Y)(u.xC,{runsOrGroups:n})})},supportedDownloadFormats:["png","svg","csv"],onClickDownload:e=>{const n=[t.xaxis.key,t.yaxis.key,t.zaxis.key].join("-");if("csv"!==e&&"csv-full"!==e)null===M||void 0===M||M(e,n);else{const e=[],r=[];for(const n of["xaxis","yaxis","zaxis"])"PARAM"===t[n].type?e.push(t[n].key):r.push(t[n].key);(0,x.LL)(g,r,e,n)}},...p,children:f?(0,_.Y)(C.u,{}):S})},T={contourChartCardWrapper:{overflow:"hidden"}};var D,L,F,H,N=n(89555),O=n(28741);function K(){return K=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},K.apply(null,arguments)}function P(e,t){let{title:n,titleId:i,...o}=e;return r.createElement("svg",K({width:80,height:42,viewBox:"0 0 80 42",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:t,"aria-labelledby":i},o),n?r.createElement("title",{id:i},n):null,D||(D=r.createElement("path",{d:"M1.28418 2.34094L39.4998 17.0908L76.3746 7.87216",stroke:"#CF797B",strokeLinecap:"round"})),L||(L=r.createElement("path",{d:"M1.95459 20.443L40.1702 25.1361L77.045 21.1134M1.95459 36.5338L40.1702 35.1929L77.045 25.1361",stroke:"#A88E6F",strokeLinecap:"round"})),F||(F=r.createElement("g",{opacity:.8},r.createElement("path",{d:"M1.28418 1V40.3341",stroke:"#338ECC",strokeLinecap:"round"}),r.createElement("path",{d:"M40.6189 2.07251V39.9763",stroke:"#338ECC",strokeLinecap:"round"}),r.createElement("path",{d:"M77.7156 2.07251V39.9763",stroke:"url(#paint0_linear_2781_406689)",strokeWidth:4,strokeLinecap:"square"}))),H||(H=r.createElement("defs",null,r.createElement("linearGradient",{id:"paint0_linear_2781_406689",x1:78.2156,y1:2.07251,x2:78.2156,y2:39.9763,gradientUnits:"userSpaceOnUse"},r.createElement("stop",{stopColor:"#D04F5E"}),r.createElement("stop",{offset:1,stopColor:"#4D9734"})))))}const z=r.forwardRef(P);n.p;var U=n(21809),B=n(70391),j=n(88443),W=n(21879);var G={name:"1neqb0a",styles:"display:flex;flex:1;justify-content:center;align-items:center"},$={name:"10zh1lj",styles:"display:flex;flex-direction:column;align-items:center;max-width:360px"};const V=e=>{let{onEdit:t}=e;const{theme:n}=(0,O.a)();return(0,_.Y)("div",{css:G,children:(0,_.FD)("div",{css:$,children:[(0,_.Y)(z,{}),(0,_.Y)(O.p.Title,{css:(0,N.AH)({marginTop:n.spacing.md},""),color:"secondary",level:3,children:(0,_.Y)(j.A,{id:"VPU43C",defaultMessage:"Compare parameter importance"})}),(0,_.Y)(O.p.Text,{css:(0,N.AH)({marginBottom:n.spacing.md},""),color:"secondary",children:(0,_.Y)(j.A,{id:"V9FtFz",defaultMessage:"Use the parallel coordinates chart to compare how various parameters in model affect your model metrics."})}),(0,_.Y)(O.B,{componentId:"mlflow.charts.parallel_coords_chart_configure_button",type:"primary",onClick:t,children:(0,_.Y)(j.A,{id:"ga32oj",defaultMessage:"Configure chart"})})]})})};var q={name:"1neqb0a",styles:"display:flex;flex:1;justify-content:center;align-items:center"},X={name:"10zh1lj",styles:"display:flex;flex-direction:column;align-items:center;max-width:360px"};const J=()=>{const{theme:e}=(0,O.a)();return(0,_.Y)("div",{css:q,children:(0,_.FD)("div",{css:X,children:[(0,_.Y)(z,{}),(0,_.Y)(O.p.Title,{css:(0,N.AH)({marginTop:e.spacing.md,textAlign:"center"},""),color:"secondary",level:3,children:(0,_.Y)(j.A,{id:"glxGz2",defaultMessage:"Parallel coordinates chart does not support aggregated string values."})}),(0,_.Y)(O.p.Text,{css:(0,N.AH)({marginBottom:e.spacing.md},""),color:"secondary",children:(0,_.Y)(j.A,{id:"QPC4hV",defaultMessage:"Use other parameters or disable run grouping to continue."})})]})})},Z=e=>{let{config:t,chartRunData:n,onDelete:i,onEdit:s,groupBy:l,fullScreen:c,setFullScreenChart:p,hideEmptyCharts:m,isInViewport:g,...f}=e;const v=(0,W.e)(),y=(0,r.useMemo)((()=>!(0,o.M1)()||null!==t&&void 0!==t&&t.showAllRuns?n:null===n||void 0===n?void 0:n.filter((e=>{let{hidden:t}=e;return!t}))),[n,null===t||void 0===t?void 0:t.showAllRuns]),b=(0,r.useMemo)((()=>{var e;return null===(e=t.selectedParams)||void 0===e?void 0:e.some((e=>null===y||void 0===y?void 0:y.some((t=>{var n;return isNaN(Number(null===(n=t.params[e])||void 0===n?void 0:n.value))}))),[t.selectedParams,y])}),[t.selectedParams,y]),w=(0,r.useCallback)((e=>{v((n=>{var r;const i=null===(r=n.compareRunCharts)||void 0===r?void 0:r.map((n=>{if(n.uuid===t.uuid){return{...n,showAllRuns:e}}return n}));return{...n,compareRunCharts:i}}))}),[t.uuid,v]),[M,Y]=(0,r.useMemo)((()=>{const e=(0,B.ad)(t);return[e,e?(0,B.fM)(y,t.selectedParams,t.selectedMetrics):[]]}),[t,y]),S=(0,r.useMemo)((()=>0===Y.length),[Y]),{elementRef:I,isInViewport:A}=(0,h.v)({enabled:!(0,o.hX)()}),E=c||(null!==g&&void 0!==g?g:A),{setTooltip:k,resetTooltip:R,selectedRunUuid:T,closeContextMenu:D}=(0,d.uN)(t),L=b&&l,F=M&&!L,H=(0,o.M1)()?(0,_.Y)(_.FK,{children:t.showAllRuns?(0,_.Y)(j.A,{id:"oY+vPi",defaultMessage:"Showing all runs"}):(0,_.Y)(j.A,{id:"1hI96w",defaultMessage:"Showing only visible runs"})}):(0,_.FD)(_.FK,{children:["Comparing ",Y.length," runs"]}),N=(0,_.Y)(_.FK,{children:M?L?(0,_.Y)(J,{}):0===Y.length?(0,_.Y)(C.u,{}):(0,_.Y)("div",{css:[Q.parallelChartCardWrapper,{height:c?"100%":void 0},""],ref:I,children:E?(0,_.Y)(U.A,{data:Y,selectedParams:t.selectedParams,selectedMetrics:t.selectedMetrics,onHover:k,onUnhover:R,axesRotateThreshold:8,selectedRunUuid:T,closeContextMenu:D}):null}):(0,_.Y)(V,{onEdit:s})});if(c)return N;if(m&&S)return null;const O=M&&!L&&!S;return(0,_.Y)(u.Ox,{onEdit:s,onDelete:i,title:"Parallel Coordinates",subtitle:F?H:null,uuid:t.uuid,tooltip:(0,_.Y)(j.A,{id:"XvzXs3",defaultMessage:"The parallel coordinates chart shows runs with columns that are either numbers or strings. If a column has string entries, the runs corresponding to the 30 most recent unique values will be shown. Only runs with all relevant metrics and/or parameters will be displayed."}),dragGroupKey:u.cN.PARALLEL_CHARTS_AREA,toggleFullScreenChart:O?()=>{null===p||void 0===p||p({config:t,title:"Parallel Coordinates",subtitle:F?H:null})}:void 0,additionalMenuContent:(0,o.M1)()?(0,_.FD)(_.FK,{children:[(0,_.Y)(a.rId.Separator,{}),(0,_.FD)(a.rId.CheckboxItem,{componentId:"codegen_mlflow_app_src_experiment-tracking_components_runs-charts_components_cards_runschartsparallelchartcard.tsx_293",checked:!t.showAllRuns,onClick:()=>w(!1),children:[(0,_.Y)(a.rId.ItemIndicator,{}),(0,_.Y)(j.A,{id:"d8I3cy",defaultMessage:"Show only visible"})]}),(0,_.FD)(a.rId.CheckboxItem,{componentId:"codegen_mlflow_app_src_experiment-tracking_components_runs-charts_components_cards_runschartsparallelchartcard.tsx_300",checked:t.showAllRuns,onClick:()=>w(!0),children:[(0,_.Y)(a.rId.ItemIndicator,{}),(0,_.Y)(j.A,{id:"e7K2T3",defaultMessage:"Show all runs"})]})]}):null,supportedDownloadFormats:["csv"],onClickDownload:e=>{const n=[...t.selectedMetrics,...t.selectedParams].join("-");"csv"===e&&(0,x.LL)(y,t.selectedMetrics,t.selectedParams,n)},...f,children:N})},Q={parallelChartCardWrapper:{display:"flex",overflow:"hidden",cursor:"pointer"}};var ee=n(32677),te=n(62758),ne=n(88464),re=n(93189);var ie={name:"1neqb0a",styles:"display:flex;flex:1;justify-content:center;align-items:center"},oe={name:"10zh1lj",styles:"display:flex;flex-direction:column;align-items:center;max-width:360px"};const se=e=>{let{onEdit:t}=e;const{theme:n}=(0,O.a)();return(0,_.Y)("div",{css:ie,children:(0,_.FD)("div",{css:oe,children:[(0,_.Y)(O.p.Title,{css:(0,N.AH)({marginTop:n.spacing.md},""),color:"secondary",level:3,children:(0,_.Y)(j.A,{id:"RCjxf0",defaultMessage:"Compare runs"})}),(0,_.Y)(O.p.Text,{css:(0,N.AH)({marginBottom:n.spacing.md},""),color:"secondary",children:(0,_.Y)(j.A,{id:"sblqXA",defaultMessage:"Use the runs difference view to compare model and system metrics, parameters, attributes, and tags across runs."})}),(0,_.Y)(O.B,{componentId:"mlflow.charts.difference_chart_configure_button",type:"primary",onClick:t,children:(0,_.Y)(j.A,{id:"NDEhn/",defaultMessage:"Configure chart"})})]})})},ae=e=>{let{config:t,chartRunData:n,onDelete:s,onEdit:a,groupBy:l,fullScreen:c,setFullScreenChart:d,hideEmptyCharts:p,...m}=e;const[h,g]=(0,r.useMemo)((()=>{var e;const r=Boolean(null===(e=t.compareGroups)||void 0===e?void 0:e.length);return(0,o.M1)()?[r,n.filter((e=>{let{hidden:t}=e;return!t})).reverse()]:[r,n.slice(0,t.runsCountToCompare||10).reverse()]}),[n,t]),f=(0,r.useMemo)((()=>!h),[h]),v=(0,te.Ez)(),y=e=>{v(e(t))},x=(0,r.useCallback)((()=>{v({...t,showChangeFromBaseline:!t.showChangeFromBaseline})}),[t,v]),C=(0,r.useCallback)((()=>{v({...t,showDifferencesOnly:!t.showDifferencesOnly})}),[t,v]),{formatMessage:b}=(0,ne.A)(),w=(0,_.Y)(_.FK,{children:h?(0,o.mx)()?(0,_.Y)(re.m,{previewData:g,groupBy:l,cardConfig:t,setCardConfig:y}):(0,_.Y)(ee.I,{previewData:g,groupBy:l,cardConfig:t,setCardConfig:y}):(0,_.Y)(se,{onEdit:a})});let M;return l&&i.Nf.some((e=>t.compareGroups.includes(e)))&&(M=b({id:"csNr/8",defaultMessage:"Disable grouped runs to compare parameters, tag, or attributes"})),c?w:p&&f?null:(0,_.Y)(u.Ox,{onEdit:a,onDelete:s,title:t.chartName,subtitle:(0,_.Y)(u.xC,{runsOrGroups:g}),uuid:t.uuid,dragGroupKey:u.cN.GENERAL_AREA,toggleFullScreenChart:()=>{null===d||void 0===d||d({config:t,title:t.chartName,subtitle:(0,_.Y)(u.xC,{runsOrGroups:n})})},toggles:[{toggleLabel:b({id:"4tpkvx",defaultMessage:"Show change from baseline"}),currentToggle:t.showChangeFromBaseline,setToggle:x},{toggleLabel:b({id:"e7GTKi",defaultMessage:"Show differences only"}),currentToggle:t.showDifferencesOnly,setToggle:C}],tooltip:M,...m,children:w})};var le=n(34389),ce=n(99061),de=n(25866),ue=n(20193);var pe={name:"lee4ct",styles:"width:350px"};const me=e=>{let{config:t,chartRunData:n,onDelete:i,onEdit:s,groupBy:a,fullScreen:l,setFullScreenChart:c,...d}=e;const{theme:p}=(0,O.a)(),m=(0,r.useRef)(null),[h,g]=(0,r.useState)(0);(0,r.useEffect)((()=>{const e=new ResizeObserver((e=>{g(e[0].contentRect.width)}));return m.current&&e.observe(m.current),()=>{e.disconnect()}}),[m]);const[f,v]=(0,r.useState)(t),y=(0,te.Ez)(),x=(0,r.useCallback)((e=>{y({...t,step:e})}),[t,y]),C=1===t.imageKeys.length?t.imageKeys[0]:de._g,b=(0,r.useMemo)((()=>(0,o.M1)()?n.filter((e=>{let{hidden:t}=e;return!t})).reverse():n.slice(0,t.runsCountToCompare||10).reverse()),[n,t]),{stepMarks:w,maxMark:M,minMark:Y}=(0,ce._)({data:b,selectedImageKeys:t.imageKeys||[]}),S=Object.keys(w).length;(0,r.useEffect)((()=>{1===S&&f.step!==Y&&x(Y)}),[Y,S,f.step,x]);const I=b.filter((e=>e.tags[de.Cr])).length>de.Lf,A=(0,_.FD)("div",{css:(0,N.AH)({display:"flex",flexDirection:"column",height:l?"100%":void 0,width:"100%",overflow:"auto"},""),children:[(0,_.Y)("div",{ref:m,css:(0,N.AH)({cursor:"pointer",height:`calc(100% - ${2*p.spacing.md}px)`,overflow:"auto"},""),children:(0,_.Y)(le.f,{previewData:b,groupBy:a,cardConfig:f,setCardConfig:e=>{y(e(t))},containerWidth:h})}),(0,_.Y)("div",{css:(0,N.AH)({justifyContent:"center",alignItems:"center",display:"inline-flex",gap:p.spacing.md},""),children:(0,_.Y)("div",{css:pe,children:(0,_.Y)(ue.o,{defaultValue:f.step,onChange:e=>{v((t=>({...t,step:e})))},max:M,min:Y,marks:w,step:null,disabled:Object.keys(w).length<=1,onAfterChange:x})})})]});return l?A:(0,_.Y)(u.Ox,{onEdit:s,onDelete:i,title:C,subtitle:I&&`Displaying images from first ${de.Lf} runs`,uuid:t.uuid,dragGroupKey:u.cN.GENERAL_AREA,toggleFullScreenChart:()=>{null===c||void 0===c||c({config:t,title:C,subtitle:(0,_.Y)(u.xC,{runsOrGroups:n})})},...d,children:A})},he=e=>{let{cardConfig:t,chartRunData:n,index:a,sectionIndex:l,onStartEditChart:c,onRemoveChart:d,setFullScreenChart:u,groupBy:p,fullScreen:m,canMoveDown:h,canMoveUp:g,previousChartUuid:f,nextChartUuid:v,onReorderWith:y,autoRefreshEnabled:x,onDownloadFullMetricHistoryCsv:C,hideEmptyCharts:b,globalLineChartConfig:w,height:M,isInViewport:S,isInViewportDeferred:I}=e;const E=(0,o.hX)(),k=`${t.uuid}-${a}-${l}`,T=(0,r.useMemo)((()=>({onReorderWith:y,canMoveDown:h,canMoveUp:g,previousChartUuid:f,nextChartUuid:v})),[y,h,g,f,v]),D=(0,r.useMemo)((()=>({onEdit:()=>c(t),onDelete:()=>d(t),setFullScreenChart:u})),[c,d,u,t]),L=(0,r.useMemo)((()=>({fullScreen:m,key:E?void 0:k,autoRefreshEnabled:x,groupBy:p,hideEmptyCharts:b,height:M,isInViewport:S,isInViewportDeferred:I,...D,...T})),[m,E,k,x,p,D,T,b,M,S,I]),F=(0,r.useMemo)((()=>(0,o.M1)()?n.filter((e=>{let{hidden:t}=e;return!t})).reverse():n.slice(0,t.runsCountToCompare||10).reverse()),[n,t.runsCountToCompare]);return t.type===i.zL.PARALLEL?(0,_.Y)(Z,{config:t,chartRunData:n,...L}):(0,o.uP)()&&t.type===i.zL.DIFFERENCE?(0,_.Y)(ae,{config:t,chartRunData:n,...L}):(0,o.HW)()&&t.type===i.zL.IMAGE?(0,_.Y)(me,{config:t,chartRunData:n,...L}):t.type===i.zL.BAR?(0,_.Y)(s.X,{config:t,chartRunData:F,...L}):t.type===i.zL.LINE?(0,_.Y)(Y,{config:t,chartRunData:F,onDownloadFullMetricHistoryCsv:C,globalLineChartConfig:w,positionInSection:a,...L}):t.type===i.zL.SCATTER?(0,_.Y)(A,{config:t,chartRunData:F,...L}):t.type===i.zL.CONTOUR?(0,_.Y)(R,{config:t,chartRunData:F,...L}):null},ge=(0,r.memo)(he)},32677:function(e,t,n){"use strict";n.d(t,{I:function(){return M}});var r=n(89555),i=n(30152),o=n(31014),s=n(70618),a=n(9856),l=n(28741),c=n(33678),d=n(79432),u=n(88443),p=n(88464),m=n(92103),h=n(50111);const g="headingColumn";var f={name:"1neqb0a",styles:"display:flex;flex:1;justify-content:center;align-items:center"},v={name:"10zh1lj",styles:"display:flex;flex-direction:column;align-items:center;max-width:360px"};const y=()=>{const{theme:e}=(0,l.a)();return(0,h.Y)("div",{css:f,children:(0,h.FD)("div",{css:v,children:[(0,h.Y)(l.p.Title,{css:(0,r.AH)({marginTop:e.spacing.md,textAlign:"center"},""),color:"secondary",level:3,children:(0,h.Y)(u.A,{id:"A70NdI",defaultMessage:"No run differences to display"})}),(0,h.Y)(l.p.Text,{css:(0,r.AH)({marginBottom:e.spacing.md,textAlign:"center"},""),color:"secondary",children:(0,h.Y)(u.A,{id:"Lxx51V",defaultMessage:"Select other runs, toggle 'Show differences only', or re-configure the chart to compare model metrics, system metrics, parameters, tag, or attributes."})})]})})};var x={name:"4c6dm7",styles:"display:flex;flex-direction:row;justify-content:space-between"},C={name:"ti75j2",styles:"margin:0"},b={name:"4c6dm7",styles:"display:flex;flex-direction:row;justify-content:space-between"},_={name:"1d3w5wq",styles:"width:100%"},w={name:"1iwgvlm",styles:"flex-shrink:1;flex-grow:1;overflow:hidden"};const M=e=>{let{previewData:t,cardConfig:n,groupBy:f,setCardConfig:v}=e;const{formatMessage:M}=(0,p.A)(),{theme:Y}=(0,l.a)(),{modelMetrics:S,systemMetrics:I,parameters:A,tags:E,attributes:k}=(0,o.useMemo)((()=>(0,m.FI)(t,n,g,f)),[t,n,f]),R=[...n.compareGroups.includes(i.K8.MODEL_METRICS)?S:[],...n.compareGroups.includes(i.K8.SYSTEM_METRICS)?I:[],...n.compareGroups.includes(i.K8.PARAMETERS)?A:[],...n.compareGroups.includes(i.K8.ATTRIBUTES)?k:[],...n.compareGroups.includes(i.K8.TAGS)?E:[]],{baselineColumn:T,nonBaselineColumns:D}=(0,o.useMemo)((()=>{let e=t.find((e=>e.uuid===n.baselineColumnUuid));void 0===e&&t.length>0&&(e=t[0]);const r=t.filter((t=>void 0===e||t.uuid!==e.uuid));return{baselineColumn:e,nonBaselineColumns:r}}),[t,n.baselineColumnUuid]),L=(0,o.useMemo)((()=>{const e=(e,t)=>{const i=t=>t[e.uuid];return t?{id:e.uuid,header:()=>(0,h.Y)("span",{css:x,children:(0,h.FD)("span",{css:(0,r.AH)({display:"inline-flex",gap:Y.spacing.sm,alignItems:"center"},""),children:[(0,h.Y)(d.E,{color:e.color}),e.displayName,(0,h.Y)(c.vwO,{componentId:"codegen_mlflow_app_src_experiment-tracking_components_runs-charts_components_charts_differenceviewplot.tsx_132",css:C,children:(0,h.Y)(u.A,{id:"Mm7PVx",defaultMessage:"baseline"})})]})}),size:200,accessorFn:i,cell:e=>(0,h.Y)("span",{children:(0,m.Oo)(e.getValue())})}:{id:e.uuid,header:()=>(0,h.Y)("span",{css:b,children:(0,h.FD)("span",{css:(0,r.AH)({display:"inline-flex",gap:Y.spacing.sm,alignItems:"center"},""),children:[(0,h.Y)(d.E,{color:e.color}),e.displayName]})}),size:200,accessorFn:t=>{var n;return{text:t[e.uuid],difference:T?null===(n=(0,m.fQ)(t[e.uuid],t[T.uuid]))||void 0===n?void 0:n.label:null}},cell:e=>(0,h.FD)("span",{css:(0,r.AH)({display:"inline-flex",gap:Y.spacing.md,verticalAlign:"middle"},""),children:[(0,h.Y)(l.p.Text,{children:(0,m.Oo)(e.getValue().text)}),T&&n.showChangeFromBaseline&&e.getValue().difference&&("-"===e.getValue().difference[0]?(0,h.FD)("div",{css:(0,r.AH)({display:"inline-flex",gap:Y.spacing.xs},""),children:[(0,h.Y)(l.p.Paragraph,{color:"error",children:e.getValue().difference}),(0,h.Y)(c.ZLN,{color:"danger"})]}):(0,h.FD)("div",{css:(0,r.AH)({display:"inline-flex",gap:Y.spacing.xs},""),children:[(0,h.Y)(l.p.Paragraph,{color:"success",children:e.getValue().difference}),(0,h.Y)(c.Kpk,{color:"success"})]}))]})}};return[{id:g,header:M({id:"c5AQYh",defaultMessage:"Compare by"}),accessorKey:g,size:200},...T?[e(T,!0)]:[],...D.map((t=>e(t,!1)))]}),[Y.spacing,M,T,D,n.showChangeFromBaseline]),F=(0,s.N4)({data:R,columns:L,enableColumnResizing:!0,columnResizeMode:"onChange",getCoreRowModel:(0,a.HT)()}),H=(0,o.useCallback)((e=>{v&&v((t=>({...t,baselineColumnUuid:e})))}),[v]);return 0===t.length?null:0===F.getRowModel().rows.length?(0,h.Y)(y,{}):(0,h.Y)("div",{css:(0,r.AH)({display:"flex",overflow:"auto hidden",cursor:"pointer",height:void 0,width:"100%"},""),children:(0,h.Y)("div",{css:_,children:(0,h.FD)(c.XIK,{style:{width:F.getTotalSize()},scrollable:!0,children:[F.getHeaderGroups().map((e=>(0,h.Y)(c.Hjg,{isHeader:!0,children:e.headers.map(((e,t)=>(0,h.Y)(c.A0N,{componentId:"codegen_mlflow_app_src_experiment-tracking_components_runs-charts_components_charts_differenceviewplot.tsx_248",style:{maxWidth:e.column.getSize()},resizable:e.column.getCanResize(),resizeHandler:e.getResizeHandler(),children:(0,h.FD)("div",{css:(0,r.AH)({display:"flex",flexDirection:"row",gap:Y.spacing.xs,alignItems:"center"},""),children:[(0,h.Y)("div",{css:w,children:(0,s.Kv)(e.column.columnDef.header,e.getContext())}),0!==t&&v&&(0,h.Y)("div",{children:(0,h.FD)(c.rId.Root,{children:[(0,h.Y)(c.rId.Trigger,{asChild:!0,children:(0,h.Y)(l.B,{componentId:"set_as_baseline_button",icon:(0,h.Y)(c.ssM,{})})}),(0,h.Y)(c.rId.Content,{children:(0,h.Y)(c.rId.Item,{componentId:"codegen_mlflow_app_src_experiment-tracking_components_runs-charts_components_charts_differenceviewplot.tsx_271",onClick:()=>H(e.id),children:(0,h.Y)(u.A,{id:"s0233x",defaultMessage:"Set as baseline"})})})]})})]})},e.id)))},e.id))),F.getRowModel().rows.map((e=>(0,h.Y)(c.Hjg,{children:e.getAllCells().map((e=>(0,h.Y)(c.nA6,{style:{maxWidth:e.column.getSize()},multiline:!0,children:(0,s.Kv)(e.column.columnDef.cell,e.getContext())},e.id)))},e.id)))]})})})}},93189:function(e,t,n){"use strict";n.d(t,{m:function(){return A}});var r=n(89555),i=n(30152),o=n(88464),s=n(88443),a=n(28741),l=n(33678),c=n(31014),d=n(92103),u=n(6928),p=n(79432),m=n(15230),h=n(857),g=n(50111);const f="headingColumn";var v={name:"1riyyia",styles:"position:absolute;right:-5px;bottom:0;z-index:1;width:10px;height:100%;cursor:col-resize"},y={name:"i2nzmc",styles:".react-resizable{position:relative;background-clip:padding-box;}"};const x=e=>e.record.children?(0,g.Y)("span",{children:(0,g.Y)(a.B,{icon:e.expanded?(0,g.Y)(l.D3D,{}):(0,g.Y)(a.m,{}),onClick:t=>{e.onExpand(e.record,t)},componentId:"mlflow.charts.difference_chart_expand_button",style:{float:"left",margin:"-2px 4px -2px 0px"},size:"small"})}):(0,g.Y)("div",{style:{padding:"1px 14px",float:"left"}}),C=e=>{const t=(e,n)=>Object.keys(n).map((r=>{if("boolean"===typeof n[r]){let t={key:r,[f]:r};return Object.keys(e).forEach((n=>{var i;const o=null===(i=e[n])||void 0===i?void 0:i[r];t={...t,[n]:void 0===o?d.by:o}})),t}const i={};return Object.keys(e).forEach((t=>{var n;i[t]=null===(n=e[t])||void 0===n?void 0:n[r]})),{key:r,[f]:r,children:t(i,n[r])}}));return e.map((e=>{let n,r=!0;const i={};if(Object.keys(e).forEach((t=>{if(t!==f&&e[t]!==d.by){const o=(e=>{try{const t=JSON.parse(e);return null===t||"object"!==typeof t||Array.isArray(t)||0===Object.keys(t).length?null:t}catch(t){return null}})(e[t]);if(i[t]=o,null===o)r=!1;else{const e=((e,t)=>{if(void 0!==e&&0===Object.keys(e).length)return null;if(void 0!==t&&0===Object.keys(t).length)return null;const n={},r=(e,t)=>{for(const n in t)e.hasOwnProperty(n)&&!e[n]||("object"!==typeof t[n]||null===t[n]||Array.isArray(t[n])?t[n]===d.by?e[n]=!0:e[n]=!1:(e[n]=e[n]||{},r(e[n],t[n])))};return void 0!==e&&r(n,e),void 0!==t&&r(n,t),n})(n,o);null===e?r=!1:n=e}}})),!r||void 0===n)return e;try{return{[f]:e[f],children:t(i,n),key:e[f]}}catch{return e}}))},b=e=>{if(!e)return 0;return e-40},_={header:{cell:e=>{const{onResize:t,width:n,...r}=e;return n?(0,g.Y)(m.Resizable,{width:n,height:0,handle:(0,g.Y)("span",{css:v,onClick:e=>{e.stopPropagation()}}),onResize:t,draggableOpts:{enableUserSelectHack:!1},css:y,children:(0,g.Y)("th",{...r})}):(0,g.Y)("th",{...r})}}};var w={name:"ti75j2",styles:"margin:0"};const M=e=>{let{label:t,direction:n}=e;const{theme:i}=(0,a.a)();let o,s=null;switch(n){case d.xl.NEGATIVE:o="error",s=(0,g.Y)(l.ZLN,{color:"danger","data-testid":"negative-cell-direction"});break;case d.xl.POSITIVE:o="success",s=(0,g.Y)(l.Kpk,{color:"success","data-testid":"positive-cell-direction"});break;case d.xl.SAME:o="info",s=(0,g.Y)(l.YTx,{css:(0,r.AH)({color:i.colors.textSecondary},""),"data-testid":"same-cell-direction"})}return(0,g.FD)("div",{css:(0,r.AH)({display:"inline-flex",gap:i.spacing.xs,alignItems:"center"},""),children:[(0,g.Y)(a.p.Paragraph,{color:o,css:w,children:t}),s]})};var Y={name:"4c6dm7",styles:"display:flex;flex-direction:row;justify-content:space-between"},S={name:"ti75j2",styles:"margin:0"},I={name:"19smue1",styles:"display:flex;overflow:auto hidden;cursor:pointer;height:100%;width:100%"};const A=e=>{let{previewData:t,cardConfig:n,groupBy:m,setCardConfig:v}=e;const{formatMessage:y}=(0,o.A)(),{theme:w}=(0,a.a)(),{observeHeight:A,elementHeight:E}=(0,h.v)(),{modelMetrics:k,systemMetrics:R,parameters:T,tags:D,attributes:L}=(0,c.useMemo)((()=>(0,d.FI)(t,n,f,m)),[t,n,m]),[F,H]=(0,c.useState)((()=>Array(t.length+1).fill(200)));(0,c.useEffect)((()=>{H(Array(t.length+1).fill(200))}),[t.length]);const{baselineColumn:N,nonBaselineColumns:O}=(0,c.useMemo)((()=>{let e=t.find((e=>e.uuid===n.baselineColumnUuid));void 0===e&&t.length>0&&(e=t[0]);const r=t.filter((t=>void 0===e||t.uuid!==e.uuid));return{baselineColumn:e,nonBaselineColumns:r}}),[t,n.baselineColumnUuid]),K=(0,c.useCallback)((e=>{v&&v((t=>({...t,baselineColumnUuid:e})))}),[v]),P=n.compareGroups.reduce(((e,t)=>{switch(t){case i.K8.MODEL_METRICS:e.push({[f]:y({id:"d8OeBh",defaultMessage:"Model Metrics"}),children:[...k],key:"modelMetrics"});break;case i.K8.SYSTEM_METRICS:e.push({[f]:y({id:"CDOfWP",defaultMessage:"System Metrics"}),children:[...R],key:"systemMetrics"});break;case i.K8.PARAMETERS:e.push({[f]:y({id:"28Dnzz",defaultMessage:"Parameters"}),children:C(T),key:"parameters"});break;case i.K8.ATTRIBUTES:e.push({[f]:y({id:"MBNIRk",defaultMessage:"Attributes"}),children:[...L],key:"attributes"});break;case i.K8.TAGS:e.push({[f]:y({id:"7mgmG6",defaultMessage:"Tags"}),children:[...D],key:"tags"})}return e}),[]),z=(0,c.useMemo)((()=>{const e=e=>(t,n)=>{let{size:r}=n;H((t=>{const n=[...t];return n[e]=r.width,n}))},t=(t,i,o)=>({key:t.uuid,dataIndex:t.uuid,title:(0,g.Y)("span",{css:Y,children:(0,g.FD)("span",{css:(0,r.AH)({display:"inline-flex",gap:w.spacing.sm,alignItems:"center"},""),children:[(0,g.Y)(p.E,{color:t.color}),t.displayName,i&&(0,g.Y)(l.vwO,{componentId:"codegen_mlflow_app_src_experiment-tracking_components_runs-charts_components_charts_differenceviewplotv2.tsx_427",css:S,children:(0,g.Y)(s.A,{id:"Mm7PVx",defaultMessage:"baseline"})})]})}),render:(e,t)=>{if(i)return(0,d.Oo)(e);if(void 0===e)return null;const o=N?(0,d.fQ)(e,t[N.uuid]):null;return(0,g.FD)("span",{css:(0,r.AH)({display:"inline-flex",gap:w.spacing.md,verticalAlign:"middle"},""),children:[(0,g.Y)(a.p.Text,{children:(0,d.Oo)(e)}),N&&n.showChangeFromBaseline&&o&&(0,g.Y)(M,{label:o.label,direction:o.direction})]})},ellipsis:!0,width:F[o],onHeaderCell:t=>({width:t.width,onResize:e(o),style:{background:"transparent"}}),filterIcon:(0,g.FD)(l.rId.Root,{children:[(0,g.Y)(l.rId.Trigger,{asChild:!0,children:(0,g.Y)(l.ssM,{})}),(0,g.Y)(l.rId.Content,{children:(0,g.Y)(l.rId.Item,{componentId:"codegen_mlflow_app_src_experiment-tracking_components_runs-charts_components_charts_differenceviewplotv2.tsx_467",onClick:()=>K(t.uuid),children:(0,g.Y)(s.A,{id:"s0233x",defaultMessage:"Set as baseline"})})})]}),filterDropdown:()=>null});return[{dataIndex:f,title:y({id:"c5AQYh",defaultMessage:"Compare by"}),key:f,ellipsis:!0,fixed:!0,width:F[0],onHeaderCell:t=>({width:t.width,onResize:e(0),style:{background:"white"}})},...N?[t(N,!0,1)]:[],...O.map(((e,n)=>t(e,!1,n+2)))]}),[w.spacing,y,N,O,n.showChangeFromBaseline,F,H,K]);return(0,g.Y)("div",{css:I,ref:A,children:(0,g.Y)(u.A,{components:_,size:"small",columns:z,dataSource:P,scroll:{y:b(E)},pagination:!1,expandable:{expandIcon:x,defaultExpandAllRows:!0,indentSize:15},sticky:!0})})}},54421:function(e,t,n){"use strict";n.d(t,{Rn:function(){return h},TV:function(){return m},hZ:function(){return u},mQ:function(){return y},pG:function(){return p}});var r=n(89555),i=n(33678),o=n(28741),s=n(88443),a=n(77484),l=n(31014),c=n(46536),d=n(50111);const u=10,p=(e,t)=>{const n=Math.floor(t/120);return e<n?Math.min(t/e-u,225):t/n-u},m=e=>{let{imageUrl:t,compressedImageUrl:n,imageSize:s,maxImageSize:a}=e;const[u,p]=(0,l.useState)(!1),{theme:m}=(0,o.a)();return(0,d.Y)("div",{css:(0,r.AH)({width:s,height:s||"100%"},""),children:(0,d.Y)("div",{css:(0,r.AH)({height:s||"100%"},""),children:void 0===n?(0,d.Y)(i.xUE,{label:"Loading...",css:(0,r.AH)({height:s,width:s},"")}):(0,d.Y)("div",{css:(0,r.AH)({display:"flex",alignItems:"center",justifyContent:"center",width:s||"100%",height:s||"100%",maxWidth:a,maxHeight:a,backgroundColor:m.colors.backgroundSecondary,"& .ant-image":{height:"100%",display:"flex",alignItems:"center"}},""),children:(0,d.Y)(c.b,{visible:u,onVisibleChange:p,children:(0,d.Y)(c._,{src:n,preview:{src:t},style:{maxWidth:a||"100%",maxHeight:a||"100%"}})})})})})},h=e=>{let{metadataByStep:t,imageSize:n,step:l,runUuid:c}=e;const{theme:u}=(0,o.a)();return void 0===t[l]?(0,d.FD)("div",{css:(0,r.AH)({display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",textAlign:"center",width:n,height:n,backgroundColor:u.colors.backgroundSecondary,padding:u.spacing.md},""),children:[(0,d.Y)(i.xfq,{}),(0,d.Y)(s.A,{id:"0XZ2zu",defaultMessage:"No image logged at this step"})]}):(0,d.Y)(m,{imageUrl:(0,a.To)(t[l].filepath,c),compressedImageUrl:(0,a.To)(t[l].compressed_filepath,c),imageSize:n})};var g={name:"1pf7ok1",styles:"display:flex;flex-direction:column;justify-content:center;align-items:center;height:100%;width:100%;font-size:16px"},f={name:"yz1nei",styles:"margin-top:16px"},v={name:"18uqayh",styles:"margin-bottom:16px"};const y=()=>(0,d.FD)("div",{css:g,children:[(0,d.Y)(o.p.Title,{css:f,color:"secondary",level:3,children:"Compare logged images"}),(0,d.Y)(o.p.Text,{css:v,color:"secondary",children:"Use the image grid chart to compare logged images across runs."})]})},34389:function(e,t,n){"use strict";n.d(t,{f:function(){return f}});var r=n(89555),i=n(28741),o=n(33678),s=n(79432),a=n(31014),l=n(54421),c=n(50111);var d={name:"cxqpnm",styles:"display:flex;justify-content:flex-start;flex-wrap:wrap"};const u=e=>{let{previewData:t,cardConfig:n,width:u}=e;const{theme:p}=(0,i.a)(),m=t.filter((e=>{const t=e.images[n.imageKeys[0]];return t&&Object.keys(t).length>0})),h=(0,a.useMemo)((()=>(0,l.pG)(m.length,u)),[m,u]);return 0===m.length?(0,c.Y)(l.mQ,{}):(0,c.Y)("div",{css:d,children:m.map((e=>{const t=Object.values(e.images[n.imageKeys[0]]).reduce(((e,t)=>(void 0!==t.step&&(e[t.step]=t),e)),{});return(0,c.FD)("div",{css:(0,r.AH)({padding:l.hZ/2+"px"},""),children:[(0,c.Y)(o.paO,{title:e.displayName,children:(0,c.FD)("div",{css:(0,r.AH)({width:h,height:p.typography.lineHeightMd,overflow:"hidden",whiteSpace:"nowrap",display:"inline-flex",alignItems:"center",gap:p.spacing.sm},""),children:[(0,c.Y)(s.E,{color:e.color}),e.displayName]})}),(0,c.Y)(l.Rn,{step:n.step,metadataByStep:t,imageSize:h,runUuid:e.uuid},e.uuid)]},e.uuid)}))})};var p=n(88443);var m={name:"1kzq5ms",styles:"height:100%;width:100%"};const h=e=>{let{previewData:t,cardConfig:n,width:d}=e;const{theme:u}=(0,i.a)(),h=t.filter((e=>0!==Object.keys(e.images).length)),g=(0,a.useMemo)((()=>(0,l.pG)(h.length,d)),[h,d]);return 0===h.length?(0,c.Y)(l.mQ,{}):(0,c.Y)("div",{css:m,children:(0,c.FD)(o.XIK,{grid:!0,scrollable:!0,children:[(0,c.FD)(o.Hjg,{isHeader:!0,children:[(0,c.Y)(o.A0N,{componentId:"codegen_mlflow_app_src_experiment-tracking_components_runs-charts_components_charts_imagegridmultiplekeyplot.tsx_44",css:(0,r.AH)({minWidth:g+u.spacing.md},""),children:(0,c.Y)(p.A,{id:"IdxSB8",defaultMessage:"images"})}),h.map((e=>(0,c.Y)(o.A0N,{componentId:"codegen_mlflow_app_src_experiment-tracking_components_runs-charts_components_charts_imagegridmultiplekeyplot.tsx_52",css:(0,r.AH)({minWidth:g+u.spacing.md},""),children:(0,c.Y)(o.paO,{title:e.displayName,children:(0,c.FD)("div",{css:(0,r.AH)({height:u.typography.lineHeightMd,whiteSpace:"nowrap",display:"inline-flex",alignItems:"center",margin:"auto",gap:u.spacing.sm},""),children:[(0,c.Y)(s.E,{color:e.color}),e.displayName]})})},e.uuid)))]}),n.imageKeys.map((e=>(0,c.FD)(o.Hjg,{children:[(0,c.Y)(o.nA6,{css:(0,r.AH)({minWidth:g+u.spacing.md},""),children:(0,c.Y)("div",{style:{whiteSpace:"normal"},children:e})}),h.map((t=>{if(t.images[e]&&Object.keys(t.images[e]).length>0){const i=Object.values(t.images[e]).reduce(((e,t)=>(void 0!==t.step&&(e[t.step]=t),e)),{});return(0,c.Y)(o.nA6,{css:(0,r.AH)({minWidth:g+u.spacing.md},""),children:(0,c.Y)(l.Rn,{metadataByStep:i,imageSize:g,step:n.step,runUuid:t.uuid})},t.uuid)}return(0,c.Y)(o.nA6,{css:(0,r.AH)({minWidth:g+u.spacing.md},"")},t.uuid)}))]},e)))]})})};var g=n(25866);const f=e=>{let{previewData:t,cardConfig:n,groupBy:r,setCardConfig:i,containerWidth:o}=e;const s=t.filter((e=>e.tags[g.Cr])).slice(-g.Lf);return 1===n.imageKeys.length?(0,c.Y)(u,{previewData:s,cardConfig:n,width:o}):n.imageKeys.length>1?(0,c.Y)(h,{previewData:s,cardConfig:n,width:o}):null}},21809:function(e,t,n){"use strict";var r=n(33678),i=n(31014),o=n(50111);const s=i.lazy((()=>Promise.all([n.e(800),n.e(275)]).then(n.bind(n,47300))));t.A=e=>(0,o.Y)(i.Suspense,{fallback:(0,o.Y)(r.PLz,{}),children:(0,o.Y)(s,{...e})})},6531:function(e,t,n){"use strict";n.d(t,{x:function(){return a}});var r=n(9133),i=n(31014),o=n(91144),s=n(36118);const a=(e,t)=>(0,i.useMemo)((()=>{const n=(0,r.pick)(e,["xAxisKey","selectedXAxisMetricKey","lineSmoothness"]);if(!(0,o.qZ)()||!t)return n;const i=t.xAxisKey;if(e.useGlobalLineSmoothing&&!(0,r.isUndefined)(t.lineSmoothness)&&(n.lineSmoothness=t.lineSmoothness),!(0,r.isUndefined)(i)&&e.useGlobalXaxisKey){n.xAxisKey=i;const e=null===t||void 0===t?void 0:t.selectedXAxisMetricKey;i===s.fj.METRIC&&e&&(n.selectedXAxisMetricKey=e)}return n}),[e,t])},39040:function(e,t,n){"use strict";n.d(t,{J:function(){return ne}});var r=n(89555),i=n(33678),o=n(30152),s=n(28741),a=n(31014),l=n(50111);var c=e=>{let{activeKey:t,onActiveKeyChange:n,children:o,disableCollapse:c=!1}=e;const{theme:d,getPrefixedClassName:u}=(0,s.a)(),p=u("collapse"),m=(0,a.useMemo)((()=>{const e=`.${p}-item`,t=`${e}-active`,n=`.${p}-header`,r=`.${p}-content`,i=`.${p}-content-box`,o=`.${p}-arrow`;return{[r]:{padding:"0px !important",backgroundColor:"transparent !important"},[i]:{padding:"0 0 12px 0px !important",backgroundColor:"transparent !important"},[`& > ${e} > ${n} > ${o}`]:{fontSize:d.general.iconSize,left:12,verticalAlign:"-7px",transform:"rotate(-90deg)",display:c?"none":void 0},[`& > ${t} > ${n} > ${o}`]:{transform:"rotate(0deg)"},[n]:{display:"flex",color:d.colors.textPrimary,fontWeight:600,alignItems:"center","&:focus-visible":{outlineColor:`${d.colors.primary} !important`,outlineStyle:"auto !important"}},[`& > ${e}`]:{borderBottom:`1px solid ${d.colors.border}`,borderRadius:0},[`& > ${e} > ${n}`]:{padding:0,lineHeight:"20px",height:55}}}),[d,p,c]);return(0,l.Y)(i.nD3,{componentId:"codegen_mlflow_app_src_experiment-tracking_components_metricchartsaccordion.tsx_82",...t?{activeKey:t}:{},...n?{onChange:n}:{},dangerouslyAppendEmotionCSS:(0,r.AH)(m,""),dangerouslySetAntdProps:{expandIconPosition:"left"},children:o})},d=n(87380),u=n(50353),p=n(77198),m=n(6211),h=n(73549),g=n(43270),f=n(74035),v=n(32582),y=n(99790),x=n(91144),C=n(88443);const b=e=>{let{onAddChart:t,supportedChartTypes:n}=e;const r=e=>!n||n.includes(e);return(0,l.FD)(i.rId.Root,{modal:!1,children:[(0,l.Y)(i.rId.Trigger,{asChild:!0,children:(0,l.Y)(s.B,{componentId:"codegen_mlflow_app_src_experiment-tracking_components_runs-compare_runscompareaddchartmenu.tsx_19",css:_.addChartButton,icon:(0,l.Y)(i.c11,{}),"data-testid":"experiment-view-compare-runs-add-chart",children:(0,l.Y)(C.A,{id:"9vwPnB",defaultMessage:"Add chart"})})}),(0,l.FD)(i.rId.Content,{align:"end",children:[r(o.zL.BAR)&&(0,l.FD)(i.rId.Item,{componentId:"codegen_mlflow_app_src_experiment-tracking_components_runs-charts_components_runschartsaddchartmenu.tsx_42",onClick:()=>t(o.zL.BAR),"data-testid":"experiment-view-compare-runs-chart-type-bar",children:[(0,l.Y)(i.rId.IconWrapper,{css:_.iconWrapper,children:(0,l.Y)(p.h,{})}),(0,l.Y)(C.A,{id:"gdK07H",defaultMessage:"Bar chart"})]}),r(o.zL.LINE)&&(0,l.FD)(i.rId.Item,{componentId:"codegen_mlflow_app_src_experiment-tracking_components_runs-charts_components_runschartsaddchartmenu.tsx_56",onClick:()=>t(o.zL.LINE),"data-testid":"experiment-view-compare-runs-chart-type-line",children:[(0,l.Y)(i.rId.IconWrapper,{css:_.iconWrapper,children:(0,l.Y)(h.h,{})}),(0,l.Y)(C.A,{id:"CyTYL6",defaultMessage:"Line chart"})]}),r(o.zL.PARALLEL)&&(0,l.FD)(i.rId.Item,{componentId:"codegen_mlflow_app_src_experiment-tracking_components_runs-charts_components_runschartsaddchartmenu.tsx_70",onClick:()=>t(o.zL.PARALLEL),"data-testid":"experiment-view-compare-runs-chart-type-parallel",children:[(0,l.Y)(i.rId.IconWrapper,{css:_.iconWrapper,children:(0,l.Y)(g.h,{})}),(0,l.Y)(C.A,{id:"FC9mcS",defaultMessage:"Parallel coordinates"})]}),r(o.zL.SCATTER)&&(0,l.FD)(i.rId.Item,{componentId:"codegen_mlflow_app_src_experiment-tracking_components_runs-charts_components_runschartsaddchartmenu.tsx_84",onClick:()=>t(o.zL.SCATTER),"data-testid":"experiment-view-compare-runs-chart-type-scatter",children:[(0,l.Y)(i.rId.IconWrapper,{css:_.iconWrapper,children:(0,l.Y)(f.h,{})}),(0,l.Y)(C.A,{id:"Q0i5xG",defaultMessage:"Scatter chart"})]}),r(o.zL.CONTOUR)&&(0,l.FD)(i.rId.Item,{componentId:"codegen_mlflow_app_src_experiment-tracking_components_runs-charts_components_runschartsaddchartmenu.tsx_98",onClick:()=>t(o.zL.CONTOUR),"data-testid":"experiment-view-compare-runs-chart-type-contour",children:[(0,l.Y)(i.rId.IconWrapper,{css:_.iconWrapper,children:(0,l.Y)(m.h,{})}),(0,l.Y)(C.A,{id:"6XfILf",defaultMessage:"Contour chart"})]}),(0,x.uP)()&&r(o.zL.DIFFERENCE)&&(0,l.FD)(i.rId.Item,{componentId:"codegen_mlflow_app_src_experiment-tracking_components_runs-charts_components_runschartsaddchartmenu.tsx_112",onClick:()=>t(o.zL.DIFFERENCE),"data-testid":"experiment-view-compare-runs-chart-type-difference",children:[(0,l.Y)(i.rId.IconWrapper,{css:_.iconWrapper,children:(0,l.Y)(v.h,{})}),(0,l.Y)(C.A,{id:"G5mMJI",defaultMessage:"Difference view"})]}),(0,x.HW)()&&r(o.zL.IMAGE)&&(0,l.FD)(i.rId.Item,{componentId:"codegen_mlflow_app_src_experiment-tracking_components_runs-charts_components_runschartsaddchartmenu.tsx_126",onClick:()=>t(o.zL.IMAGE),"data-testid":"experiment-view-compare-runs-chart-type-image",children:[(0,l.Y)(i.rId.IconWrapper,{css:_.iconWrapper,children:(0,l.Y)(y.h,{})}),(0,l.Y)(C.A,{id:"5m2VPy",defaultMessage:"Image grid"})]})]})]})},_={addChartButton:e=>({backgroundColor:`${e.colors.backgroundPrimary} !important`}),iconWrapper:e=>({width:e.general.iconSize+e.spacing.xs})};var w=n(90765),M=n(45959),Y=n.n(M);var S={name:"5s5off",styles:"position:absolute;top:50%;left:50%;transform:translate(-50%, -50%);cursor:grab"};const I=e=>{let{index:t,section:n,sectionChartsLength:o,addNewChartCard:c,onDeleteSection:p,onAddSection:m,editSection:h,onSetEditSection:g,onSetSectionName:f,onSectionReorder:v,isExpanded:y,hideExtraControls:x,supportedChartTypes:_}=e;const{theme:M}=(0,s.a)(),[I,A]=(0,a.useState)(n.name),[E,k]=(0,a.useState)(!1),R=(0,a.useRef)(null),T=(0,a.useRef)(null),[D,L]=(0,a.useState)(0),[F,H]=(0,a.useState)(!1),N=e=>{e.stopPropagation()},O=e=>{e.stopPropagation(),I.trim()?(g(-1),f(n.uuid,I)):e.preventDefault()};(0,a.useEffect)((()=>{if(!R.current)return;const e=new ResizeObserver((e=>{let[t]=e;L(t.contentRect.width)}));return e.observe(R.current),()=>e.disconnect()}),[]);const K=h===t,[P,z]=(0,a.useState)(!1),{dragHandleRef:U,dragPreviewRef:B,dropTargetRef:j,isOver:W,isDragging:G}=(0,w.S)({dragGroupKey:"sections",dragKey:n.uuid,onDrop:v});return(0,l.Y)(l.FK,{children:(0,l.FD)("div",{role:"figure",css:(0,r.AH)({display:"flex",alignItems:"center",width:"100%",padding:`${M.spacing.xs}px 0px`,height:"55px",".section-element-visibility-on-hover":{visibility:P?"visible":"hidden",opacity:P?1:0},".section-element-visibility-on-hover-and-not-drag":{visibility:P?"visible":"hidden",opacity:P?E?0:1:0},".section-element-hidden-on-edit":{display:K?"none":"inherit"}},""),onMouseMove:()=>z(!0),onMouseLeave:()=>z(!1),ref:e=>{null===j||void 0===j||j(e),null===B||void 0===B||B(e)},"data-testid":"experiment-view-compare-runs-section-header",children:[W&&(0,l.Y)("div",{css:(0,r.AH)({position:"absolute",inset:0,backgroundColor:M.isDarkMode?M.colors.blue800:M.colors.blue100,border:`2px dashed ${M.colors.blue400}`,opacity:.75},"")}),(0,l.FD)("div",{style:{maxWidth:"40%",display:"flex",alignItems:"center"},children:[(0,l.Y)("div",{ref:R,style:{position:K?"absolute":"relative",visibility:K?"hidden":"visible",textOverflow:K?void 0:"ellipsis",maxWidth:"100%",overflow:"clip",paddingLeft:7,whiteSpace:"pre"},children:I}),h===t&&(0,l.Y)(d.I,{componentId:"codegen_mlflow_app_src_experiment-tracking_components_runs-charts_components_sections_runschartssectionheader.tsx_220",autoFocus:!0,onClick:N,onMouseDown:N,onMouseUp:N,onDoubleClick:N,onChange:e=>{A(e.target.value)},value:I,css:(0,r.AH)({color:M.colors.textPrimary,fontWeight:600,padding:"1px 6px 1px 6px",background:M.colors.backgroundSecondary,minWidth:"50px",width:D+14,position:"relative",lineHeight:M.typography.lineHeightBase,maxWidth:"100%"},""),onKeyDown:e=>{"Escape"===e.key&&(e.stopPropagation(),g(-1),A(n.name))},onPressEnter:O,dangerouslyAppendEmotionCSS:{"&&":{minHeight:"20px !important"}},onBlur:e=>{e.relatedTarget!==T.current&&(g(-1),f(n.uuid,I))}}),(0,l.Y)("div",{css:(0,r.AH)({padding:M.spacing.xs,position:"relative"},""),style:{visibility:K?"hidden":"visible",display:K?"none":"inherit"},children:`(${o})`}),!x&&(0,l.Y)("div",{className:"section-element-visibility-on-hover-and-not-drag section-element-hidden-on-edit",children:(0,l.Y)(s.B,{componentId:"codegen_mlflow_app_src_experiment-tracking_components_runs-compare_sections_runscomparesectionheader.tsx_246",onClick:e=>{e.stopPropagation(),g(t)},"aria-label":"Icon label",icon:(0,l.Y)(i.R2l,{})})})]}),h===t&&!x&&(0,l.Y)("div",{style:{padding:`0 ${M.spacing.xs}px`},children:(0,l.Y)(s.B,{componentId:"codegen_mlflow_app_src_experiment-tracking_components_runs-compare_sections_runscomparesectionheader.tsx_251",onClick:O,icon:(0,l.Y)(s.r,{}),ref:T})}),!x&&(0,l.Y)("div",{className:"section-element-visibility-on-hover section-element-hidden-on-edit",css:S,children:(0,l.Y)(i.WP0,{rotate:90,style:{color:M.colors.textSecondary},ref:U,onMouseDown:()=>k(!0),onMouseLeave:()=>{k(!1)},"data-testid":"experiment-view-compare-runs-section-header-drag-handle"})}),!x&&(0,l.FD)("div",{style:{position:"absolute",top:"50%",right:"0",transform:"translate(0, -50%)",display:"flex",alignItems:"center"},children:[(0,l.FD)("div",{onClick:N,onMouseDown:N,onMouseUp:N,onDoubleClick:N,className:"section-element-visibility-on-hover-and-not-drag section-element-hidden-on-edit",children:[(0,l.FD)(i.rId.Root,{modal:!1,children:[(0,l.Y)(i.rId.Trigger,{asChild:!0,children:(0,l.Y)(s.B,{componentId:"codegen_mlflow_app_src_experiment-tracking_components_runs-compare_sections_runscomparesectionheader.tsx_288",icon:(0,l.Y)(i.ssM,{})})}),(0,l.FD)(i.rId.Content,{children:[(0,l.Y)(i.rId.Item,{componentId:"codegen_mlflow_app_src_experiment-tracking_components_runs-charts_components_sections_runschartssectionheader.tsx_321",onClick:()=>{m(n.uuid,!0)},children:(0,l.Y)(C.A,{id:"CevPsF",defaultMessage:"Add section above"})}),(0,l.Y)(i.rId.Item,{componentId:"codegen_mlflow_app_src_experiment-tracking_components_runs-charts_components_sections_runschartssectionheader.tsx_327",onClick:()=>{m(n.uuid,!1)},children:(0,l.Y)(C.A,{id:"aaKoNq",defaultMessage:"Add section below"})}),(0,l.Y)(i.rId.Item,{componentId:"codegen_mlflow_app_src_experiment-tracking_components_runs-charts_components_sections_runschartssectionheader.tsx_333",onClick:()=>{H(!0)},children:(0,l.Y)(C.A,{id:"8XrJnT",defaultMessage:"Delete section"})})]})]}),(0,l.Y)(u.D,{componentId:"codegen_mlflow_app_src_experiment-tracking_components_runs-charts_components_sections_runschartssectionheader.tsx_351",visible:F,onOk:()=>{p(n.uuid)},onCancel:()=>{H(!1)},title:"Delete section",children:(0,l.Y)(C.A,{id:"TPspzA",defaultMessage:"Deleting the section will permanently remove it and the charts it contains. This cannot be undone."})})]}),(0,l.Y)("div",{onClick:N,onMouseDown:N,onMouseUp:N,onDoubleClick:N,className:Y()({"section-element-visibility-on-hover-and-not-drag":!y},"section-element-hidden-on-edit"),css:(0,r.AH)({alignSelf:"flex-end",marginLeft:M.spacing.xs},""),children:(0,l.Y)(b,{onAddChart:c(n.uuid),supportedChartTypes:_})})]})]})})};var A=n(915),E=n(6922),k=n(76350);const R=e=>{let{sectionId:t,chartRunData:n,cardsConfig:c,isMetricHistoryLoading:d,onRemoveChart:u,onStartEditChart:p,onReorderCharts:m,onInsertCharts:h,groupBy:g,sectionIndex:f,setFullScreenChart:v,autoRefreshEnabled:y,hideEmptyCharts:x,globalLineChartConfig:b}=e;const{theme:_}=(0,s.a)(),[M,Y,S,I]=(0,a.useMemo)((()=>Array.isArray(c)?[c.filter((e=>e.type===o.zL.PARALLEL)),c.filter((e=>e.type===o.zL.DIFFERENCE)),c.filter((e=>e.type===o.zL.IMAGE)),c.filter((e=>e.type!==o.zL.PARALLEL&&e.type!==o.zL.DIFFERENCE&&e.type!==o.zL.IMAGE))]:[[],[],[],[]]),[c]),R=(0,a.useMemo)((()=>(0,A.A)({maxColumns:3,gap:_.spacing.md,additionalBreakpoints:[{breakpointWidth:2160,minColumnWidthForBreakpoint:600}]})),[_]),{dropTargetRef:T,isOver:D}=(0,w.S)({dragGroupKey:E.cN.GENERAL_AREA,dragKey:t,onDrop:h}),{dropTargetRef:L,isOver:F}=(0,w.S)({dragGroupKey:E.cN.PARALLEL_CHARTS_AREA,dragKey:t,onDrop:h}),H=!M.length&&!Y.length&&!S.length&&!I.length;return(0,l.FD)("div",{role:"figure",ref:e=>{null===T||void 0===T||T(e),null===L||void 0===L||L(e)},css:(0,r.AH)({padding:0===c.length?_.spacing.lg:0,position:"relative",overflow:"hidden"},""),children:[(D||F)&&0===c.length&&(0,l.Y)("div",{css:(0,r.AH)({position:"absolute",inset:0,backgroundColor:_.isDarkMode?_.colors.blue800:_.colors.blue100,border:`2px dashed ${_.colors.blue400}`,opacity:.75},"")}),H&&(0,l.Y)("div",{style:{display:"flex",alignItems:"center",justifyContent:"center"},children:(0,l.Y)(i.SvL,{title:(0,l.Y)(C.A,{id:"9TOU1G",defaultMessage:"No charts in this section"}),description:(0,l.Y)(C.A,{id:"9wWapn",defaultMessage:"Click 'Add chart' or drag and drop to add charts here."})})}),[Y,M,S].map(((e,t)=>e.length?(0,l.Y)("div",{css:(0,r.AH)({display:"flex",flexDirection:"column",gap:_.spacing.md,marginBottom:_.spacing.md},""),children:e.map(((t,r)=>{const i={onReorderWith:m,canMoveDown:r<e.length-1,canMoveUp:r>0,onMoveDown:()=>{var n;return m(t.uuid||"",(null===(n=e[r+1])||void 0===n?void 0:n.uuid)||"")},onMoveUp:()=>{var n;return m(t.uuid||"",(null===(n=e[r-1])||void 0===n?void 0:n.uuid)||"")}};return(0,l.Y)(k.i,{cardConfig:t,chartRunData:n,onStartEditChart:p,onRemoveChart:u,setFullScreenChart:v,index:r,sectionIndex:f,groupBy:g,autoRefreshEnabled:y,hideEmptyCharts:x,...i},`${t.uuid}-${r}-${f}`)}))},`chart-cards-${t}`):null)),(0,l.Y)("div",{css:R,children:I.map(((e,t)=>{var r,i;const o={onReorderWith:m,canMoveDown:t<I.length-1,canMoveUp:t>0,previousChartUuid:null===(r=I[t-1])||void 0===r?void 0:r.uuid,nextChartUuid:null===(i=I[t+1])||void 0===i?void 0:i.uuid};return(0,l.Y)(k.i,{cardConfig:e,chartRunData:n,onStartEditChart:p,onRemoveChart:u,setFullScreenChart:v,index:t,sectionIndex:f,groupBy:g,autoRefreshEnabled:y,hideEmptyCharts:x,globalLineChartConfig:b,...o},`${e.uuid}-${t}-${f}`)}))})]})};var T=n(62758),D=n(36118),L=n(53606),F=n(11428),H=n(15230);let N=null;const O=new WeakMap;function K(e,t){var n;return N||(N=new IntersectionObserver((e=>{for(const t of e){const e=O.get(t.target);null===e||void 0===e||e(t.isIntersecting)}}))),O.set(e,t),null===(n=N)||void 0===n||n.observe(e),()=>{var t;e&&(null===(t=N)||void 0===t||t.unobserve(e),O.delete(e))}}var P=n(76137),z=n(71932),U=n(21039);const B=(0,a.memo)((e=>{var t,n;const{setElementRef:r,isInViewport:i}=function(){let{enabled:e=!0}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const[t,n]=(0,a.useState)(null),[r,i]=(0,a.useState)(!e);return(0,a.useEffect)((()=>{if(t){if(window.IntersectionObserver&&e)return K(t,i);i(!0)}}),[e,t]),{isInViewport:r,setElementRef:n}}(),{uuid:o,translateBy:s,onResizeStart:c,onResize:d,onResizeStop:u,...p}=e;let m=i;if((0,x.sb)()){const[e]=(0,P.d7)(i,150);m=e}const[h,g]=(0,a.useState)(0),[f,v]=(0,a.useState)(0),[y,C]=(0,a.useState)(!1),[b,_]=(0,a.useState)({x:0,y:0}),{setDraggedCardUuid:w,onDropChartCard:M}=(0,z.Mz)(),Y=(0,a.useRef)(null),S=(0,a.useCallback)(((e,t)=>{let{x:n,y:r}=t;C(!0),w(null!==o&&void 0!==o?o:null),_({x:n,y:r})}),[w,o]),I=(0,a.useCallback)(((e,t)=>{let{x:n,y:r}=t;Y.current&&(Y.current.style.transform=`translate3d(${n-b.x}px, ${r-b.y}px, 0)`)}),[b]),A=(0,a.useCallback)((()=>{M(),w(null),Y.current&&(Y.current.style.transform=""),C(!1)}),[M,w,Y]),R=(0,a.useCallback)((()=>{var e;const t=null===(e=Y.current)||void 0===e?void 0:e.getBoundingClientRect();var n,r;t&&(g(null!==(n=null===t||void 0===t?void 0:t.width)&&void 0!==n?n:0),v(null!==(r=null===t||void 0===t?void 0:t.height)&&void 0!==r?r:0),null===c||void 0===c||c(t))}),[c,Y]),T=(0,a.useCallback)(((e,t)=>{let{size:n}=t;g(n.width),v(n.height),d(n.width,n.height)}),[d]);return(0,l.Y)(F.DraggableCore,{enableUserSelectHack:!1,onStart:S,onDrag:I,onStop:A,handle:`.${E.rZ}`,children:(0,l.Y)(H.Resizable,{width:h,height:f,axis:"both",onResizeStart:R,onResizeStop:u,onResize:T,handle:(0,l.Y)(j,{}),children:(0,l.Y)("div",{ref:e=>{Y.current=e,r(e)},style:y?{zIndex:U.K.CARD_DRAGGED,pointerEvents:"none"}:{transition:E.b7,transform:`translate3d(${null!==(t=null===s||void 0===s?void 0:s.x)&&void 0!==t?t:0}px,${null!==(n=null===s||void 0===s?void 0:s.y)&&void 0!==n?n:0}px,0)`,opacity:null!==s&&void 0!==s&&s.overflowing?0:1},children:(0,l.Y)(k.i,{...p,isInViewport:i,isInViewportDeferred:m})})})})})),j=(0,a.forwardRef)(((e,t)=>{const{theme:n}=(0,s.a)();return(0,l.Y)("div",{ref:t,...e,"data-testid":"draggable-card-resize-handle",css:(0,r.AH)({position:"absolute",bottom:0,right:0,cursor:"se-resize",lineHeight:0,padding:n.spacing.xs,color:n.colors.actionDefaultIconDefault},""),children:(0,l.Y)("svg",{width:"8",height:"8",viewBox:"0 0 8 8",children:(0,l.Y)("path",{d:"M6 6V0H8V8H0V6H6Z",fill:"currentColor"})})})}));var W={name:"b98nv4",styles:"position:absolute;inset:0"};const G=e=>{let{x:t,y:n,width:i,height:o}=e;const{theme:a}=(0,s.a)();return(0,l.FD)(l.FK,{children:[(0,l.Y)("div",{css:W}),(0,l.Y)("div",{css:(0,r.AH)({position:"absolute",backgroundColor:a.colors.actionDefaultBackgroundHover,borderStyle:"dashed",borderColor:a.colors.actionDefaultBorderDefault,pointerEvents:"none",borderRadius:a.general.borderRadiusBase,borderWidth:2,inset:0,zIndex:U.K.CARD_PREVIEW},""),style:{transform:`translate3d(${t}px, ${n}px, 0)`,width:i,height:o}})]})};const $=[300,330,360,400,500],V=Symbol("placeholder");var q={name:"1h0bf8r",styles:"body, :host{user-select:none;}"},X={name:"1ezujoe",styles:"display:flex;justify-content:center;min-height:160px"};const J=(0,a.memo)((e=>{var t,n;let{cardsConfig:o,sectionConfig:c,chartRunData:d,sectionId:u,hideEmptyCharts:p,...m}=e;const{theme:h}=(0,s.a)(),g=(0,L.U)(`(max-width: ${h.responsive.breakpoints.md}px)`)?1:null!==(t=c.columns)&&void 0!==t?t:3,f=null!==(n=c.cardHeight)&&void 0!==n?n:360,v=(0,a.useRef)(null),{draggedCardUuid:y,isDragging:x}=(0,z.GP)(),{setTargetSection:b,setTargetPosition:_,onSwapCards:w}=(0,z.Mz)(),M=(0,T.g_)(),Y=(0,a.useCallback)((e=>{M((t=>{var n,r;return(null===(n=t.compareRunSections)||void 0===n?void 0:n.find((e=>e.uuid===u)))?{...t,compareRunSections:null===(r=t.compareRunSections)||void 0===r?void 0:r.map((t=>t.uuid===u?{...t,columns:e}:t))}:t}))}),[u,M]),S=(0,a.useCallback)((e=>{M((t=>{var n,r;return(null===(n=t.compareRunSections)||void 0===n?void 0:n.find((e=>e.uuid===u)))?{...t,compareRunSections:null===(r=t.compareRunSections)||void 0===r?void 0:r.map((t=>t.uuid===u?{...t,cardHeight:e}:t))}:t}))}),[u,M]),I=(0,a.useRef)(0),[A,k]=(0,a.useState)(null),[R,F]=(0,a.useState)(null);I.current=o.length;const H=y?A:null,N=(0,a.useCallback)((e=>{var t,n;const r=h.spacing.sm,i=Math.ceil(o.length/g),s=Math.floor(e/g),a=e%g,l=g-1,c=a,d=s,u=null===(t=v.current)||void 0===t?void 0:t.getBoundingClientRect();return{overflowing:s>=i,row:s,col:a,x:a*(((null!==(n=null===u||void 0===u?void 0:u.width)&&void 0!==n?n:0)-l*r)/g)+c*r,y:s*f+d*r}}),[g,f,h,o.length]),O=(0,a.useMemo)((()=>o.filter((e=>!p||!(0,D.Cs)(d,e)))),[o,d,p]),K=(0,a.useMemo)((()=>{if(!y||null===H)return{};const e={},t=O.slice(),n=O.findIndex((e=>e.uuid===y)),r=H;-1!==n?(t.splice(n,1),t.splice(r,0,O[n])):t.splice(r,0,V);for(const i of O){const n=t.indexOf(i),r=O.indexOf(i),o=N(r),s=N(n);if(s.x===o.x&&s.y===o.y)continue;const a=s.x-o.x,l=s.y-o.y;i.uuid&&(e[i.uuid]={x:a,y:l,overflowing:s.overflowing})}return e}),[y,H,O,N]),P=(0,a.useMemo)((()=>{var e,t;if(null===H)return null;if(0===O.length)return{x:0,y:0,width:"100%",height:"100%"};const{x:n,y:r}=N(H),i=g-1,o=null===(e=v.current)||void 0===e?void 0:e.getBoundingClientRect();return{x:n,y:r,width:((null!==(t=null===o||void 0===o?void 0:o.width)&&void 0!==t?t:0)-i*h.spacing.sm)/g,height:f}}),[H,N,g,f,h,O.length]),U=(0,a.useCallback)((e=>{if(!x()||!v.current)return;const t=v.current.getBoundingClientRect(),n=Math.ceil(I.current/g);b(u);const r=Math.floor((e.clientY-t.top)/t.height*n)*g+Math.floor((e.clientX-t.left)/t.width*g);k(r),_(r)}),[g,x,u,b,_]),[j,W]=(0,a.useState)([]),J=(0,a.useRef)(null),Z=(0,a.useRef)(null),Q=(0,a.useCallback)((e=>{var t;const n=null===(t=v.current)||void 0===t?void 0:t.getBoundingClientRect();n&&(F({x:e.left-n.left,y:e.top-n.top,width:e.width,height:e.height}),W(function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:8;return[1,2,3,4,5].map((n=>({cols:n,width:(e-(n-1)*t)/n})))}(n.width)))}),[]),ee=(0,a.useCallback)((()=>{var e,t;Y(null!==(e=J.current)&&void 0!==e?e:g),S(null!==(t=Z.current)&&void 0!==t?t:f),F(null)}),[f,g,S,Y]),te=(0,a.useCallback)(((e,t)=>{const n=j.reduce(((t,n)=>Math.abs(n.width-e)<Math.abs(t.width-e)?n:t)),r=$.reduce(((e,n)=>Math.abs(n-t)<Math.abs(e-t)?n:e));J.current=n.cols,Z.current=r,F((e=>e?e.width!==n.width||e.height!==r?{...e,width:n.width,height:r}:e:null))}),[j]);return(0,l.FD)("div",{ref:v,css:["position:relative;",O.length>0&&{display:"grid",gap:h.spacing.sm},""],style:{gridTemplateColumns:"repeat("+g+", 1fr)",...y&&{[E.H8]:"transform 0.1s"}},"data-testid":"draggable-chart-cards-grid",onMouseMove:U,onMouseLeave:()=>{k(null)},children:[(y||R)&&(0,l.Y)(r.mL,{styles:q}),0===O.length&&(0,l.Y)("div",{css:X,children:(0,l.Y)(i.SvL,{title:(0,l.Y)(C.A,{id:"9TOU1G",defaultMessage:"No charts in this section"}),description:(0,l.Y)(C.A,{id:"9wWapn",defaultMessage:"Click 'Add chart' or drag and drop to add charts here."})})}),O.map(((e,t,n)=>{var r,i,o,s;return(0,l.Y)(B,{uuid:null!==(r=e.uuid)&&void 0!==r?r:"",translateBy:K[null!==(i=e.uuid)&&void 0!==i?i:""],onResizeStart:Q,onResizeStop:ee,onResize:te,cardConfig:e,chartRunData:d,onReorderWith:w,index:t,height:f,canMoveDown:Boolean(n[t+1]),canMoveUp:Boolean(n[t-1]),previousChartUuid:null===(o=n[t-1])||void 0===o?void 0:o.uuid,nextChartUuid:null===(s=n[t+1])||void 0===s?void 0:s.uuid,hideEmptyCharts:p,...m},e.uuid)})),P&&(0,l.Y)(G,{...P}),R&&(0,l.Y)(G,{...R})]})})),Z=e=>{let{sectionId:t,sectionCharts:n,reorderCharts:r,insertCharts:i,isMetricHistoryLoading:o,chartData:s,startEditChart:a,removeChart:c,groupBy:d,sectionIndex:u,setFullScreenChart:p,autoRefreshEnabled:m,hideEmptyCharts:h,globalLineChartConfig:g,sectionConfig:f}=e;return(0,x.hX)()?(0,l.Y)(J,{sectionConfig:f,cardsConfig:n,chartRunData:s,onStartEditChart:a,onRemoveChart:c,setFullScreenChart:p,sectionId:t,groupBy:d,autoRefreshEnabled:m,hideEmptyCharts:h,globalLineChartConfig:g}):(0,l.Y)(R,{sectionId:t,chartRunData:s,cardsConfig:n,isMetricHistoryLoading:o,onRemoveChart:c,onStartEditChart:a,onReorderCharts:r,onInsertCharts:i,groupBy:d,sectionIndex:u,setFullScreenChart:p,autoRefreshEnabled:m,hideEmptyCharts:h,globalLineChartConfig:g})};var Q=n(7204),ee=n(9133);const te=e=>{if(e.type===o.zL.BAR){return[e.metricKey]}if(e.type===o.zL.LINE){const t=e;return(0,ee.isArray)(t.selectedMetricKeys)?t.selectedMetricKeys:[t.metricKey]}if(e.type===o.zL.SCATTER){const t=e;return[t.xaxis.key.toLowerCase(),t.yaxis.key.toLowerCase()]}if(e.type===o.zL.PARALLEL){const t=e;return[...t.selectedMetrics,...t.selectedParams]}{const t=e;return[t.xaxis.key,t.yaxis.key,t.zaxis.key]}},ne=e=>{let{compareRunSections:t,compareRunCharts:n,reorderCharts:d,insertCharts:p,chartData:m,isMetricHistoryLoading:h=!1,autoRefreshEnabled:g=!1,startEditChart:f,removeChart:v,addNewChartCard:y,search:b,groupBy:_,supportedChartTypes:w,hideEmptyCharts:M,setFullScreenChart:Y=(()=>{}),globalLineChartConfig:S}=e;const A=(0,T.g_)(),[E,k]=(0,a.useState)(-1),{theme:R}=(0,s.a)(),D=(0,a.useMemo)((()=>(t||[]).flatMap((e=>e.display?[e.uuid]:[]))),[t]),L=(0,a.useCallback)((e=>{A((t=>{const n=(t.compareRunSections||[]).map((t=>{const n=t.uuid,r="string"===typeof e&&n===e||Array.isArray(e)&&e.includes(n);return{...t,display:r}}));return{...t,compareRunSections:n}}))}),[A]),F=(0,a.useCallback)((e=>{A((t=>{const n=(t.compareRunCharts||[]).filter((t=>t.isGenerated||t.metricSectionId!==e)).map((t=>t.isGenerated&&t.metricSectionId===e?{...t,deleted:!0}:t)),r=(t.compareRunSections||[]).slice().filter((t=>t.uuid!==e));return{...t,compareRunCharts:n,compareRunSections:r,isAccordionReordered:!0}}))}),[A]),H=(0,a.useCallback)(((e,t)=>{let n=-1;return A((r=>{const i=[...r.compareRunSections||[]];n=i.findIndex((t=>t.uuid===e));const o={name:"",uuid:(0,Q.yk)(),display:!1,isReordered:!1};return n<0?i.push(o):(t||(n+=1),i.splice(n,0,o)),{...r,compareRunSections:i,isAccordionReordered:!0}})),n}),[A]),N=(0,a.useCallback)((()=>{A((e=>{const t=[...e.compareRunSections||[],{name:"",uuid:(0,Q.yk)(),display:!1,isReordered:!1}];return{...e,compareRunSections:t,isAccordionReordered:!0}})),k((null===t||void 0===t?void 0:t.length)||-1)}),[A,null===t||void 0===t?void 0:t.length]),O=(0,a.useCallback)(((e,t)=>{A((n=>{const r=(n.compareRunSections||[]).map((n=>n.uuid===e?{...n,name:t}:n));return{...n,compareRunSections:r,isAccordionReordered:!0}}))}),[A]),K=(0,a.useCallback)(((e,t)=>{A((n=>{const r=(n.compareRunSections||[]).slice(),i=r.findIndex((t=>t.uuid===e)),o=r.findIndex((e=>e.uuid===t)),s=r.splice(i,1)[0];return r.splice(o,0,s),{...n,compareRunSections:r,isAccordionReordered:!0}}))}),[A]),P=(0,a.useMemo)((()=>0===m.filter((e=>{let{hidden:t}=e;return!t})).length),[m]),{sectionsToRender:z,chartsToRender:U}=(0,a.useMemo)((()=>{if(""===b)return{sectionsToRender:t,chartsToRender:n};const e=(n||[]).filter((e=>!e.deleted&&((e,t)=>{if((0,x.l)()){if(t.type===o.zL.IMAGE||t.type===o.zL.DIFFERENCE)return!0;try{const n=new RegExp(e,"i");return te(t).some((e=>e.match(n)))}catch{return!0}}const n=e.toLowerCase();if(t.type===o.zL.BAR)return t.metricKey.toLowerCase().includes(n);if(t.type===o.zL.LINE){const e=t;return(0,ee.isArray)(e.selectedMetricKeys)?e.selectedMetricKeys.some((e=>e.toLowerCase().includes(n))):e.metricKey.toLowerCase().includes(n)}if(t.type===o.zL.SCATTER){const e=t;return e.xaxis.key.toLowerCase().includes(n)||e.yaxis.key.toLowerCase().includes(n)}if(t.type===o.zL.PARALLEL)return"Parallel Coordinates".toLowerCase().includes(n);if(t.type===o.zL.CONTOUR){const e=t;return e.xaxis.key.toLowerCase().includes(n)||e.yaxis.key.toLowerCase().includes(n)||e.zaxis.key.toLowerCase().includes(n)}return!0})(b,e))),r=new Set;e.forEach((e=>{e.metricSectionId&&r.add(e.metricSectionId)}));return{sectionsToRender:(t||[]).filter((e=>r.has(e.uuid))),chartsToRender:e}}),[b,n,t]),B=""!==b;return t&&n?P?(0,l.Y)("div",{css:(0,r.AH)({marginTop:R.spacing.lg},""),children:(0,l.Y)(i.SvL,{description:(0,l.Y)(C.A,{id:"jXfgov",defaultMessage:"All runs are hidden. Select at least one run to view charts."})})}):B&&0===(null===U||void 0===U?void 0:U.length)?(0,l.FD)(l.FK,{children:[(0,l.Y)(u.S,{size:"lg"}),(0,l.Y)(i.SvL,{title:(0,l.Y)(C.A,{id:"D+UN8o",defaultMessage:"No metric charts"}),description:(0,l.Y)(C.A,{id:"gZSJbg",defaultMessage:"All charts are filtered. Clear the search filter to see hidden metric charts."})})]}):(0,l.FD)("div",{children:[(0,l.Y)(c,{activeKey:D,onActiveKeyChange:L,children:(z||[]).map(((e,t)=>{const n=(U||[]).filter((t=>{const n=t.metricSectionId;return!t.deleted&&n===e.uuid}));return(0,l.Y)(i.nD3.Panel,{header:(0,l.Y)(I,{index:t,section:e,onDeleteSection:F,onAddSection:H,editSection:E,onSetEditSection:k,onSetSectionName:O,sectionChartsLength:n.length,addNewChartCard:y,onSectionReorder:K,isExpanded:D.includes(e.uuid),supportedChartTypes:w,hideExtraControls:B}),"aria-hidden":!D.includes(e.uuid),children:(0,l.Y)(Z,{sectionId:e.uuid,sectionConfig:e,sectionCharts:n,reorderCharts:d,insertCharts:p,isMetricHistoryLoading:h,chartData:m,startEditChart:f,removeChart:v,groupBy:_,sectionIndex:t,setFullScreenChart:Y,autoRefreshEnabled:g,hideEmptyCharts:M,globalLineChartConfig:S})},e.uuid)}))}),!B&&(0,l.Y)("div",{children:(0,l.Y)(s.B,{componentId:"codegen_mlflow_app_src_experiment-tracking_components_runs-compare_sections_runscomparesectionaccordion.tsx_405",block:!0,onClick:N,icon:(0,l.Y)(i.c11,{}),style:{border:"none",marginTop:"6px"},children:(0,l.Y)(C.A,{id:"YlavFP",defaultMessage:"Add section"})})})]}):null}},49698:function(e,t,n){"use strict";n.d(t,{l:function(){return g}});var r=n(9133),i=n(31014);const o=/\$\{([^}]+)\}/g;var s=function(e){return e.ADD="+",e.SUBTRACT="-",e.MULTIPLY="*",e.DIVIDE="/",e.POWER="^",e.NEGATIVE_SIGN="_",e.POSITIVE_SIGN="|",e}(s||{}),a=function(e){return e.OPEN="(",e.CLOSE=")",e}(a||{}),l=function(e){return e.OPEN="{",e.CLOSE="}",e}(l||{});const c={[s.ADD]:1,[s.SUBTRACT]:1,[s.MULTIPLY]:2,[s.DIVIDE]:2,[s.POWER]:3,[s.NEGATIVE_SIGN]:4,[s.POSITIVE_SIGN]:4},d=e=>"string"===typeof e&&[s.ADD,s.SUBTRACT,s.MULTIPLY,s.DIVIDE,s.POWER].includes(e),u=e=>"string"===typeof e&&[s.NEGATIVE_SIGN,s.POSITIVE_SIGN].includes(e),p=e=>e.slice(2,-1),m=(e,t)=>{const n=e.pop();if(void 0===n)throw new Error("Invalid expression: stack is empty");if(d(n)){if(t[t.length-1]<2)throw new Error("Invalid expression: Stack has binary operator without enough operands");t[t.length-1]--}else{if(!u(n))throw new Error("Invalid expression: Stack has invalid elements");if(t[t.length-1]<1)throw new Error("Invalid expression: Stack has unary operator without enough operands")}return n},h=(e,t,n)=>{for(;e.length>0&&u((0,r.last)(e));)t.push(m(e,n))},g=()=>({compileExpression:(0,i.useCallback)(((e,t)=>{try{const n=e.replace(o,"");if(!/^[0-9+\-*/().\s^]*$/.test(n))return;const{expression:i,variables:g}=(e=>{const t=e.match(o);if(!t)return{expression:e,variables:[]};const n=(0,r.uniq)(t),i={};return n.forEach(((e,t)=>{i[e]=`\${${t}}`})),{expression:e.replace(o,(e=>e in i?i[e]:e)),variables:n.map(p)}})(e);for(const e of g)if(!t.includes(e))return;const f=i.replace(/\s/g,""),v=(e=>{const t=[],n=[],i=[0],o=()=>{i[i.length-1]++};for(let g=0;g<e.length;g++){let f=e[g];const v=0===g||d(e[g-1])||e[g-1]===a.OPEN;if(f===s.SUBTRACT&&v?f=s.NEGATIVE_SIGN:f===s.ADD&&v&&(f=s.POSITIVE_SIGN),"$"===f){let r="";if(g+1>=e.length||e[g+1]!==l.OPEN)throw new Error("Invalid expression: Variable must be followed by {");for(g++;g+1<e.length&&e[g+1]!==l.CLOSE;)r+=e[++g];g++,n.push(r),o(),h(t,n,i)}else if(/\d/.test(f)||"."===f){let r=f;for(;g+1<e.length&&(/\d/.test(e[g+1])||"."===e[g+1]);)r+=e[++g];const s=r.match(/\./g);if(s&&s.length>1)throw new Error("Invalid expression: Number has multiple decimal points");const a=parseFloat(r);o(),n.push(a),h(t,n,i)}else if(u(f))t.push(f);else if(d(f)){if(0===n.length)throw new Error("Invalid expression: Binary operator without operands");for(;t.length>0&&d((0,r.last)(t))&&(p=(0,r.last)(t),c[p]>c[f]||(0,r.last)(t)===f&&f!==s.POWER);)n.push(m(t,i));t.push(f)}else if(f===a.OPEN)t.push(f),i.push(0);else{if(f!==a.CLOSE)throw new Error("Invalid expression: Unknown character in expression");for(;t.length>0&&(0,r.last)(t)!==a.OPEN;)n.push(m(t,i));if(t.pop()!==a.OPEN)throw new Error("Invalid expression: Parenthesis mismatch");if(1!==i[i.length-1])throw new Error("Invalid expression: Parenthesis does not have exactly one operand");i.pop(),o(),h(t,n,i)}}for(var p;t.length>0;)n.push(m(t,i));if(1!==i.length||1!==i[0])throw new Error("Invalid expression: Invalid number of operands");return n})(f.replace(o,(e=>{const t=parseInt(e.slice(2,-1),10);return`\${${g[t]}}`})));return{rpn:v,variables:g,expression:e}}catch(n){return}}),[]),evaluateExpression:(e,t)=>{if(void 0!==e)try{return(e=>{const t=[];if(e.forEach((e=>{if("number"!==typeof e)if(u(e)){const n=t.pop();if("number"!==typeof n)throw new Error("Invalid expression: Unary operator without operand");switch(e){case s.NEGATIVE_SIGN:t.push(-n);break;case s.POSITIVE_SIGN:t.push(n)}}else{if(!d(e))throw new Error("Invalid expression: Unknown token in expression");{const n=t.pop(),r=t.pop();if("number"!==typeof r||"number"!==typeof n)throw new Error("Invalid expression: Binary operator without enough operands");switch(e){case s.ADD:t.push(r+n);break;case s.SUBTRACT:t.push(r-n);break;case s.MULTIPLY:t.push(r*n);break;case s.DIVIDE:t.push(r/n);break;case s.POWER:t.push(Math.pow(r,n))}}}else t.push(e)})),1!==t.length||"number"!==typeof t[0])throw new Error("Invalid expression: Invalid expression result");return t[0]})(e.rpn.map((n=>"string"===typeof n&&e.variables.includes(n)?t[n]:n)))}catch(n){return}}})},50684:function(e,t,n){"use strict";n.d(t,{H:function(){return c},W:function(){return l}});var r=n(31014),i=n(64596);const o={paper_bgcolor:"white",plot_bgcolor:"white"},s={width:1200,height:600},a={displaylogo:!1,modeBarButtonsToRemove:["toImage"]},l=(e,t)=>(n,r)=>(0,i.downloadImage)({data:e,layout:{...t,...o},config:a},{...s,format:n,filename:r}),c=()=>{const e=(0,r.useRef)(null),[t,n]=(0,r.useState)(null),i=(0,r.useCallback)((t=>{e.current=t,n((t=>t||((t,n)=>{var r;return null===(r=e.current)||void 0===r?void 0:r.call(e,t,n)})))}),[]);return[t,i]}},99061:function(e,t,n){"use strict";n.d(t,{_:function(){return r}});const r=e=>{let{data:t,selectedImageKeys:n}=e;const r=t.reduce(((e,t)=>{for(const r of Object.keys(t.images))if(null!==n&&void 0!==n&&n.includes(r)){const n=t.images[r];for(const t of Object.values(n))void 0!==t.step&&(e[t.step]={style:{display:"none"},label:""})}return e}),{});return{stepMarks:r,maxMark:Math.max(...Object.keys(r).map(Number)),minMark:Math.min(...Object.keys(r).map(Number))}}},92206:function(e,t,n){"use strict";n.d(t,{v:function(){return a}});var r=n(31014),i=n(91144),o=n(76137);const s=150,a=function(){let{enabled:e=!0,deferTimeoutMs:t=s}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const n=(0,r.useRef)(null),[a,l]=(0,r.useState)(!e),c=(0,r.useCallback)((t=>{if(!e||!window.IntersectionObserver)return l(!0),()=>{};if(!t)return()=>{};const r=new IntersectionObserver((e=>{let[t]=e;l(t.isIntersecting)}));return setTimeout((()=>{t&&r.observe(t)})),n.current=r,r}),[e]),d=(0,r.useCallback)((()=>{n.current&&(n.current.disconnect(),n.current=null)}),[]),u=(0,r.useCallback)((e=>{d(),c(e)}),[d,c]);if((0,r.useEffect)((()=>d),[d]),(0,i.sb)()){const[e]=(0,o.d7)(a,t);return{isInViewport:a,elementRef:u,isInViewportDeferred:e}}return{isInViewport:a,elementRef:u,isInViewportDeferred:a}}},97604:function(e,t,n){"use strict";n.d(t,{l:function(){return i}});var r=n(31014);const i=e=>{const t=(0,r.useRef)(e);return(0,r.useEffect)((()=>{t.current=e}),[e]),e=>{t.current(e)}}},25790:function(e,t,n){"use strict";n.d(t,{Co:function(){return m},Iq:function(){return a},PQ:function(){return l},WF:function(){return u},ZY:function(){return h},nD:function(){return c},pO:function(){return d}});var r=n(9133),i=n(31014),o=n(91144);const s=(e,t)=>function(n,r,i){var o,s;let a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0;const l=-1===r&&-1===i;var c,d,u,p;(null===(o=n.querySelector(".is-hover-highlight"))||void 0===o||o.classList.remove("is-hover-highlight"),r>-1)&&(null===(c=n.querySelectorAll(e)[r])||void 0===c||c.classList.add("is-hover-highlight"));(null===(s=n.querySelector(".is-selection-highlight"))||void 0===s||s.classList.remove("is-selection-highlight"),i>-1)&&(null===(d=n.querySelectorAll(e)[i])||void 0===d||d.classList.add("is-selection-highlight"));if(a>0){const t=i>-1?i-a:r>-1?r-a:-1;n.querySelectorAll(e).forEach(((e,n)=>{e.classList.toggle("is-band",n>=0&&n<a),e.classList.toggle("is-band-highlighted",n===t)}))}else n.querySelectorAll(e).forEach((e=>e.classList.remove("is-band")));l?null===(u=n.querySelector(t))||void 0===u||u.classList.remove("is-highlight"):null===(p=n.querySelector(t))||void 0===p||p.classList.add("is-highlight")},a=s("svg .trace.bars g.point",".trace.bars"),l=s("svg .scatterlayer g.trace",".scatterlayer"),c=s("svg .scatterlayer path.point",".trace.scatter"),d=function(e,t,n,s){let a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0;const l=(0,i.useRef)(n);l.current=n;const c=(0,i.useMemo)((()=>e&&t?n.findIndex((e=>{let{uuid:n}=e;return n===t})):-1),[n,e,t]),[d,u]=(0,i.useState)(-1),{onHighlightChange:p}=h();(0,i.useEffect)((()=>{(0,o.GA)()||e&&s(e,d,c,a)}),[s,e,c,d,a]),(0,i.useEffect)((()=>{(0,o.GA)()&&e&&s(e,-1,c,a)}),[s,e,c,a]);const m=(0,i.useRef)(c);m.current=c;const g=(0,i.useCallback)((t=>{if(!e)return;const n=l.current.findIndex((e=>{let{uuid:n}=e;return n===t}));s(e,n,m.current,a)}),[s,e,a]);return(0,i.useEffect)((()=>p(g)),[p,g]),{selectedTraceIndex:c,hoveredPointIndex:d,setHoveredPointIndex:(0,o.GA)()?r.noop:u}};let u=function(e){return e[e.NONE=0]="NONE",e[e.CHART=1]="CHART",e[e.TABLE=2]="TABLE",e}({});const p=(0,i.createContext)({highlightDataTrace:()=>{},onHighlightChange:()=>()=>{}}),m=e=>{let{children:t}=e;const n=(0,i.useRef)([]),s=(0,i.useRef)(!1),a=(0,i.useMemo)((()=>{if(!(0,o.GA)())return{highlightDataTrace:()=>{},onHighlightChange:()=>()=>{}};return{highlightDataTrace:function(e){let{shouldBlock:t,source:i}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if((0,r.isUndefined)(t)){if(s.current)return}else s.current=t;((e,t)=>{for(const r of n.current)r(e,t)})(e,i)},onHighlightChange:e=>(n.current.push(e),()=>{n.current=n.current.filter((t=>t!==e))})}}),[]);return(0,i.createElement)(p.Provider,{value:a},t)},h=()=>(0,i.useContext)(p)},75627:function(e,t,n){"use strict";n.d(t,{QS:function(){return l},W:function(){return h},bL:function(){return u},uN:function(){return g}});var r=n(31014),i=n(91144),o=n(25790),s=n(21039),a=n(50111);let l=function(e){return e[e.Simple=1]="Simple",e[e.MultipleTracesWithScanline=2]="MultipleTracesWithScanline",e}({});const c=r.createContext(null);let d=function(e){return e[e.HIDDEN=0]="HIDDEN",e[e.HOVER=1]="HOVER",e[e.VISIBLE=2]="VISIBLE",e}({});const u=e=>e&&"tooltipLegendItems"in e,p=e=>{if(null===e||!(e instanceof Element))return null;if(e instanceof HTMLElement)return e;let t=e;for(;t&&!(t instanceof HTMLElement);)t=t.parentElement;return t};var m={name:"13udsys",styles:"height:100%"};const h=e=>{let{className:t,children:n,contextData:s,component:u,hoverOnly:h=!1}=e;const g=(0,r.useRef)(null),v=(0,r.useRef)(null),y=(0,r.useRef)({x:0,y:0}),x=(0,i.dD)(),C=(0,r.useRef)({x:0,y:0}),[b,_]=(0,r.useState)(l.Simple),[w,M]=(0,r.useState)(d.HIDDEN),[Y,S]=(0,r.useState)(null),[I,A]=(0,r.useState)(""),[E,k]=(0,r.useState)(null),R=(0,r.useRef)(null),T=(0,r.useRef)(w),D=(0,r.useRef)(I),L=(0,r.useRef)(Y),F=(0,r.useRef)(E),{highlightDataTrace:H}=(0,o.ZY)(),N=(0,r.useCallback)((function(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(!v.current||!g.current)return;let t=b===l.MultipleTracesWithScanline?C.current.x:y.current.x,n=y.current.y;const r=v.current,i=g.current.getBoundingClientRect();b===l.MultipleTracesWithScanline&&(t-=i.x,n-=i.y),v.current.style.left="0px",v.current.style.top="0px",v.current.style.transform=`translate3d(${t+1}px, ${n+1}px, 0)`;const o=()=>{const e=r.getBoundingClientRect();t+e.width>=i.width&&(t-=e.width),n+e.height>=i.height&&(n-=e.height),r.style.transform=`translate3d(${t+1}px, ${n+1}px, 0)`};e?requestAnimationFrame(o):o()}),[b]);(0,r.useEffect)((()=>{T.current=w}),[w]);const O=(0,r.useCallback)(((e,t)=>{var n;const r=e.getBoundingClientRect(),i=(null===(n=g.current)||void 0===n?void 0:n.getBoundingClientRect())||{left:0,top:0};return{x:t.offsetX+(r.left-i.left),y:t.offsetY+(r.top-i.top)}}),[]),K=(0,r.useCallback)((e=>{if(T.current===d.HOVER&&v.current&&g.current){R.current=null;const t=p(e.target);t&&(y.current=O(t,e.nativeEvent),N())}}),[N,O]),P=(0,r.useCallback)(((e,t,n,r,i)=>{var o;D.current=e,L.current=n,F.current=i,T.current!==d.VISIBLE&&(S(n),!e&&null!==(o=R.current)&&void 0!==o&&o.runUuid||(t===l.MultipleTracesWithScanline&&(C.current.x=(null===r||void 0===r?void 0:r.x)||0),_(t),A((t=>(i&&k(i),T.current===d.HIDDEN||T.current===d.HOVER&&e!==t?(M(d.HOVER),e):t)))))}),[]),z=(0,r.useCallback)((e=>{h||0===e.button&&D.current&&(R.current={x:e.pageX,y:e.pageY,runUuid:D.current})}),[h]),U=(0,r.useCallback)((e=>{if(h)return;if(R.current&&(()=>{var t,n;if(!x)return(null===(n=R.current)||void 0===n?void 0:n.runUuid)&&e.pageX===R.current.x&&e.pageY===R.current.y;return(null===(t=R.current)||void 0===t?void 0:t.runUuid)&&Math.abs(e.pageX-R.current.x)<5&&Math.abs(e.pageY-R.current.y)<5})()){if(T.current===d.VISIBLE){A(R.current.runUuid),k(F.current);const t=p(e.nativeEvent.target);t&&(y.current=O(t,e.nativeEvent),N(!0))}else M(d.VISIBLE),N(!0);e.stopPropagation()}R.current=null}),[N,h,O,x]),B=(0,r.useCallback)((()=>M(d.HIDDEN)),[]);(0,r.useLayoutEffect)((()=>{if(!g.current)return;const e=g.current.getRootNode(),t=e=>{var t;if(T.current!==d.VISIBLE)return;const n=p(e.target);if(!n)return;n instanceof HTMLElement&&(null===v||void 0===v?void 0:v.current)instanceof HTMLElement&&v.current.contains(n)||null!==(t=R.current)&&void 0!==t&&t.runUuid||M(d.HIDDEN)};return e.addEventListener("click",t,{capture:!0}),()=>{e.removeEventListener("click",t,{capture:!0})}}),[O,N]);const j=(0,r.useCallback)((()=>{var e;D.current="",null!==(e=R.current)&&void 0!==e&&e.runUuid||T.current===d.VISIBLE||(A(""),M(d.HIDDEN))}),[]),W=(0,r.useCallback)((function(){D.current="",A(""),M(d.HIDDEN)}),[]),G=(0,r.useMemo)((()=>w!==d.VISIBLE?null:I),[w,I]);(0,r.useEffect)((()=>H(G,{source:o.WF.CHART,shouldBlock:Boolean(G)})),[H,G]);const $=(0,r.useMemo)((()=>({updateTooltip:P,resetTooltip:j,destroyTooltip:W,selectedRunUuid:G,closeContextMenu:B})),[P,j,W,G,B]),V=w!==d.HIDDEN&&(b===l.MultipleTracesWithScanline||""!==I);return(0,a.FD)(c.Provider,{value:$,children:[(0,a.Y)("div",{onMouseMove:K,onMouseDownCapture:z,onClickCapture:U,css:m,children:n}),(0,a.Y)("div",{css:f.contextMenuContainer,className:t,ref:g,children:V&&(0,a.Y)("div",{ref:v,css:f.contextMenuWrapper,"data-testid":"tooltip-container",style:{userSelect:w===d.HOVER?"none":"unset",pointerEvents:w===d.HOVER?"none":"all"},children:(0,a.Y)(u,{runUuid:I,hoverData:E,chartData:Y,contextData:s,isHovering:w===d.HOVER,closeContextMenu:B,mode:b})})})]})},g=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:l.Simple;const n=(0,r.useContext)(c);if(!n)throw new Error("You must invoke useRunsChartsTooltip() in a component being ancestor of <RunsChartsTooltipWrapper />!");const{updateTooltip:i,resetTooltip:s,selectedRunUuid:a,closeContextMenu:d,destroyTooltip:u}=n,{highlightDataTrace:p}=(0,o.ZY)(),m=(0,r.useCallback)((function(){let n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";i(n,t,e,arguments.length>1?arguments[1]:void 0,arguments.length>2?arguments[2]:void 0),p(n,{source:o.WF.CHART})}),[i,e,t,p]);return{setTooltip:m,resetTooltip:(0,r.useCallback)((()=>{s(),p(null)}),[s,p]),selectedRunUuid:a,closeContextMenu:d,destroyTooltip:u}},f={contextMenuContainer:{overflow:"hidden",top:0,left:0,width:"100%",height:"100%",position:"fixed",pointerEvents:"none",zIndex:s.K.TOOLTIP_CONTAINER},contextMenuWrapper:e=>({zIndex:s.K.TOOLTIP,position:"absolute",padding:e.spacing.sm,backgroundColor:e.colors.backgroundPrimary,border:`1px solid ${e.colors.border}`,left:-999,top:-999,borderRadius:e.general.borderRadiusBase,boxShadow:e.general.shadowLow}),overlayElement:()=>({"&::after":{content:'""',position:"absolute",left:0,top:0,right:0,bottom:0,backgroundColor:"transparent"}})}},62758:function(e,t,n){"use strict";n.d(t,{Ez:function(){return u},KP:function(){return m},cA:function(){return p},g_:function(){return c},iO:function(){return d},oB:function(){return l}});var r=n(31014),i=n(30152),o=n(7204),s=n(50111);const a=r.createContext((()=>{})),l=e=>{let{children:t,updateChartsUIState:n}=e;return(0,s.Y)(a.Provider,{value:n,children:t})},c=()=>r.useContext(a),d=()=>{const e=c();return(0,r.useCallback)(((t,n)=>{e((e=>{var r,i;const o=null===(r=e.compareRunCharts)||void 0===r?void 0:r.slice(),s=null===(i=e.compareRunSections)||void 0===i?void 0:i.slice();if(!o||!s)return e;const a=o.findIndex((e=>e.uuid===t)),l=o.findIndex((e=>e.uuid===n));if(a<0||l<0)return e;const c=o[a],d=o[l],u=d.metricSectionId===c.metricSectionId,p=s.findIndex((e=>e.uuid===c.metricSectionId)),m=s.findIndex((e=>e.uuid===d.metricSectionId));s.splice(p,1,{...s[p],isReordered:!0}),s.splice(m,1,{...s[m],isReordered:!0});const h={...c};return h.metricSectionId=d.metricSectionId,o.splice(a,1),u?o.splice(l,0,h):o.splice(o.findIndex((e=>e.uuid===n)),0,h),{...e,compareRunCharts:o,compareRunSections:s}}))}),[e])},u=()=>{const e=c();return t=>{const n=i.i$.serialize({...t,uuid:(0,o.yk)()});t.uuid?e((e=>{var r;return{...e,compareRunCharts:null===(r=e.compareRunCharts)||void 0===r?void 0:r.map((e=>e.uuid===t.uuid?n:e))}})):e((e=>({...e,compareRunCharts:e.compareRunCharts&&[...e.compareRunCharts,n]})))}},p=()=>{const e=c();return(t,n)=>{e((e=>{var r,i;const o=null===(r=e.compareRunCharts)||void 0===r?void 0:r.slice(),s=null===(i=e.compareRunSections)||void 0===i?void 0:i.slice();if(!o||!s)return e;const a=o.findIndex((e=>e.uuid===t));if(a<0)return e;const l=o[a],c={...l};c.metricSectionId=n;const d=s.findIndex((e=>e.uuid===l.metricSectionId)),u=s.findIndex((e=>e.uuid===n));return s.splice(d,1,{...s[d],isReordered:!0}),s.splice(u,1,{...s[u],isReordered:!0}),o.splice(a,1),o.push(c),{...e,compareRunCharts:o,compareRunSections:s}}))}},m=()=>{const e=c();return(0,r.useCallback)((t=>{e((e=>{var n,r;return{...e,compareRunCharts:t.isGenerated?null===(n=e.compareRunCharts)||void 0===n?void 0:n.map((e=>e.uuid===t.uuid?{...e,deleted:!0}:e)):null===(r=e.compareRunCharts)||void 0===r?void 0:r.filter((e=>e.uuid!==t.uuid))}}))}),[e])}},24789:function(e,t,n){"use strict";n.d(t,{S:function(){return f}});var r=n(9133),i=n(31014),o=n(10811),s=n(36118),a=n(16297),l=n(32039),c=n(76010),d=n(91144),u=n(56675),p=n(67671),m=n(20740),h=n(88464);const g=u.J1`
  query GetMetricHistoryBulkInterval($data: MlflowGetMetricHistoryBulkIntervalInput!)
  @component(name: "MLflow.ExperimentRunTracking") {
    mlflowGetMetricHistoryBulkInterval(input: $data) {
      __typename
      metrics {
        timestamp
        step
        runId
        key
        value
      }
      apiError {
        code
        message
      }
    }
  }
`,f=e=>{const{metricKeys:t,enabled:n,autoRefreshEnabled:u,runUuids:f}=e,v=(0,d.X1)()&&1===t.length&&f.length<=100,y=(e=>{const{metricKeys:t,runUuids:n,enabled:d,maxResults:u,range:p,autoRefreshEnabled:m}=e,h=(0,o.wA)(),{resultsByRunUuid:g,isLoading:f,isRefreshing:v}=(0,o.d4)((e=>{const i=(0,s.Cx)(p);let o=!1,a=!1;const l=n.map((n=>{const r=t.reduce(((t,r)=>{var s,l;const c=null===(s=e.entities.sampledMetricsByRunUuid[n])||void 0===s||null===(l=s[r])||void 0===l?void 0:l[i];return c?(a=a||Boolean(c.loading),o=o||Boolean(c.refreshing),t[r]=c,t):t}),{});return{runUuid:n,...r}}));return{isLoading:a,isRefreshing:o,resultsByRunUuid:(0,r.keyBy)(l,"runUuid")}}),((e,t)=>(0,r.isEqual)(e.resultsByRunUuid,t.resultsByRunUuid)&&e.isLoading===t.isLoading&&e.isRefreshing===t.isRefreshing)),y=(0,i.useCallback)((()=>{t.forEach((e=>{(0,r.chunk)(n,100).forEach((t=>{const n=(0,a.H)(t,e,u,p,"all");h(n)}))}))}),[h,u,n,t,p]),x=(0,i.useRef)(void 0),C=(0,i.useRef)(m&&e.enabled);C.current=m&&e.enabled;const b=(0,i.useMemo)((()=>n.join(",")),[n]);return(0,i.useEffect)((()=>{d&&!m&&t.forEach((e=>{(0,r.chunk)(n,100).forEach((t=>{const n=(0,a.H)(t,e,u,p);h(n)}))}))}),[h,u,n,t,p,d,m]),(0,i.useEffect)((()=>{let e=!1;if(!d||!m)return;const n=async function(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];const n=b.split(",").filter((e=>""!==e));await Promise.all(t.map((async t=>Promise.all((0,r.chunk)(n,100).map((async n=>h((0,a.H)(n,t,u,p,e?"auto":void 0))))))))},i=async()=>{if(C.current&&!e){try{await n(!0)}catch(t){c.A.logErrorAndNotifyUser(t)}clearTimeout(x.current),C.current&&!e&&(x.current=window.setTimeout(i,l.QB))}};return n().then(i),()=>{e=!0,clearTimeout(x.current)}}),[h,u,b,t,p,d,m]),{isLoading:f,isRefreshing:v,resultsByRunUuid:g,refresh:y}})({...e,enabled:n&&!v,autoRefreshEnabled:u&&!v}),x=(e=>{var t,n,o;let{metricKey:s,runUuids:a,autoRefreshEnabled:d,enabled:u,maxResults:f=320,range:v}=e;const y=(0,h.A)(),{data:x,refetch:C,startPolling:b,stopPolling:_,networkStatus:w,error:M}=(0,m.I)(g,{skip:!u,notifyOnNetworkStatusChange:!0,pollInterval:d?l.QB:void 0,onCompleted(e){var t,n,r,i;"RESOURCE_DOES_NOT_EXIST"===(null===(t=e.mlflowGetMetricHistoryBulkInterval)||void 0===t||null===(n=t.apiError)||void 0===n?void 0:n.code)?c.A.displayGlobalErrorNotification(y.formatMessage({id:"hm9IM7",defaultMessage:"Requested resource does not exist"})):null!==(r=e.mlflowGetMetricHistoryBulkInterval)&&void 0!==r&&null!==(i=r.apiError)&&void 0!==i&&i.message&&c.A.logErrorAndNotifyUser(new Error(e.mlflowGetMetricHistoryBulkInterval.apiError.message))},variables:{data:{runIds:a,metricKey:s,startStep:null!==(t=null===v||void 0===v?void 0:v[0])&&void 0!==t?t:null,endStep:null!==(n=null===v||void 0===v?void 0:v[1])&&void 0!==n?n:null,maxResults:f}}});return(0,i.useEffect)((()=>{d?b(l.QB):_()}),[d,b,_]),{resultsByRunUuid:(0,i.useMemo)((()=>{if(x){var e;const t=null===x||void 0===x||null===(e=x.mlflowGetMetricHistoryBulkInterval)||void 0===e?void 0:e.metrics,n=(0,r.groupBy)(t,"runId");return(0,r.keyBy)(a.map((e=>{var t;return{runUuid:e,[s]:{metricsHistory:null===(t=n[e])||void 0===t?void 0:t.map((e=>{let{key:t,step:n,timestamp:r,value:i}=e;return{key:null!==t&&void 0!==t?t:void 0,step:Number(n),timestamp:Number(r),value:null!==i&&void 0!==i?i:void 0}}))}}})),"runUuid")}return{}}),[x,s,a]),isLoading:w===p.p.loading||w===p.p.setVariables,isRefreshing:w===p.p.poll,refresh:C,error:M,apiError:null===x||void 0===x||null===(o=x.mlflowGetMetricHistoryBulkInterval)||void 0===o?void 0:o.apiError}})({...e,metricKey:t[0],enabled:n&&v,autoRefreshEnabled:u&&v});return v?x:y}},92103:function(e,t,n){"use strict";n.d(t,{FI:function(){return u},Oo:function(){return a},by:function(){return s},fQ:function(){return c},xl:function(){return l}});var r=n(25866),i=n(30152),o=n(76010);const s="-",a=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:2;if("number"===typeof e)return e.toFixed(t);if("string"===typeof e)return e;try{return JSON.stringify(e)}catch{return s}};let l=function(e){return e[e.POSITIVE=0]="POSITIVE",e[e.NEGATIVE=1]="NEGATIVE",e[e.SAME=2]="SAME",e}({});const c=(e,t)=>{if("number"===typeof e&&"number"===typeof t){const n=e-t;return 0===n?{label:a(n).toString(),direction:l.SAME}:n>0?{label:`+${a(n)}`,direction:l.POSITIVE}:{label:a(n).toString(),direction:l.NEGATIVE}}},d=(e,t)=>e!==s&&t!==s&&(typeof e!==typeof t||("number"===typeof e&&"number"===typeof t?Math.abs(e-t)>1e-6:"string"===typeof e&&"string"===typeof t&&e!==t)),u=(e,t,n,a)=>{const l=(r,i,o)=>Array.from(new Set(e.flatMap((e=>i(e))))).filter((e=>r(e))).sort().flatMap((r=>{const i={};let a=!1;return e.forEach(((t,n)=>{if(i[t.uuid]=o(t)[r]?o(t)[r].value:s,n>0){const r=e[n-1];d(i[r.uuid],i[t.uuid])&&(a=!0)}})),t.showDifferencesOnly&&!a?[]:[{[n]:r,...i}]})),c=l((e=>!e.startsWith(r.qt)),(e=>Object.keys(e.metrics)),(e=>e.metrics)),u=l((e=>e.startsWith(r.qt)),(e=>Object.keys(e.metrics)),(e=>e.metrics));if(a)return{modelMetrics:c,systemMetrics:u,parameters:[],tags:[],attributes:[]};return{modelMetrics:c,systemMetrics:u,parameters:l((()=>!0),(e=>Object.keys(e.params)),(e=>e.params)),tags:l((()=>!0),(e=>o.A.getVisibleTagValues(e.tags).map((e=>{let[t]=e;return t}))),(e=>e.tags)),attributes:[i.rJ.USER,i.rJ.SOURCE,i.rJ.VERSION,i.rJ.MODELS].flatMap((r=>{const s={};let a=!1;return e.forEach(((t,n)=>{if(r===i.rJ.USER){const e=o.A.getUser(t.runInfo,t.tags);s[t.uuid]=e}else if(r===i.rJ.SOURCE){const e=o.A.getSourceName(t.tags);s[t.uuid]=e}else if(r===i.rJ.VERSION){const e=o.A.getSourceVersion(t.tags);s[t.uuid]=e}else{const e=o.A.getLoggedModelsFromTags(t.tags);s[t.uuid]=e.join(",")}if(n>0){const r=e[n-1];d(s[r.uuid],s[t.uuid])&&(a=!0)}})),t.showDifferencesOnly&&!a?[]:[{[n]:r,...s}]}))}}},25121:function(e,t,n){"use strict";n.d(t,{CZ:function(){return s},_:function(){return i},p4:function(){return o}});var r=n(9133);const i=function(e,t){let n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];const i=(0,r.orderBy)((0,r.compact)((0,r.values)(e).map((e=>{let{metricsHistory:t}=e;return t})).flat()),"timestamp");if(i.length<2)return;const o=new Date(t[0]).valueOf(),s=new Date(t[1]).valueOf();let a=n?(0,r.first)(i):void 0;for(let r=0;r<i.length;r++){const e=i[r];if(e.timestamp>o){a=i[r-1]||e;break}}let l=n?(0,r.last)(i):void 0;for(let r=i.length-1;r>=0;r--){const e=i[r];if(e.timestamp<s){l=i[r+1]||e;break}}return(0,r.isUndefined)(a)||(0,r.isUndefined)(l)?void 0:[a.step,l.step]},o=(e,t,n,o)=>{const s=(0,r.compact)(t.map((t=>{var r;const s=null===(r=e[t])||void 0===r?void 0:r[n];return s?i(s,o,!1):void 0}))),a=(0,r.min)(s.map((e=>{let[t]=e;return t}))),l=(0,r.max)(s.map((e=>{let[,t]=e;return t})));if(!(0,r.isUndefined)(a)&&!(0,r.isUndefined)(l))return[a,l]},s=function(e,t,n){let i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1e3;const o=(0,r.compact)(t.map((t=>{var o;const s=e[t];if(!s)return null;const{runUuid:a,...l}=s,c=(0,r.values)(l).flatMap((e=>{var t;return null!==(t=e.metricsHistory)&&void 0!==t?t:[]})),d=(null===(o=(0,r.minBy)(c,"timestamp"))||void 0===o?void 0:o.timestamp)||0;return[n[0]*i+d,n[1]*i+d]}))),s=(0,r.min)(o.map((e=>{let[t]=e;return t}))),a=(0,r.max)(o.map((e=>{let[,t]=e;return t})));if(!(0,r.isUndefined)(s)&&!(0,r.isUndefined)(a))return[s,a]}},21039:function(e,t,n){"use strict";n.d(t,{K:function(){return r}});const r={CARD_PREVIEW:1,CARD_DRAGGED:2,TOOLTIP_CONTAINER:3,SEARCH_BAR:3,TOOLTIP:4}},81850:function(e,t,n){"use strict";n.d(t,{B:function(){return c}});var r=n(31014),i=n(4877),o=n.n(i),s=n(36118),a=n(62862),l=n(9133);const c=e=>{let{ungroupedRunsData:t,enabled:n,aggregateFunction:i,metricKeys:c,sampledDataResultsByRunUuid:d,selectedXAxisMetricKey:u,ignoreOutliers:p}=e;return(0,r.useMemo)((()=>{if(!n||!i)return t;return[...t.filter((e=>{let{groupParentInfo:t}=e;return t})).map((e=>{const t={};c.forEach((n=>{var r;o()(e.groupParentInfo,"groupParentInfo should be defined");const i=null!==(r=e.groupParentInfo.runUuidsForAggregation)&&void 0!==r?r:e.groupParentInfo.runUuids;let c;if((0,l.isNil)(u)){const e=(0,l.compact)(i.flatMap((e=>{var t,r;const i=null===(t=d[e])||void 0===t||null===(r=t[n])||void 0===r?void 0:r.metricsHistory;return p?i?(0,s.c1)(i):void 0:i}))),t=(0,l.uniq)(e.map((e=>e.step))).sort(((e,t)=>e-t));c=(0,a.yu)(t,n,e)}else c=(0,a.nN)((0,l.pick)(d,i),n,u,p);t[n]=c}));const n=c.reduce(((e,n)=>{const r=t[n][i];return r&&r.length>0&&(e[n]=r),e}),{});return{...e,metricsHistory:n,aggregatedMetricsHistory:t}})),...t.filter((e=>{let{belongsToGroup:t}=e;return!1===t}))]}),[c,d,t,n,i,u,p])}},34748:function(e,t,n){"use strict";n.d(t,{O:function(){return Ae}});var r=n(89555),i=n(28741),o=n(31014),s=n(60669),a=n(80171),l=n(50361),c=n(9133),d=n(91144);const u="request_metadata.`mlflow.sourceRun`",p="request_metadata.`mlflow.modelId`",m=e=>`run_id IN (${e.map((e=>`'${e}'`)).join(",")})`,h=e=>{let{experimentIds:t,sorting:n,filter:r="",runUuid:i,loggedModelId:h}=e;const[g,f]=(0,o.useState)([]),[v,y]=(0,o.useState)(!0),[x,C]=(0,o.useState)(void 0),b=(0,o.useMemo)((()=>{const e=(0,c.first)(n);return e&&a.CF.includes(e.id)?`${e.id} ${e.desc?"DESC":"ASC"}`:"timestamp_ms DESC"}),[n]),_=(0,o.useMemo)((()=>i||h?(0,d.Dz)()&&h?r?`${r} AND ${p}='${h}'`:`${p}='${h}'`:r?`${r} AND ${u}='${i}'`:`${u}='${i}'`:r),[r,i,h]),[w,M]=(0,o.useState)({0:void 0}),[Y,S]=(0,o.useState)(0),I=w[Y],A=(0,o.useCallback)((async e=>{let{experimentIds:t,currentPage:n=0,pageToken:r,silent:i,orderByString:o="",filterString:d=""}=e;i||y(!0),C(void 0);try{const e=await s.x.getExperimentTraces(t,o,r,d);if(!e.traces)return void f([]);const i=await(async(e,t)=>{const n=t.reduce(((e,t)=>{const n=t.request_id,r=(0,a.y)(t);return n&&r?{...e,[n]:r}:e}),{}),r=(0,c.uniq)((0,c.values)(n));if(r.length<1)return{};const i=((await s.x.searchRuns({experiment_ids:e,filter:m(r),run_view_type:l.qi.ALL})).runs||[]).reduce(((e,t)=>({...e,[t.info.runUuid]:t.info.runName})),{});return t.reduce(((e,t)=>{const r=t.request_id;if(!r)return e;const o=n[r];return{...e,[r]:i[o]||o}}),{})})(t,e.traces),u=e.traces.map((e=>{const t=e.request_id;if(!t)return{...e};const n=i[t];return{...e,runName:n}}));f(u),M((t=>({...t,[n+1]:e.next_page_token})))}catch(u){C(u)}finally{y(!1)}}),[]),E=!v&&void 0!==w[Y+1],k=!v&&(1===Y||void 0!==w[Y-1]);(0,o.useEffect)((()=>{A({experimentIds:t,filterString:_,orderByString:b})}),[A,_,t,b]);const R=(0,o.useCallback)((()=>{f([]),M({0:void 0}),S(0),A({experimentIds:t})}),[A,t]),T=(0,o.useCallback)((()=>{S((e=>e+1)),A({experimentIds:t,currentPage:Y+1,pageToken:w[Y+1],filterString:_,orderByString:b})}),[t,Y,A,w,_,b]),D=(0,o.useCallback)((()=>{S((e=>e-1)),A({experimentIds:t,currentPage:Y-1,pageToken:w[Y-1],filterString:_,orderByString:b})}),[t,Y,A,w,_,b]),L=(0,o.useCallback)((function(){return A({experimentIds:t,currentPage:Y,pageToken:I,silent:arguments.length>0&&void 0!==arguments[0]&&arguments[0],filterString:_,orderByString:b})}),[t,Y,A,I,_,b]);return{traces:g,loading:v,error:x,hasNextPage:E,hasPreviousPage:k,fetchNextPage:T,fetchPrevPage:D,refreshCurrentPage:L,reset:R}};var g=n(33678),f=n(70618),v=n(9856),y=n(76010),x=n(93215),C=n(52350),b=n(58481),_=n(88464),w=n(88443),M=n(98590),Y=n(98597),S=n(50111);var I={name:"1wcfv52",styles:"margin-right:0"};const A=e=>{let{onAddEditTags:t,tags:n,baseComponentId:o}=e;const{theme:s}=(0,i.a)(),a=(null===n||void 0===n?void 0:n.filter((e=>{let{key:t}=e;return t&&!t.startsWith(M.nt)})))||[],l=a.length>0;return(0,S.FD)("div",{css:(0,r.AH)({display:"flex",alignItems:"flex-start",flexWrap:"wrap",columnGap:s.spacing.xs/2,rowGap:s.spacing.xs/2},""),children:[a.map((e=>(0,S.Y)(Y.tj,{tag:e,css:I,charLimit:20,maxWidth:150,enableFullViewModal:!0},e.key)))," ",(0,S.Y)(i.B,{componentId:`${o}.traces_table.edit_tag`,size:"small",icon:l?(0,S.Y)(g.R2l,{}):(0,S.Y)(g.IPx,{}),onClick:t})]})};var E=n(87380);const k=(e,t)=>"IN_PROGRESS"===e?(0,S.Y)(E.C,{css:(0,r.AH)({color:t.colors.textValidationWarning},"")}):"OK"===e?(0,S.Y)(g.C1y,{css:(0,r.AH)({color:t.colors.textValidationSuccess},"")}):"ERROR"===e?(0,S.Y)(g.qhh,{css:(0,r.AH)({color:t.colors.textValidationDanger},"")}):null,R=e=>{let{row:{original:t}}=e;const{theme:n}=(0,i.a)(),o=(0,_.A)(),s=a.Ab[t.status||"UNSET"];return(0,S.FD)("div",{css:(0,r.AH)({display:"flex",gap:n.spacing.xs,alignItems:"center"},""),children:[k(t.status,n),s?o.formatMessage(s):""]})};var T={name:"ozd7xs",styles:"flex-shrink:0"},D={name:"1gz2b5f",styles:"overflow:hidden;text-overflow:ellipsis"};const L=e=>{let{value:t,traceId:n,previewFieldName:l}=e;const{theme:d}=(0,i.a)(),[u,p]=(0,o.useState)(!1),[m,h]=(0,o.useState)(null),[f,v]=(0,o.useState)(!1),x=(0,o.useCallback)((async()=>{v(!0);try{const e=await s.x.getExperimentTraceData(n);if(l in e){const t=e[l],n=(0,c.isString)(t)?t:JSON.stringify(t);h(n)}}catch(e){const t=e instanceof C.s?e.getUserVisibleError():e.message;y.A.logErrorAndNotifyUser(`Error fetching response: ${t}`)}v(!1)}),[l,n]),b=(0,o.useCallback)((async()=>{m||await x(),p(!0)}),[m,x]),_=(0,o.useCallback)((()=>{p(!1)}),[]),w=(0,a.cS)(t);return(0,S.FD)("div",{css:(0,r.AH)({display:"flex",gap:d.spacing.xs},""),children:[w&&(0,S.Y)(i.B,{componentId:"mlflow.traces.traces_table.expand_cell_preview",size:"small",icon:u?(0,S.Y)(g.D3D,{}):(0,S.Y)(i.m,{}),onClick:u?_:b,css:T,loading:f,type:"primary"}),(0,S.Y)("div",{title:t,css:D,children:u?(0,S.Y)(F,{value:null!==m&&void 0!==m?m:t}):t})]})},F=e=>{let{value:t}=e;const n=(0,o.useMemo)((()=>{try{const e=JSON.parse(t);return JSON.stringify(e,null,2)}catch(e){return null}}),[t]);return(0,S.Y)("div",{css:(0,r.AH)({whiteSpace:"pre-wrap",wordBreak:"break-word",fontFamily:n?"monospace":void 0},""),children:n||t})},H=e=>{let{row:{original:t}}=e;return(0,S.Y)(L,{previewFieldName:"request",traceId:t.request_id||"",value:(0,a.h)(t)||""})},N=e=>{let{row:{original:t}}=e;return(0,S.Y)(L,{previewFieldName:"response",traceId:t.request_id||"",value:(0,a.Mq)(t)||""})};var O=n(15164);const K=e=>{let{row:{original:t}}=e;return(0,S.Y)(O.t,{value:(0,c.keyBy)(t.tags,"key")})},P=e=>`--header-${e}-size`,z=e=>`--col-${e}-size`,U=o.memo((e=>{let{row:t}=e;const{theme:n}=(0,i.a)();return(0,S.Y)("div",{role:"row","data-testid":"endpoints-list-table-rows",css:(0,r.AH)({minHeight:n.general.buttonHeight,display:"flex",flexDirection:"row",":hover":{backgroundColor:"var(--table-row-hover)"}},""),children:t.getAllCells().map((e=>{var t,r;const i=null===(t=e.column.columnDef.meta)||void 0===t?void 0:t.multiline,o=e.column.id===a._H?n.spacing.sm:`${n.spacing.sm}px ${n.spacing.xs}px`;return(0,S.Y)("div",{role:"cell",css:[{"--table-row-vertical-padding":`${n.spacing.sm}px`,flex:`calc(var(${z(e.column.id)}) / 100)`,overflow:"hidden",borderBottom:"1px solid var(--table-separator-color)",whiteSpace:i?"pre-wrap":"nowrap",textOverflow:i?"ellipsis":void 0,padding:o},null===(r=e.column.columnDef.meta)||void 0===r?void 0:r.styles,""],children:(0,f.Kv)(e.column.columnDef.cell,e.getContext())},e.id)}))},t.id)}),((e,t)=>e.columns===t.columns&&e.selected===t.selected&&(0,c.isEqual)(e.row.original.tags,t.row.original.tags))),B=o.memo((e=>{let{row:{original:t}}=e;return t.timestamp_ms?(0,S.Y)(g.paO,{title:new Date(t.timestamp_ms).toLocaleString(navigator.language,{timeZoneName:"short"}),placement:"right",children:(0,S.Y)("span",{children:y.A.timeSinceStr(t.timestamp_ms)})}):null}),(()=>!0)),j=e=>{let{table:t}=e;const n=t.getIsAllRowsSelected()||!!t.getIsSomeRowsSelected()&&null;return(0,S.Y)(g.Sc0,{componentId:"codegen_mlflow_app_src_experiment-tracking_components_traces_tracesviewtableheadercheckbox.tsx_14","data-testid":"trace-table-header-checkbox",isChecked:n,wrapperStyle:{padding:0,margin:0},onChange:t.toggleAllRowsSelected})},W=e=>{let{row:t}=e;return(0,S.Y)(g.Sc0,{componentId:"codegen_mlflow_app_src_experiment-tracking_components_traces_tracesviewtablecellcheckbox.tsx_12","data-testid":`trace-table-cell-checkbox-${t.id}`,disabled:!t.getCanSelect(),isChecked:t.getIsSelected(),wrapperStyle:{padding:0,margin:0},onChange:()=>t.toggleSelected()})};var G=n(37616),$=n(56412);var V={name:"1hyob9y",styles:"position:relative;width:min-content"};const q=e=>{let{baseComponentId:t,experimentId:n,runUuid:o}=e;const{theme:s}=(0,i.a)(),a=`import mlflow\nfrom langchain_openai import OpenAI\nfrom langchain_core.prompts import PromptTemplate\n${n?`\nmlflow.set_experiment(experiment_id="${n}")`:""}\nmlflow.langchain.autolog()\n\n# Ensure that the "OPENAI_API_KEY" environment variable is set\nllm = OpenAI()\nprompt = PromptTemplate.from_template("Answer the following question: {question}")\nchain = prompt | llm\n\n# Invoking the chain will cause a trace to be logged\n${o?"with mlflow.start_run():\n    ":""}chain.invoke("What is MLflow?")`;return(0,S.FD)("div",{children:[(0,S.Y)(i.p.Text,{children:(0,S.Y)(w.A,{id:"7/urtn",defaultMessage:"Automatically log traces for LangChain or LangGraph invocations by calling the {code} function. For example:",values:{code:(0,S.Y)("code",{children:"mlflow.langchain.autolog()"})}})}),(0,S.FD)("div",{css:V,children:[(0,S.Y)($.i,{componentId:`${t}.traces_table.langchain_quickstart_snippet_copy`,css:(0,r.AH)({zIndex:1,position:"absolute",top:s.spacing.xs,right:s.spacing.xs},""),showLabel:!1,copyText:a,icon:(0,S.Y)(g.TdU,{})}),(0,S.Y)(G.z7,{showLineNumbers:!0,style:{padding:`${s.spacing.sm}px ${s.spacing.md}px`,marginTop:s.spacing.md},language:"python",children:a})]})]})};var X={name:"1hyob9y",styles:"position:relative;width:min-content"};const J=e=>{let{baseComponentId:t,experimentId:n,runUuid:o}=e;const{theme:s}=(0,i.a)(),a=`import mlflow\nfrom llama_index.core import Document, VectorStoreIndex\n${n?`\nmlflow.set_experiment(experiment_id="${n}")`:""}\nmlflow.llama_index.autolog()\n\n# Ensure that the "OPENAI_API_KEY" environment variable is set\nindex = VectorStoreIndex.from_documents([Document.example()])\nquery_engine = index.as_query_engine()\n\n# Querying the engine will cause a trace to be logged\n${o?"with mlflow.start_run():\n    ":""}query_engine.query("What is LlamaIndex?")`;return(0,S.FD)("div",{children:[(0,S.Y)(i.p.Text,{children:(0,S.Y)(w.A,{id:"/v6KuF",defaultMessage:"Automatically log traces for LlamaIndex queries by calling the {code} function. For example:",values:{code:(0,S.Y)("code",{children:"mlflow.llama_index.autolog()"})}})}),(0,S.FD)("div",{css:X,children:[(0,S.Y)($.i,{componentId:`${t}.traces_table.llama_index_quickstart_snippet_copy`,css:(0,r.AH)({zIndex:1,position:"absolute",top:s.spacing.xs,right:s.spacing.xs},""),showLabel:!1,copyText:a,icon:(0,S.Y)(g.TdU,{})}),(0,S.Y)(G.z7,{showLineNumbers:!0,style:{padding:`${s.spacing.sm}px ${s.spacing.md}px`,marginTop:s.spacing.md},language:"python",children:a})]})]})};var Z={name:"1hyob9y",styles:"position:relative;width:min-content"};const Q=e=>{let{baseComponentId:t,experimentId:n,runUuid:o}=e;const{theme:s}=(0,i.a)(),a=`import mlflow\n${n?`\nmlflow.set_experiment(experiment_id="${n}")\n`:""}\n@mlflow.trace\ndef foo(a):\n    return a + bar(a)\n\n# Various attributes can be passed to the decorator\n# to modify the information contained in the span\n@mlflow.trace(name="custom_name", attributes={"key": "value"})\ndef bar(b):\n    return b + 1\n\n# Invoking the traced function will cause a trace to be logged\n${o?"with mlflow.start_run():\n    ":""}foo(1)`;return(0,S.FD)("div",{children:[(0,S.Y)(i.p.Text,{children:(0,S.Y)(w.A,{id:"yTwAJ4",defaultMessage:"To manually instrument your own traces, the most convenient method is to use the {code} function decorator. This will cause the inputs and outputs of the function to be captured in the trace. For example:",values:{code:(0,S.Y)("code",{children:"@mlflow.trace"})}})}),(0,S.FD)("div",{css:Z,children:[(0,S.Y)($.i,{componentId:`${t}.traces_table.custom_quickstart_snippet_copy`,css:(0,r.AH)({zIndex:1,position:"absolute",top:s.spacing.xs,right:s.spacing.xs},""),showLabel:!1,copyText:a,icon:(0,S.Y)(g.TdU,{})}),(0,S.Y)(G.z7,{showLineNumbers:!0,style:{padding:`${s.spacing.sm}px ${s.spacing.md}px`,marginTop:s.spacing.md,marginBottom:s.spacing.md},language:"python",children:a})]}),(0,S.Y)(i.p.Text,{children:(0,S.Y)(w.A,{id:"WNz02j",defaultMessage:"For more complex use cases, MLflow also provides granular APIs that can be used to control tracing behavior. For more information, please visit the <a>official documentation</a> on fluent and client APIs for MLflow Tracing.",values:{a:e=>(0,S.Y)(i.p.Link,{title:"official documentation",componentId:`${t}.traces_table.custom_tracing_docs_link`,href:"https://mlflow.org/docs/latest/llms/tracing/index.html#tracing-fluent-apis",openInNewTab:!0,children:e})}})})]})};var ee={name:"1hyob9y",styles:"position:relative;width:min-content"};const te=e=>{let{baseComponentId:t,experimentId:n,runUuid:o}=e;const{theme:s}=(0,i.a)(),a=`import os\nimport mlflow\nfrom autogen import AssistantAgent, UserProxyAgent\n${n?`\nmlflow.set_experiment(experiment_id="${n}")`:""}\nmlflow.autogen.autolog()\n\n# Ensure that the "OPENAI_API_KEY" environment variable is set\nllm_config = {"model": "gpt-4o-mini", "api_key": os.environ["OPENAI_API_KEY"]}\nassistant = AssistantAgent("assistant", llm_config=llm_config)\nuser_proxy = UserProxyAgent("user_proxy", code_execution_config=False)\n\n# All intermediate executions within the chat session will be logged\n${o?"with mlflow.start_run():\n    ":""}user_proxy.initiate_chat(assistant, message="What is MLflow?", max_turns=1)`;return(0,S.FD)("div",{children:[(0,S.Y)(i.p.Text,{children:(0,S.Y)(w.A,{id:"i/pJvo",defaultMessage:"Automatically log traces for AutoGen conversations by calling the {code} function. For example:",values:{code:(0,S.Y)("code",{children:"mlflow.autogen.autolog()"})}})}),(0,S.FD)("div",{css:ee,children:[(0,S.Y)($.i,{componentId:`${t}.traces_table.autogen_quickstart_snippet_copy`,css:(0,r.AH)({zIndex:1,position:"absolute",top:s.spacing.xs,right:s.spacing.xs},""),showLabel:!1,copyText:a,icon:(0,S.Y)(g.TdU,{})}),(0,S.Y)(G.z7,{showLineNumbers:!0,style:{padding:`${s.spacing.sm}px ${s.spacing.md}px`,marginTop:s.spacing.md},language:"python",children:a})]})]})};var ne={name:"1hyob9y",styles:"position:relative;width:min-content"};const re=e=>{let{baseComponentId:t,experimentId:n,runUuid:o}=e;const{theme:s}=(0,i.a)(),a=`import mlflow\nfrom openai import OpenAI\n${n?`\nmlflow.set_experiment(experiment_id="${n}")`:""}\nmlflow.openai.autolog()\n\n# Ensure that the "OPENAI_API_KEY" environment variable is set\nclient = OpenAI()\n\nmessages = [\n  {"role": "system", "content": "You are a helpful assistant."},\n  {"role": "user", "content": "Hello!"}\n]\n\n# Inputs and outputs of the API request will be logged in a trace\n${o?"with mlflow.start_run():\n    ":""}client.chat.completions.create(model="gpt-4o-mini", messages=messages)`;return(0,S.FD)("div",{children:[(0,S.Y)(i.p.Text,{children:(0,S.Y)(w.A,{id:"smtq2M",defaultMessage:"Automatically log traces for OpenAI API calls by calling the {code} function. For example:",values:{code:(0,S.Y)("code",{children:"mlflow.openai.autolog()"})}})}),(0,S.FD)("div",{css:ne,children:[(0,S.Y)($.i,{componentId:`${t}.traces_table.openai_quickstart_snippet_copy`,css:(0,r.AH)({zIndex:1,position:"absolute",top:s.spacing.xs,right:s.spacing.xs},""),showLabel:!1,copyText:a,icon:(0,S.Y)(g.TdU,{})}),(0,S.Y)(G.z7,{showLineNumbers:!0,style:{padding:`${s.spacing.sm}px ${s.spacing.md}px`,marginTop:s.spacing.md},language:"python",children:a})]})]})},ie=e=>{let{baseComponentId:t,experimentIds:n,runUuid:o}=e;const{theme:s}=(0,i.a)(),a=1===n.length?n[0]:null;return(0,S.FD)("div",{css:(0,r.AH)({marginLeft:-s.spacing.md},""),children:[(0,S.Y)(g.Y9Y,{title:(0,S.Y)(w.A,{id:"6d5JTO",defaultMessage:"No traces recorded"}),titleElementLevel:3}),(0,S.Y)(i.p.Text,{css:(0,r.AH)({display:"block",marginTop:s.spacing.md,marginBottom:s.spacing.md},""),children:(0,S.Y)(w.A,{id:"jLvmck",defaultMessage:"This tab displays all the traces logged to this {isRun, select, true {run} other {experiment}}. MLflow supports automatic tracing for many popular generative AI frameworks. Follow the steps below to log your first trace. For more information about MLflow Tracing, visit the <a>MLflow documentation</a>.",values:{isRun:!(0,c.isNil)(o),a:e=>(0,S.Y)(i.p.Link,{componentId:`${t}.traces_table.quickstart_docs_link`,href:"https://mlflow.org/docs/latest/llms/tracing/index.html",openInNewTab:!0,children:e})}})}),(0,S.FD)(g.tUM.Root,{componentId:`${t}.traces_table.quickstart`,defaultValue:"langchain",children:[(0,S.FD)(g.tUM.List,{children:[(0,S.Y)(g.tUM.Trigger,{value:"langchain",children:(0,S.Y)(w.A,{id:"aseJdC",defaultMessage:"LangChain / LangGraph"})}),(0,S.Y)(g.tUM.Trigger,{value:"llama-index",children:(0,S.Y)(w.A,{id:"7UncLb",defaultMessage:"LlamaIndex"})}),(0,S.Y)(g.tUM.Trigger,{value:"autogen",children:(0,S.Y)(w.A,{id:"nPqKse",defaultMessage:"AutoGen"})}),(0,S.Y)(g.tUM.Trigger,{value:"openai",children:(0,S.Y)(w.A,{id:"n4m7x9",defaultMessage:"OpenAI"})}),(0,S.Y)(g.tUM.Trigger,{value:"custom",children:(0,S.Y)(w.A,{id:"+iY2p8",defaultMessage:"Custom"})})]}),(0,S.Y)(g.tUM.Content,{value:"langchain",children:(0,S.Y)(q,{baseComponentId:t,experimentId:a,runUuid:o})}),(0,S.Y)(g.tUM.Content,{value:"llama-index",children:(0,S.Y)(J,{baseComponentId:t,experimentId:a,runUuid:o})}),(0,S.Y)(g.tUM.Content,{value:"autogen",children:(0,S.Y)(te,{baseComponentId:t,experimentId:a,runUuid:o})}),(0,S.Y)(g.tUM.Content,{value:"openai",children:(0,S.Y)(re,{baseComponentId:t,experimentId:a,runUuid:o})}),(0,S.Y)(g.tUM.Content,{value:"custom",children:(0,S.Y)(Q,{baseComponentId:t,experimentId:a,runUuid:o})})]})]})};var oe={name:"s09txq",styles:"max-width:100%;text-overflow:ellipsis"},se={name:"s09txq",styles:"max-width:100%;text-overflow:ellipsis"},ae={name:"hgn0g7",styles:"max-width:100%;text-overflow:ellipsis;display:inline-block;overflow:hidden"};const le=o.memo((e=>{let{experimentIds:t,runUuid:n,traces:r,loading:s,error:l,onTraceClicked:d,onTraceTagsEdit:u,hasNextPage:p,hasPreviousPage:m,onNextPage:h,onPreviousPage:M,usingFilters:Y,onResetFilters:I,sorting:E,setSorting:k,rowSelection:T,setRowSelection:D,hiddenColumns:L=[],disableTokenColumn:F,baseComponentId:O}=e;const G=(0,_.A)(),$=(0,o.useMemo)((()=>{const e=[{id:a._H,header:j,enableResizing:!1,enableSorting:!1,cell:W,meta:{styles:{minWidth:32,maxWidth:32}}},{header:G.formatMessage(a.YO[a.se.requestId]),enableSorting:!1,enableResizing:!0,id:a.se.requestId,cell(e){let{row:{original:t}}=e;return(0,S.Y)(i.p.Link,{componentId:`${O}.traces_table.request_id_link`,ellipsis:!0,css:oe,onClick:()=>{null===d||void 0===d||d(t)},children:t.request_id})},meta:{styles:{minWidth:200}}},{header:G.formatMessage(a.YO[a.se.traceName]),enableSorting:!1,enableResizing:!0,id:a.se.traceName,cell(e){let{row:{original:t}}=e;return(0,S.Y)(i.p.Link,{componentId:`${O}.traces_table.trace_name_link`,ellipsis:!0,css:se,onClick:()=>{null===d||void 0===d||d(t)},children:(0,a.dY)(t,a.Nh)})},meta:{styles:{minWidth:150}}},{header:G.formatMessage(a.YO[a.se.timestampMs]),id:a.se.timestampMs,accessorFn:e=>e.timestamp_ms,enableSorting:!0,enableResizing:!1,cell:B,meta:{styles:{minWidth:140,maxWidth:140}}},{header:G.formatMessage(a.YO[a.se.status]),id:a.se.status,enableSorting:!1,enableResizing:!1,cell:R,meta:{styles:{minWidth:110,maxWidth:110}}},{header:G.formatMessage(a.YO[a.se.inputs]),id:a.se.inputs,enableSorting:!1,enableResizing:!0,cell:H,meta:{multiline:!0}},{header:G.formatMessage(a.YO[a.se.outputs]),enableSorting:!1,enableResizing:!0,id:a.se.outputs,cell:N,meta:{multiline:!0}},{header:G.formatMessage(a.YO[a.se.runName]),enableSorting:!1,enableResizing:!0,id:a.se.runName,cell(e){let{row:{original:t}}=e;const n=(0,a.y)(t);if(!n||!t.experiment_id)return null;const r=t.runName||n;return(0,S.Y)(x.N_,{css:ae,to:b.h.getRunPageRoute(t.experiment_id,n),children:r})}},{header:G.formatMessage(a.YO[a.se.source]),enableSorting:!0,enableResizing:!0,id:a.se.source,cell:K,meta:{styles:{minWidth:100}}}];return F||e.push({header:G.formatMessage(a.YO[a.se.totalTokens]),enableSorting:!1,enableResizing:!0,id:a.se.totalTokens,accessorFn:e=>(0,a.oj)(e),meta:{styles:{minWidth:80,maxWidth:80}}}),e.push({header:G.formatMessage(a.YO[a.se.latency]),enableSorting:!1,enableResizing:!1,id:a.se.latency,accessorFn:e=>(0,c.isNil)(e.execution_time_ms)||!isFinite(e.execution_time_ms)?null:y.A.formatDuration(e.execution_time_ms),meta:{styles:{width:120}}},{header:G.formatMessage(a.YO[a.se.tags]),enableSorting:!1,enableResizing:!0,id:a.se.tags,cell(e){let{row:{original:t}}=e;return(0,S.Y)(A,{tags:t.tags||[],onAddEditTags:()=>null===u||void 0===u?void 0:u(t),baseComponentId:O})}}),e.filter((e=>e.id&&!L.includes(e.id)))}),[G,d,u,F,L,O]),V=(0,f.N4)({columns:$,data:r,state:{sorting:E,rowSelection:T},getCoreRowModel:(0,v.HT)(),getRowId:(e,t)=>e.request_id||t.toString(),getSortedRowModel:(0,v.h5)(),onSortingChange:k,onRowSelectionChange:D,enableColumnResizing:!0,enableRowSelection:!0,columnResizeMode:"onChange"}),q=V.getState().columnSizingInfo,X=o.useMemo((()=>{const e=V.getFlatHeaders(),t={};return e.forEach((e=>{t[P(e.id)]=e.getSize(),t[z(e.column.id)]=e.column.getSize()})),t}),[q,$,V]);return(0,S.FD)(g.XIK,{scrollable:!0,empty:(()=>{if(l){const e=l instanceof C.s?l.getMessageField():l.message;return(0,S.Y)(g.SvL,{image:(0,S.Y)(i.y,{}),description:e,title:(0,S.Y)(w.A,{id:"Cj2i02",defaultMessage:"Error"})})}return!s&&0===r.length&&Y?(0,S.Y)(g.SvL,{description:(0,S.Y)(w.A,{id:"LTe7m4",defaultMessage:"No traces found with the current filter query. <button>Reset filters</button> to see all traces.",values:{button:e=>(0,S.Y)(i.p.Link,{componentId:"codegen_mlflow_app_src_experiment-tracking_components_traces_tracesviewtable.tsx_289",onClick:I,children:e})}}),title:(0,S.Y)(w.A,{id:"yeEPjS",defaultMessage:"No traces found"})}):s||0!==r.length?null:(0,S.Y)(ie,{baseComponentId:O,experimentIds:t,runUuid:n})})(),style:X,pagination:(0,S.Y)(g.vIA,{componentId:`${O}.traces_table.pagination`,hasNextPage:p,hasPreviousPage:m,onNextPage:h,onPreviousPage:M}),children:[(0,S.Y)(g.Hjg,{isHeader:!0,children:V.getLeafHeaders().map((e=>{var t;return(0,S.Y)(g.A0N,{componentId:"codegen_mlflow_app_src_experiment-tracking_components_traces_tracesviewtable.tsx_365",css:null===(t=e.column.columnDef.meta)||void 0===t?void 0:t.styles,sortable:e.column.getCanSort(),sortDirection:e.column.getIsSorted()||"none",onToggleSort:e.column.getToggleSortingHandler(),resizable:e.column.getCanResize(),resizeHandler:e.getResizeHandler(),isResizing:e.column.getIsResizing(),style:{flex:`calc(var(${P(e.id)}) / 100)`},children:(0,f.Kv)(e.column.columnDef.header,e.getContext())},e.id)}))}),s&&(0,S.Y)(g.BAM,{table:V}),!s&&!l&&V.getRowModel().rows.map((e=>(0,S.Y)(U,{row:e,columns:$,selected:T[e.id]},e.id)))]})}));var ce=n(50353);var de=n(47664);const ue=e=>{let{modelTrace:t,height:n=700,useLatestVersion:i=!1}=e;const s=(0,o.useRef)(null),[a,l]=o.useState(!0);return(0,o.useEffect)((()=>{const e=e=>{var t;const n=null===(t=s.current)||void 0===t?void 0:t.contentWindow;if(n&&e.source===n&&e.data.type===pe.Ready)l(!1)};return window.addEventListener("message",e),()=>{window.removeEventListener("message",e)}}),[t]),(0,o.useEffect)((()=>{var e;const n=null===(e=s.current)||void 0===e?void 0:e.contentWindow;n&&!a&&n.postMessage({type:me.UpdateTrace,traceData:t})}),[t,a]),(0,S.FD)("div",{css:(0,r.AH)({height:n},""),children:[a&&(0,S.FD)("div",{css:(0,r.AH)({position:"absolute",width:"100%",height:n},""),children:[(0,S.Y)(g.oud,{}),(0,S.Y)(g.QvX,{lines:5})]}),(0,S.Y)("iframe",{title:"Model Trace Explorer",src:`static-files/lib/ml-model-trace-renderer/index.html?version=${de.Rx}`,ref:s,css:(0,r.AH)({border:"none",width:"100%",height:n},"")})]})};let pe=function(e){return e.Ready="READY",e}({}),me=function(e){return e.UpdateTrace="UPDATE_TRACE",e}({});const he=e=>{let{requestId:t,traceInfo:n,loadingTraceInfo:l,onClose:c}=e;const{traceData:d,loading:u,error:p}=function(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const[n,r]=(0,o.useState)(void 0),[i,a]=(0,o.useState)(!1),[l,c]=(0,o.useState)(void 0),d=(0,o.useCallback)((async e=>{a(!0);try{const t=await s.x.getExperimentTraceData(e);Array.isArray(t.spans)?r(t):y.A.logErrorAndNotifyUser("Invalid trace data response: "+JSON.stringify(null===t||void 0===t?void 0:t.toString()))}catch(t){c(t)}a(!1)}),[]);return(0,o.useEffect)((()=>{e&&!t&&d(e)}),[d,e,t]),{traceData:n,loading:i,error:l}}(t,"IN_PROGRESS"===(null===n||void 0===n?void 0:n.status)),{theme:m}=(0,i.a)(),h=!l&&!n,{traceInfo:f,loading:v}=function(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];const[n,r]=(0,o.useState)(void 0),[i,a]=(0,o.useState)(t),[l,c]=(0,o.useState)(void 0),d=(0,o.useCallback)((async()=>{if(t){c(void 0);try{const t=await s.x.getExperimentTraceInfo(e);if(!t.trace_info)return void r(void 0);r(t.trace_info)}catch(n){c(n)}finally{a(!1)}}}),[t,e]);return(0,o.useEffect)((()=>{d()}),[d]),{traceInfo:n,loading:i,error:l}}(t,h),x=n||f,C=(0,o.useMemo)((()=>l||v?(0,S.Y)(g.oud,{}):x?(0,a.Db)(x):t),[l,v,x,t]),b=(0,o.useMemo)((()=>d?{trace_info:x||{},info:x||{},trace_data:d,data:d}:void 0),[d,x]),_=((null===d||void 0===d?void 0:d.spans)||[]).length>0;return(0,S.Y)(g._s.Root,{modal:!0,open:!0,onOpenChange:e=>{e||c()},children:(0,S.Y)(g._s.Content,{componentId:"codegen_mlflow_app_src_experiment-tracking_components_traces_tracedatadrawer.tsx_222",width:"85vw",title:C,expandContentToFullHeight:!0,children:u||l||v?(0,S.FD)(S.FK,{children:[(0,S.Y)(g.oud,{}),(0,S.Y)(g.QvX,{lines:5})]}):"IN_PROGRESS"===(null===n||void 0===n?void 0:n.status)?(0,S.FD)(S.FK,{children:[(0,S.Y)(ce.S,{size:"lg"}),(0,S.Y)(g.SvL,{image:(0,S.Y)(i.W,{}),description:(0,S.Y)(w.A,{id:"K+5g8S",defaultMessage:"Trace data is not available for in-progress traces. Please wait for the trace to complete."}),title:(0,S.Y)(w.A,{id:"p0O0uP",defaultMessage:"Trace data not available"})})]}):p?(0,S.FD)(S.FK,{children:[(0,S.Y)(ce.S,{size:"lg"}),(0,S.Y)(g.SvL,{image:(0,S.Y)(i.y,{}),description:(0,S.Y)(w.A,{id:"OmxT3D",defaultMessage:"An error occurred while attemptying to fetch the trace data. Please wait a moment and try again."}),title:(0,S.Y)(w.A,{id:"eavoW/",defaultMessage:"Error"})})]}):_?b?(0,S.Y)("div",{css:(0,r.AH)({height:`calc(100% - ${m.spacing.sm}px)`,marginLeft:-m.spacing.lg,marginRight:-m.spacing.lg,marginBottom:-m.spacing.lg},""),onWheel:e=>e.stopPropagation(),children:(0,S.Y)(ue,{modelTrace:b,height:"100%"})}):null:(0,S.FD)(S.FK,{children:[(0,S.Y)(ce.S,{size:"lg"}),(0,S.Y)(g.SvL,{description:null,title:(0,S.Y)(w.A,{id:"EpFST9",defaultMessage:"No trace data recorded"})})]})})})};var ge=n(43683);const fe=e=>{let{experimentIds:t,visible:n,rowSelection:r,setRowSelection:a,handleClose:l,refreshTraces:d}=e;const u=(0,_.A)(),[p,m]=(0,o.useState)(""),[h,g]=(0,o.useState)(!1),f=(0,c.keys)((0,c.pickBy)(r,(e=>e)));return(0,S.FD)(ce.M,{componentId:"codegen_mlflow_app_src_experiment-tracking_components_traces_tracesviewdeletetracemodal.tsx_62",title:(0,S.Y)(w.A,{id:"gRz1nB",defaultMessage:"{count, plural, one {Delete Trace} other {Delete Traces}}",values:{count:f.length}}),visible:n,onCancel:l,okText:(0,S.Y)(w.A,{id:"g56Cuk",defaultMessage:"Delete {count, plural, one { # trace } other { # traces }}",values:{count:f.length}}),onOk:()=>{(async()=>{try{var e;await s.x.deleteTraces(null!==(e=t[0])&&void 0!==e?e:"",f),a({}),d(),l()}catch(n){m(u.formatMessage({id:"zhzZUu",defaultMessage:"An error occured while attempting to delete traces. Please refresh the page and try again."}))}g(!1)})(),g(!0)},okButtonProps:{loading:h,danger:!0},children:[p&&(0,S.Y)(i.p.Paragraph,{color:"error",children:p}),(0,S.Y)(i.p.Paragraph,{children:(0,S.Y)(i.p.Text,{bold:!0,children:(0,S.Y)(w.A,{id:"kmtWGf",defaultMessage:"{count, plural, one { # trace } other { # traces }} will be deleted.",values:{count:f.length}})})}),(0,S.Y)(i.p.Paragraph,{children:(0,S.Y)(w.A,{id:"VfGJFc",defaultMessage:"Deleted traces cannot be restored. Are you sure you want to proceed?"})})]})},ve=e=>{let{experimentIds:t,rowSelection:n,setRowSelection:s,refreshTraces:a,baseComponentId:l}=e;const[c,d]=(0,o.useState)(!1),{theme:u}=(0,i.a)(),p=(0,o.useCallback)((()=>{d(!0)}),[d]),m=(0,o.useCallback)((()=>{d(!1)}),[d]);return(0,S.FD)("div",{css:(0,r.AH)({display:"flex",flexDirection:"row",alignItems:"center",gap:u.spacing.sm},""),children:[(0,S.Y)(i.B,{componentId:`${l}.traces_table.delete_traces`,onClick:p,danger:!0,children:(0,S.Y)(w.A,{id:"QAyzA3",defaultMessage:"Delete"})}),(0,S.Y)(fe,{experimentIds:t,visible:c,rowSelection:n,handleClose:m,refreshTraces:a,setRowSelection:s})]})};const ye=e=>{let{baseComponentId:t}=e;const{theme:n}=(0,i.a)();return(0,S.FD)(i.a2.Root,{componentId:"codegen_mlflow_app_src_experiment-tracking_components_traces_tracesviewcontrols.tsx_28",modal:!1,children:[(0,S.Y)(i.a2.Trigger,{asChild:!0,children:(0,S.Y)(i.B,{size:"small",type:"link",icon:(0,S.Y)(ce.I,{css:(0,r.AH)({svg:{width:16,height:16,color:n.colors.textSecondary}},"")}),componentId:`${t}.traces_table.filter_tooltip`})}),(0,S.FD)(i.a2.Content,{children:[(0,S.Y)(i.a2.Arrow,{}),(0,S.Y)(i.p.Paragraph,{children:(0,S.Y)(w.A,{id:"2Ofya9",defaultMessage:"Search traces using a simplified version of the SQL {whereBold} clause.",values:{whereBold:(0,S.Y)("b",{children:"WHERE"})}})}),(0,S.Y)(w.A,{id:"U3btBc",defaultMessage:"Examples:"}),(0,S.Y)("ul",{children:(0,S.Y)("li",{children:(0,S.Y)("code",{children:'tags.some_tag = "abc"'})})})]})]})};var xe={name:"1ykowef",styles:"margin-bottom:0"},Ce={name:"ikeoj9",styles:"width:430px"},be={name:"1j5vobt",styles:"display:flex;align-items:center;gap:4px"};const _e=e=>{let{experimentIds:t,filter:n,onChangeFilter:r,hiddenColumns:i=[],disabledColumns:s=[],toggleHiddenColumn:l,rowSelection:d,setRowSelection:u,refreshTraces:p,baseComponentId:m}=e;const h=(0,_.A)(),[f,v]=(0,o.useState)(n||void 0),y=(0,o.useMemo)((()=>(0,c.entries)(a.YO).map((e=>{let[t,n]=e;return{key:t,label:h.formatMessage(n)}})).filter((e=>{let{key:t}=e;return!s.includes(t)}))),[h,s]),x=null!==f&&void 0!==f?f:n;return Object.values(d).filter(Boolean).length>0?(0,S.Y)(ve,{experimentIds:t,rowSelection:d,setRowSelection:u,refreshTraces:p,baseComponentId:m}):(0,S.FD)(g.R9P,{css:xe,children:[(0,S.Y)(E.I,{componentId:`${m}.traces_table.search_filter`,placeholder:h.formatMessage({id:"FPMrvd",defaultMessage:"Search traces"}),value:x,css:Ce,onChange:e=>v(e.target.value),prefix:(0,S.Y)(g.WIv,{}),suffix:(0,S.Y)(ye,{baseComponentId:m}),allowClear:!0,onClear:()=>{r(""),v(void 0)},onKeyDown:e=>{"Enter"===e.key&&(r(x),v(void 0))}}),(0,S.FD)(g.AYc,{componentId:`${m}.traces_table.column_selector`,label:(0,S.FD)("div",{css:be,children:[(0,S.Y)(g.jng,{}),(0,S.Y)(w.A,{id:"5TRN+F",defaultMessage:"Columns"})]}),children:[(0,S.Y)(g.gGe,{"aria-label":h.formatMessage({id:"5TRN+F",defaultMessage:"Columns"})}),(0,S.Y)(g.dn6,{children:(0,S.Y)(g.HI_,{children:(0,S.Y)(g.dhl,{children:y.map((e=>{let{key:t,label:n}=e;return(0,S.Y)(g.jTC,{value:t,checked:!i.includes(t),onChange:()=>l(t),children:n},t)}))})})})]})]})};var we=n(32614);const Me={hiddenColumns:[a.se.traceName,a.se.source]},Ye=e=>{const t=(0,o.useMemo)((()=>{const t=JSON.stringify(e.slice().sort());return we.A.getStoreForComponent("ExperimentViewTraces",t)}),[e]),[n,r]=(0,o.useState)((()=>(e=>{try{const t=e.getItem("uiState"),n=JSON.parse(t);return(0,c.isObject)(n)?n:Me}catch(t){return Me}})(t))),i=(0,o.useCallback)((e=>{r((t=>{const n=t.hiddenColumns||[];return{hiddenColumns:n.includes(e)?n.filter((t=>t!==e)):[...n,e]}}))}),[]);return(0,o.useEffect)((()=>{t.setItem("uiState",JSON.stringify(n))}),[t,n]),{uiState:n,toggleHiddenColumn:i}},Se="selectedTraceId",Ie=[{id:a.se.timestampMs,desc:!0}],Ae=e=>{var t;let{experimentIds:n,runUuid:l,loggedModelId:d,disabledColumns:u}=e;const p=(0,o.useRef)(void 0),[m,g]=(0,o.useState)(""),[f,v]=(0,o.useState)(Ie),[y,C]=(0,o.useState)({}),[b,_]=(()=>{var e;const[t,n]=(0,x.ok)(),r=null!==(e=t.get(Se))&&void 0!==e?e:void 0,i=(0,o.useCallback)((e=>{n((t=>void 0===e?(t.delete(Se),t):(t.set(Se,e),t)))}),[n]);return[r,i]})(),{traces:w,loading:Y,error:I,hasNextPage:A,hasPreviousPage:E,fetchNextPage:k,fetchPrevPage:R,refreshCurrentPage:T}=h({experimentIds:n,sorting:f,filter:m,runUuid:l,loggedModelId:d}),D=(0,o.useCallback)((e=>{let{request_id:t}=e;return _(t)}),[_]),L=(0,o.useCallback)((()=>{k(),C({})}),[k]),F=(0,o.useCallback)((()=>{R(),C({})}),[R]),H=l?"mlflow.run.traces":"mlflow.experiment_page.traces";(0,o.useEffect)((()=>{window.clearTimeout(p.current);const e=async()=>{Y||E||(await T(!0),window.clearTimeout(p.current),p.current=window.setTimeout(e,3e4))};return p.current=window.setTimeout(e,3e4),()=>window.clearTimeout(p.current)}),[T,Y,E]);const{theme:N}=(0,i.a)(),O=(0,o.useMemo)((()=>{if(b)return w.find((e=>e.request_id===b))}),[b,w]),{uiState:K,toggleHiddenColumn:P}=Ye(n),z=(0,o.useMemo)((()=>(0,c.uniq)((0,c.compact)(w.flatMap((e=>{var t;return null===(t=e.tags)||void 0===t?void 0:t.map((e=>e.key))}))))),[w]),{showEditTagsModalForTrace:U,EditTagsModal:B}=(e=>{let{onSuccess:t,existingTagKeys:n=[]}=e;const{showEditTagsModal:r,EditTagsModal:i}=(0,ge.Q)({saveTagsHandler:async(e,t,n)=>{if(!e.traceRequestId)return;const r=e.traceRequestId,i=n.filter((e=>{let{key:n,value:r}=e;return!t.some((e=>{let{key:t,value:i}=e;return t===n&&r===i}))})),o=t.filter((e=>{let{key:t}=e;return!n.some((e=>{let{key:n}=e;return t===n}))})),a=Promise.all([...i.map((e=>{let{key:t,value:n}=e;return s.x.setExperimentTraceTag(r,t,n)})),...o.map((e=>{let{key:t}=e;return s.x.deleteExperimentTraceTag(r,t)}))]);return a},valueRequired:!0,allAvailableTags:n.filter((e=>e&&!e.startsWith(M.nt))),onSuccess:t});return{showEditTagsModalForTrace:(0,o.useCallback)((e=>{var t;if(!e.request_id)return;const n=(null===(t=e.tags)||void 0===t?void 0:t.filter((e=>{let{key:t}=e;return t&&!t.startsWith(M.nt)})))||[];r({traceRequestId:e.request_id,tags:n||[]})}),[r]),EditTagsModal:i}})({onSuccess:()=>T(!0),existingTagKeys:z}),j=""!==m,W=w.some((e=>!(0,c.isNil)((0,a.oj)(e)))),G=(0,o.useMemo)((()=>W?[]:[a.se.totalTokens]),[W]),$=(0,o.useMemo)((()=>[...null!==u&&void 0!==u?u:[],...G]),[u,G]),V=(0,o.useMemo)((()=>{var e;return[...null!==(e=K.hiddenColumns)&&void 0!==e?e:[],...$]}),[K,$]);return(0,S.FD)("div",{css:(0,r.AH)({display:"flex",flexDirection:"column",gap:N.spacing.sm,height:"100%",overflow:"hidden"},""),children:[(0,S.Y)(_e,{experimentIds:n,filter:m,onChangeFilter:g,hiddenColumns:null!==(t=K.hiddenColumns)&&void 0!==t?t:[],disabledColumns:$,toggleHiddenColumn:P,rowSelection:y,setRowSelection:C,refreshTraces:T,baseComponentId:H}),(0,S.Y)(le,{experimentIds:n,runUuid:l,traces:w,loading:Y,error:I,onTraceClicked:D,onTraceTagsEdit:U,hasNextPage:A,hasPreviousPage:E,onPreviousPage:F,onNextPage:L,onTagsUpdated:T,usingFilters:j,onResetFilters:()=>g(""),hiddenColumns:V,disableTokenColumn:!W,setSorting:e=>{if((0,c.isFunction)(e))return v((t=>{const n=e(t),r=t[0];return n&&0!==n.length||!r?n:[{id:r.id,desc:!r.desc}]}))},sorting:f,rowSelection:y,setRowSelection:C,baseComponentId:H}),b&&(0,S.Y)(he,{traceInfo:O,loadingTraceInfo:Y,requestId:b,onClose:()=>_(void 0)}),B]})}},80171:function(e,t,n){"use strict";n.d(t,{Ab:function(){return y},CF:function(){return h},Db:function(){return m},Mq:function(){return u},Nh:function(){return o},YO:function(){return v},_H:function(){return g},cS:function(){return a},dY:function(){return p},h:function(){return d},oj:function(){return c},se:function(){return f},y:function(){return l}});var r=n(69526),i=n(9133);const o="mlflow.traceName",s=(e,t)=>{var n,r;return null===(n=e.request_metadata)||void 0===n||null===(r=n.find((e=>{let{key:n}=e;return n===t})))||void 0===r?void 0:r.value},a=e=>e.length>=250,l=e=>s(e,"mlflow.sourceRun"),c=e=>s(e,"total_tokens"),d=e=>{const t=s(e,"mlflow.traceInputs");if(!(0,i.isNil)(t))try{return JSON.stringify(JSON.parse(t))}catch(n){return t}},u=e=>{const t=s(e,"mlflow.traceOutputs");if(!(0,i.isNil)(t))try{return JSON.stringify(JSON.parse(t))}catch(n){return t}},p=(e,t)=>{var n,r;return null===(n=e.tags)||void 0===n||null===(r=n.find((e=>{let{key:n}=e;return n===t})))||void 0===r?void 0:r.value},m=e=>p(e,o)||e.request_id,h=["timestamp_ms"],g="select";let f=function(e){return e.requestId="request_id",e.traceName="traceName",e.timestampMs="timestamp_ms",e.inputs="inputs",e.outputs="outputs",e.runName="runName",e.totalTokens="total_tokens",e.source="source",e.latency="latency",e.tags="tags",e.status="status",e}({});const v={[f.requestId]:(0,r.zR)({id:"0HqSXX",defaultMessage:"Request ID"}),[f.traceName]:(0,r.zR)({id:"60C/WF",defaultMessage:"Trace name"}),[f.timestampMs]:(0,r.zR)({id:"V3BImd",defaultMessage:"Time created"}),[f.status]:(0,r.zR)({id:"PBkS4s",defaultMessage:"Status"}),[f.inputs]:(0,r.zR)({id:"TQZ+X6",defaultMessage:"Request"}),[f.outputs]:(0,r.zR)({id:"pHAqL+",defaultMessage:"Response"}),[f.runName]:(0,r.zR)({id:"yltHdB",defaultMessage:"Run name"}),[f.totalTokens]:(0,r.zR)({id:"O5FKCr",defaultMessage:"Tokens"}),[f.source]:(0,r.zR)({id:"eM4+ab",defaultMessage:"Source"}),[f.latency]:(0,r.zR)({id:"6oYktw",defaultMessage:"Execution time"}),[f.tags]:(0,r.zR)({id:"4qVc2+",defaultMessage:"Tags"})},y={UNSET:null,IN_PROGRESS:(0,r.zR)({id:"y56Vz9",defaultMessage:"In progress"}),OK:(0,r.zR)({id:"Mn7Kss",defaultMessage:"OK"}),ERROR:(0,r.zR)({id:"igK5Su",defaultMessage:"Error"})}},18476:function(e,t,n){"use strict";n.d(t,{R:function(){return i},V:function(){return o}});var r=n(32378);const i=(e,t)=>e.digest===t.digest&&e.name===t.name&&e.context===t.context,o=e=>{const{dataset:t}=e,n=t.sourceType;try{if(n===r.Fv.HTTP){const{url:e}=JSON.parse(t.source);return e}if(n===r.Fv.S3){const{uri:e}=JSON.parse(t.source);return e}if(n===r.Fv.HUGGING_FACE){const{path:e}=JSON.parse(t.source);return`https://huggingface.co/datasets/${e}`}}catch{return null}return null}},46536:function(e,t,n){"use strict";n.d(t,{_:function(){return s.A},b:function(){return c}});var r=n(33678),i=n(28741),o=n(31014),s=n(10298),a=n(50111);const l={rotateLeft:(0,a.Y)(r.ejX,{}),rotateRight:(0,a.Y)(r.UfX,{}),zoomIn:(0,a.Y)(r.ADv,{}),zoomOut:(0,a.Y)(r.LoD,{}),close:(0,a.Y)(i.C,{}),left:(0,a.Y)(r.A60,{}),right:(0,a.Y)(r.flY,{})},c=e=>{let{children:t,visible:n,onVisibleChange:r}=e;const{getPopupContainer:c}=(0,o.useContext)(i.V);return(0,a.Y)(s.A.PreviewGroup,{icons:l,preview:{visible:n,getContainer:c,onVisibleChange:e=>r(e)},children:t})}},53606:function(e,t,n){"use strict";n.d(t,{U:function(){return o}});var r=n(31014),i=n(18930);function o(e){return function(e){return(0,i.useSyncExternalStore)(r.useCallback((t=>(e.addEventListener("change",t),()=>{e.removeEventListener("change",t)})),[e]),(()=>e.matches))}(r.useMemo((()=>window.matchMedia(e)),[e]))}},37616:function(e,t,n){"use strict";n.d(t,{z7:function(){return p}});var r=n(17729),i=n(74702),o=n(42346);var s={'code[class*="language-"]':{fontFamily:'Consolas, Menlo, Monaco, "Andale Mono WT", "Andale Mono", "Lucida Console", "Lucida Sans Typewriter", "DejaVu Sans Mono", "Bitstream Vera Sans Mono", "Liberation Mono", "Nimbus Mono L", "Courier New", Courier, monospace',fontSize:"14px",lineHeight:"1.375",direction:"ltr",textAlign:"left",whiteSpace:"pre",wordSpacing:"normal",wordBreak:"normal",MozTabSize:"4",OTabSize:"4",tabSize:"4",WebkitHyphens:"none",MozHyphens:"none",msHyphens:"none",hyphens:"none",background:"#2a2734",color:"#5DFAFC"},'pre[class*="language-"]':{fontFamily:'Consolas, Menlo, Monaco, "Andale Mono WT", "Andale Mono", "Lucida Console", "Lucida Sans Typewriter", "DejaVu Sans Mono", "Bitstream Vera Sans Mono", "Liberation Mono", "Nimbus Mono L", "Courier New", Courier, monospace',fontSize:"14px",lineHeight:"1.375",direction:"ltr",textAlign:"left",whiteSpace:"pre",wordSpacing:"normal",wordBreak:"normal",MozTabSize:"4",OTabSize:"4",tabSize:"4",WebkitHyphens:"none",MozHyphens:"none",msHyphens:"none",hyphens:"none",background:"#2a2734",color:"#5DFAFC",padding:"1em",margin:".5em 0",overflow:"auto"},'pre > code[class*="language-"]':{fontSize:"1em"},'pre[class*="language-"]::-moz-selection':{textShadow:"none",background:"#6a51e6"},'pre[class*="language-"] ::-moz-selection':{textShadow:"none",background:"#6a51e6"},'code[class*="language-"]::-moz-selection':{textShadow:"none",background:"#6a51e6"},'code[class*="language-"] ::-moz-selection':{textShadow:"none",background:"#6a51e6"},'pre[class*="language-"]::selection':{textShadow:"none",background:"#6a51e6"},'pre[class*="language-"] ::selection':{textShadow:"none",background:"#6a51e6"},'code[class*="language-"]::selection':{textShadow:"none",background:"#6a51e6"},'code[class*="language-"] ::selection':{textShadow:"none",background:"#6a51e6"},':not(pre) > code[class*="language-"]':{padding:".1em",borderRadius:".3em"},comment:{color:"#6c6783"},prolog:{color:"#6c6783"},doctype:{color:"#6c6783"},cdata:{color:"#6c6783"},punctuation:{color:"#6c6783"},namespace:{Opacity:".7"},tag:{color:"#3AACE2"},operator:{color:"#3AACE2"},number:{color:"#3AACE2"},property:{color:"#5DFAFC"},function:{color:"#5DFAFC"},"tag-id":{color:"#eeebff"},selector:{color:"#eeebff"},"atrule-id":{color:"#eeebff"},"code.language-javascript":{color:"#c4b9fe"},"attr-name":{color:"#c4b9fe"},"code.language-css":{color:"#ffffff"},"code.language-scss":{color:"#ffffff"},boolean:{color:"#ffffff"},string:{color:"#ffffff"},entity:{color:"#ffffff",cursor:"help"},url:{color:"#ffffff"},".language-css .token.string":{color:"#ffffff"},".language-scss .token.string":{color:"#ffffff"},".style .token.string":{color:"#ffffff"},"attr-value":{color:"#ffffff"},keyword:{color:"#ffffff"},control:{color:"#ffffff"},directive:{color:"#ffffff"},unit:{color:"#ffffff"},statement:{color:"#ffffff"},regex:{color:"#ffffff"},atrule:{color:"#ffffff"},placeholder:{color:"#ffffff"},variable:{color:"#ffffff"},deleted:{textDecoration:"line-through"},inserted:{borderBottom:"1px dotted #eeebff",textDecoration:"none"},italic:{fontStyle:"italic"},important:{fontWeight:"bold",color:"#c4b9fe"},bold:{fontWeight:"bold"},"pre > code.highlight":{Outline:".4em solid #8a75f5",OutlineOffset:".4em"},".line-numbers.line-numbers .line-numbers-rows":{borderRightColor:"#2c2937"},".line-numbers .line-numbers-rows > span:before":{color:"#3c3949"},".line-highlight.line-highlight":{background:"linear-gradient(to right, rgba(224, 145, 66, 0.2) 70%, rgba(224, 145, 66, 0))"}};var a={'code[class*="language-"]':{textAlign:"left",whiteSpace:"pre",wordSpacing:"normal",wordBreak:"normal",wordWrap:"normal",color:"rgb(77, 77, 76)",background:"#fafafa",fontFamily:"Monaco, Menlo, Ubuntu Mono, Consolas, source-code-pro, monospace",fontSize:"12px",lineHeight:"1.5em",MozTabSize:"4",OTabSize:"4",tabSize:"4",WebkitHyphens:"none",MozHyphens:"none",msHyphens:"none",hyphens:"none"},'pre[class*="language-"]':{textAlign:"left",whiteSpace:"pre",wordSpacing:"normal",wordBreak:"normal",wordWrap:"normal",color:"rgb(77, 77, 76)",background:"#fafafa",fontFamily:"Monaco, Menlo, Ubuntu Mono, Consolas, source-code-pro, monospace",fontSize:"12px",lineHeight:"1.5em",MozTabSize:"4",OTabSize:"4",tabSize:"4",WebkitHyphens:"none",MozHyphens:"none",msHyphens:"none",hyphens:"none",overflow:"auto",position:"relative",margin:"0.5em 0",padding:"1.25em 1em"},'code[class*="language-"]::-moz-selection':{background:"#cceae7",color:"#263238"},'pre[class*="language-"]::-moz-selection':{background:"#cceae7",color:"#263238"},'code[class*="language-"] ::-moz-selection':{background:"#cceae7",color:"#263238"},'pre[class*="language-"] ::-moz-selection':{background:"#cceae7",color:"#263238"},'code[class*="language-"]::selection':{background:"#cceae7",color:"#263238"},'pre[class*="language-"]::selection':{background:"#cceae7",color:"#263238"},'code[class*="language-"] ::selection':{background:"#cceae7",color:"#263238"},'pre[class*="language-"] ::selection':{background:"#cceae7",color:"#263238"},':not(pre) > code[class*="language-"]':{whiteSpace:"normal",borderRadius:"0.2em",padding:"0.1em"},".language-css > code":{color:"#f5871f"},".language-sass > code":{color:"#f5871f"},".language-scss > code":{color:"#f5871f"},'[class*="language-"] .namespace':{Opacity:"0.7"},atrule:{color:"#7c4dff"},"attr-name":{color:"#39adb5"},"attr-value":{color:"#f6a434"},attribute:{color:"#f6a434"},boolean:{color:"#7c4dff"},builtin:{color:"#39adb5"},cdata:{color:"#39adb5"},char:{color:"#39adb5"},class:{color:"#39adb5"},"class-name":{color:"#6182b8"},comment:{color:"#8e908c"},constant:{color:"#7c4dff"},deleted:{color:"#e53935"},doctype:{color:"#aabfc9"},entity:{color:"#e53935"},function:{color:"#4271ae"},hexcode:{color:"#f5871f"},id:{color:"#7c4dff",fontWeight:"bold"},important:{color:"#7c4dff",fontWeight:"bold"},inserted:{color:"#39adb5"},keyword:{color:"#8959a8"},number:{color:"#f5871f"},operator:{color:"#3e999f"},prolog:{color:"#aabfc9"},property:{color:"#39adb5"},"pseudo-class":{color:"#f6a434"},"pseudo-element":{color:"#f6a434"},punctuation:{color:"rgb(77, 77, 76)"},regex:{color:"#6182b8"},selector:{color:"#e53935"},string:{color:"#3ba85f"},symbol:{color:"#7c4dff"},tag:{color:"#e53935"},unit:{color:"#f5871f"},url:{color:"#e53935"},variable:{color:"#c72d4c"}},l=n(9133),c=n(50111);r.A.registerLanguage("python",i.A),r.A.registerLanguage("json",o.A);const d="24px",u={light:a,duotoneDark:s};function p(e){let{theme:t="light",language:n,actions:i,style:o,children:s,showLineNumbers:a,lineNumberStyle:p,wrapLongLines:m}=e;const h={border:"none",borderRadius:0,margin:0,padding:d,...o};return(0,c.Y)(r.A,{showLineNumbers:a,lineNumberStyle:p,language:n,style:u[t],customStyle:h,codeTagProps:{style:(0,l.pick)(o,"backgroundColor")},wrapLongLines:m,children:s})}},47790:function(){},63779:function(){},77199:function(){}}]);
//# sourceMappingURL=493.5a5d8ac1.chunk.js.map